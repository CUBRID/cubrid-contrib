-- File Open : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid_daemon\xml\paramfolder.xml


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid_daemon\xml\paramfolder.xml
-- Query    : select
-- Query Id : findFolder

		SELECT TO_CHAR(SYSDATE, 'YYYY-MM-DD')||'T'||TO_CHAR(SYSDATE, 'HH24:MI:SS')  CUR_SYS_DATE,		       F.CLSS_DIV_CD, C0.COM_CD_NM CLSS_DIV_NM, F.CLSS_ID, 		       F.CREAT_SYS_FOLDER_ID,			   F.TAKE_YYYY, F.TAKE_YYYY_SNO,		       F.CREAT_SYS_CD, C1.COM_CD_NM CREAT_SYS_NM,			   F.ORG_CD, O.FULL_ORG_NM ORG_NM,			   F.CREAT_YYYY, F.FOLDER_REG_SEQ, F.HO_NO, F.CLSS_NM, 		       NVL(F.TITLE, ' ') TITLE, 			   RTRIM(NVL(F.SUB_TITLE, ' ')) SUB_TITLE, 			   RTRIM(NVL(F.CORCT_TITLE, ' ')) CORCT_TITLE,			   F.FOLDER_TYPE_DIV_CD, C2.COM_CD_NM FOLDER_TYPE_DIV_NM,			   F.ETC_FOLDER_TYPE, 			   F.FOLDER_DETL_TYPE_CD, C3.COM_CD_NM FOLDER_DETL_TYPE_NM,			   F.CREAT_PURPS, F.SUMRY, F.ADJST_DESCR,			   F.MEDIA_FORMAT, NVL(C4.COM_CD_NM,'') MEDIA_FORMAT_NM,			   NVL(C10.COM_CD_NM, '') MEDIUM,			   NVL(F.FOLDER_SIZE,0) FOLDER_SIZE, 			   F.RECORD_TOT_PAGE_CNT, F.RECORD_REG_CNT, F.EFILE_CNT, 			   F.NEW_DIV_CD, NVL(C5.COM_CD_NM,'') NEW_DIV_NM,			   F.OLD_FOLDER_CREAT_ORG_NM, F.OLD_FOLDER_CLSS_NO,			   F.OLD_PRESV_TERM_CD, C9.COM_CD_NM OLD_PRESV_TERM_NM,			   				DECODE(F.FOLDER_START_DTIME, null, '',(			   DECODE(F.CREAT_SYS_CD,'04',DECODE(F.PERIOD_FROM_DT, NULL, '',TO_CHAR(cast(F.PERIOD_FROM_DT AS datetime), 'YYYY-MM-DD')			   ||'T'||TO_CHAR(cast(F.PERIOD_FROM_DT AS datetime), 'HH24:MI:SS')),			   DECODE(F.FOLDER_START_DTIME, NULL, '',TO_CHAR(cast(F.FOLDER_START_DTIME AS datetime), 'YYYY-MM-DD')			   ||'T'||TO_CHAR(cast(F.FOLDER_START_DTIME AS datetime), 'HH24:MI:SS')))))  FOLDER_START_DTIME,			   DECODE(F.FOLDER_CLOSE_DTIME, null, '',(			   DECODE(F.CREAT_SYS_CD,'04',DECODE(F.PERIOD_TO_DT, NULL, '',TO_CHAR(cast(F.PERIOD_TO_DT AS datetime), 'YYYY-MM-DD')			   ||'T'||TO_CHAR(cast(F.PERIOD_TO_DT AS datetime), 'HH24:MI:SS')),			   DECODE(F.FOLDER_CLOSE_DTIME, NULL, '',TO_CHAR(cast(F.FOLDER_CLOSE_DTIME AS datetime), 'YYYY-MM-DD')			   ||'T'||TO_CHAR(cast(F.FOLDER_CLOSE_DTIME AS datetime), 'HH24:MI:SS')))))  FOLDER_CLOSE_DTIME,			   DECODE(F.FUNSH_END_DTIME, null, '', TO_CHAR(cast(F.FUNSH_END_DTIME AS datetime), 'YYYY-MM-DD')			   ||'T'||TO_CHAR(cast(F.FUNSH_END_DTIME AS datetime), 'HH24:MI:SS'))							   FUNSH_END_DTIME,			   F.FUNSH_RSN, 		       F.PRESV_TERM_CD, C6.COM_CD_NM PRESV_TERM_NM,			   F.PRESV_TERM_FIX_RSN, 			   F.PRESV_METHOD_CD, C7.COM_CD_NM PRESV_METHOD_NM,			   F.PRESV_AREA_CD, C8.COM_CD_NM PRESV_AREA_NM,			   F.PRESV_LOC, F.PRESV_DUTY_CHRGR_NM,			   F.OPER_READ_RANGE_CD READ_RANGE, NVL(COR.COM_CD_NM,' ') READ_RANGE_NM,  			   NVL(F.TAKE_TAKOVR_DIV_CD, '0') TAKE_TAKOVR_DIV_CD, 			   F.TAKE_TAKOVR_ORG_CD, TKO.FULL_ORG_NM TAKE_TAKOVR_ORG_NM,			   				DECODE(F.TAKE_TAKOVR_YMD, null, '', TO_CHAR(cast(F.TAKE_TAKOVR_YMD AS datetime), 'YYYY-MM-DD')			   ||'T'||TO_CHAR(cast(F.TAKE_TAKOVR_YMD AS datetime), 'HH24:MI:SS'))  TAKE_TAKOVR_YMD							   		  FROM TB_RDFOLDER F		      ,TB_STORG O		      ,TB_STORG TKO			  ,TB_ZZCOMCD C0			  ,TB_ZZCOMCD C1			  ,TB_ZZCOMCD C2			  ,TB_ZZCOMCD C3			  ,TB_ZZCOMCD C4			  ,TB_ZZCOMCD C5			  ,TB_ZZCOMCD C6			  ,TB_ZZCOMCD C7			  ,TB_ZZCOMCD C8			  ,TB_ZZCOMCD C9			  ,TB_ZZCOMCD COR			  ,TB_ZZCOMCD C10		 WHERE F.RECORD_CENTER_ID = '1'		   AND F.FOLDER_ID = '1'		   AND F.RECORD_CENTER_ID = O.RECORD_CENTER_ID		   AND F.ORG_CD = O.ORG_CD		   AND F.OPER_READ_RANGE_CD = COR.COM_CD(+)		   AND COR.COM_TYPE_CD(+) = 'RD53' 		   AND F.RECORD_CENTER_ID = TKO.RECORD_CENTER_ID(+)		   AND F.TAKE_TAKOVR_ORG_CD = TKO.ORG_CD(+)		   AND F.CLSS_DIV_CD = C0.COM_CD		   AND C0.COM_TYPE_CD = 'RD19' 		   AND F.CREAT_SYS_CD = C1.COM_CD		   AND C1.COM_TYPE_CD = 'RD17' 		   AND F.FOLDER_TYPE_DIV_CD = C2.COM_CD(+)		   AND C2.COM_TYPE_CD(+) = 'RD01' 		   AND F.FOLDER_DETL_TYPE_CD = C3.COM_CD(+)		   AND C3.COM_TYPE_CD(+) = 'RD41' 		   AND F.MEDIA_FORMAT = C4.COM_CD(+)		   AND C4.COM_TYPE_CD(+) = 'RD15' 		   AND F.NEW_DIV_CD = C5.COM_CD(+)		   AND C5.COM_TYPE_CD(+) = 'RD27' 		   AND F.PRESV_TERM_CD = C6.COM_CD(+)		   AND C6.COM_TYPE_CD(+) = 'RD07' 		   AND F.PRESV_METHOD_CD = C7.COM_CD(+)		   AND C7.COM_TYPE_CD(+) = 'RD09' 		   AND F.PRESV_AREA_CD = C8.COM_CD(+)		   AND C8.COM_TYPE_CD(+) = 'RD10' 		   AND F.OLD_PRESV_TERM_CD = C9.COM_CD(+)		   AND C9.COM_TYPE_CD(+) = 'RD07' 		   AND F.MEDIUM = C10.COM_CD(+)		   AND C10.COM_TYPE_CD(+) = 'RD16';


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid_daemon\xml\paramfolder.xml
-- Query    : select
-- Query Id : findRecordList

		SELECT R.CREAT_SYS_CD || R.ORG_CD || R.CREAT_YYYY || TRIM(TO_CHAR(NVL(R.CREAT_REG_NO,0), '0000000000000')) || R.DTCH_REG_NO RECORD_ID,		       R.RECORD_DETL_TYPE_CD,  C.COM_CD_NM RECORD_DETL_TYPE_NM		  FROM TB_RDRECORD R			  ,TB_ZZCOMCD C		 WHERE R.RECORD_CENTER_ID = '1'		   AND R.FOLDER_ID = '1'		   AND R.RECORD_DETL_TYPE_CD = C.COM_CD		   AND C.COM_TYPE_CD = 'RD03' 		 ORDER BY R.TAKE_YYYY_SNO	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid_daemon\xml\paramfolder.xml
-- Query    : select
-- Query Id : findBisClssList

		SELECT BIS_CLSS_ID, BIS_CLSS_NM, NVL(LEVL, 0) LEVL		  FROM TB_ZZBISCLSS START WITH BIS_CLSS_ID = '1'			   CONNECT BY PRIOR UPPER_BIS_CLSS_ID = BIS_CLSS_ID 		 ORDER BY NVL(LEVL, 0);


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid_daemon\xml\paramfolder.xml
-- Query    : select
-- Query Id : findUnitList

		SELECT LRG_CD, LRG_NM, MID_CD, MID_NM, SML_CD, SML_NM		  FROM TB_ZZUNIT		 WHERE RECORD_CENTER_ID = '1'		   AND UNIT_CD = '1';


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid_daemon\xml\paramfolder.xml
-- Query    : select
-- Query Id : findIndexList

		SELECT KEYWD_LEVL, KEYWD 		  FROM TB_RDFOLDERKEYWD		 WHERE RECORD_CENTER_ID = '1'		   AND FOLDER_ID = '1'		   AND KEYWD IS NOT NULL		 ORDER BY KEYWD_LEVL;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid_daemon\xml\paramfolder.xml
-- Query    : select
-- Query Id : findCreatList

		SELECT A.AGENT_TYPE_CD		       ,C1.COM_CD_NM AGENT_TYPE_NM			   ,NVL(A.AGENT_ID, ' ') AGENT_ID 			   ,NVL(A.AGENT_NM, ' ') AGENT_NM 			   ,NVL(A.AGENT_ORG_CD, ' ') AGENT_ORG_CD 			   ,NVL(A.AGENT_ORG_NM, ' ') AGENT_ORG_NM			   ,NVL(A.AGENT_POS_RANK_NM, ' ') AGENT_POS_RANK_NM			   ,A.DUTY_TYPE_CD 			   ,C2.COM_CD_NM DUTY_TYPE_NM			   				,DECODE(A.DUTY_ACT_DTIME, null, '', TO_CHAR(cast(A.DUTY_ACT_DTIME AS datetime), 'YYYY-MM-DD')			   ||'T'||TO_CHAR(cast(A.DUTY_ACT_DTIME AS datetime), 'HH24:MI:SS')) DUTY_ACT_DTIME							   ,NVL(A.OPIN, '') OPIN		  FROM TB_RDFOLDERCREAT A			  ,TB_ZZCOMCD C1			  ,TB_ZZCOMCD C2		 WHERE A.RECORD_CENTER_ID = '1'		   AND A.FOLDER_ID = '1'		   AND A.AGENT_TYPE_CD = C1.COM_CD		   AND C1.COM_TYPE_CD = 'RD12' 		   AND A.DUTY_TYPE_CD = C2.COM_CD		   AND C2.COM_TYPE_CD = 'RD59' 		 ORDER BY A.AGENT_SNO ;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid_daemon\xml\paramfolder.xml
-- Query    : select
-- Query Id : findRelList

		SELECT R.REL_TYPE_CD, C.COM_CD_NM REL_TYPE_NM,			   R.REL_TRGT_ID, R.REL_DESCR		  FROM TB_RDFOLDERREL R			  ,TB_ZZCOMCD C		 WHERE R.RECORD_CENTER_ID = '1'		   AND R.FOLDER_ID = '1'		   AND R.REL_TYPE_CD = C.COM_CD		   AND C.COM_TYPE_CD = 'RD26'  		 ORDER BY R.REL_SEQ 	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid_daemon\xml\paramfolder.xml
-- Query    : select
-- Query Id : findSubList

 		SELECT DECODE(CREAT_SYS_CD, '01', CREAT_SYS_CD || ORG_CD || CLSS_ID || CREAT_YYYY || CREAT_SYS_FOLDER_ID, 		                            '04', CREAT_SYS_CD || ORG_CD || CLSS_ID || CREAT_YYYY || CREAT_SYS_FOLDER_ID, 		                                  CREAT_SYS_CD || ORG_CD || CLSS_ID || CREAT_YYYY || FOLDER_REG_SEQ) FILE_ID,  		       HO_NO SUB_FILE_ID,  		       TITLE SUB_FILE_TITLE,  				DECODE(FOLDER_START_DTIME, null, '', TO_CHAR(cast(FOLDER_START_DTIME AS datetime), 'YYYY-MM-DD')			   ||'T'||TO_CHAR(cast(FOLDER_START_DTIME AS datetime), 'HH24:MI:SS')) DATE_TIME_OPENED,			   DECODE(FOLDER_CLOSE_DTIME, null, '', TO_CHAR(cast(FOLDER_CLOSE_DTIME AS datetime), 'YYYY-MM-DD')			   ||'T'||TO_CHAR(cast(FOLDER_CLOSE_DTIME AS datetime), 'HH24:MI:SS')) DATE_TIME_CLOSED			   		  FROM TB_RDFOLDER		 WHERE RECORD_CENTER_ID = '1'		   AND CREAT_SYS_CD = '1'		   AND ORG_CD = '1'		   AND CLSS_DIV_CD = '1'		   AND CLSS_ID = '1'		   AND CREAT_YYYY = '1'		   AND FOLDER_REG_SEQ = '1'		   AND HO_NO != '1' 		 ORDER BY HO_NO	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid_daemon\xml\paramfolder.xml
-- Query    : select
-- Query Id : findCntChkList

 		SELECT C.WORK_USER_ID, U.USER_NM, U.POS, U.RANK,			   P.ORG_CD DEPT_CD, P.DEPT_NM,				DECODE(D.CHECK_YMD, null, '', TO_CHAR(cast(D.CHECK_YMD AS datetime), 'YYYY-MM-DD')			   ||'T'||TO_CHAR(cast(D.CHECK_YMD AS datetime), 'HH24:MI:SS')) CHECK_YMD,			    			   D.DEFCT_FLAG, D.HANDL_RSLT_CONT		  FROM TB_SRCNTCHKDETL D			  ,TB_SRCNTCHK C		      ,TB_STUSER U			  ,TB_STDEPT P		 WHERE D.RECORD_CENTER_ID = '1'		   AND D.FOLDER_ID = '1'		   AND D.RECORD_CENTER_ID = C.RECORD_CENTER_ID 		   AND D.CNTCHK_ID = C.CNTCHK_ID 		   AND C.CHECK_STATE_CD = '2'		   AND D.RECORD_CENTER_ID = U.RECORD_CENTER_ID		   AND C.WORK_USER_ID = U.USER_ID		   AND U.RECORD_CENTER_ID = P.RECORD_CENTER_ID		   AND U.DEPT_CD = P.DEPT_CD 		 ORDER BY C.SNO;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid_daemon\xml\paramfolder.xml
-- Query    : select
-- Query Id : findOptiList

 		SELECT O.WORK_USER_ID,			   U.USER_NM,			   U.POS, U.RANK,			   P.ORG_CD DEPT_CD, P.DEPT_NM,				DECODE(D.WORK_DTIME, null, '', TO_CHAR(cast(D.WORK_DTIME AS datetime), 'YYYY-MM-DD')			   ||'T'||TO_CHAR(cast(D.WORK_DTIME AS datetime), 'HH24:MI:SS')) WORK_DTIME,			   			   O.STORE_STATE_CD, C0.COM_CD_NM STORE_STATE_NM,			   O.MEDIUM_ID, M.MEDIUM_NM, 			   NVL(O.STORE_SIZE,0) STORE_SIZE, NVL(O.STORE_CNT,0) STORE_CNT		  FROM TB_SROPTIDISK O		      ,TB_SROPTIDISKDETL D			  ,TB_STUSER U			  ,TB_STDEPT P			  ,TB_ZZCOMCD C0			  ,TB_STMEDIUM M		 WHERE D.RECORD_CENTER_ID = '1'		   AND D.FOLDER_ID = '1'		   AND O.RECORD_CENTER_ID = D.RECORD_CENTER_ID 		   AND O.OPTI_DISK_ID = D.OPTI_DISK_ID 		   AND O.STORE_STATE_CD = '3' 		   AND O.STORE_STATE_CD = C0.COM_CD		   AND C0.COM_TYPE_CD = 'SR03'		   AND O.RECORD_CENTER_ID = M.RECORD_CENTER_ID 		   AND O.MEDIUM_ID = M.MEDIUM_ID		   AND D.RECORD_CENTER_ID = U.RECORD_CENTER_ID		   AND O.WORK_USER_ID = U.USER_ID		   AND U.RECORD_CENTER_ID = P.RECORD_CENTER_ID		   AND U.DEPT_CD = P.DEPT_CD  		 ORDER BY O.OPEN_DIV_SYM;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid_daemon\xml\paramfolder.xml
-- Query    : select
-- Query Id : findDiscuList

 		SELECT DU.DISCU_USER_ID WORK_USER_ID, 			   U.USER_NM,			   U.POS, U.RANK,			   P.ORG_CD DEPT_CD, P.DEPT_NM,				DECODE(DU.DISCU_USER_EVAL_YMD, null, '', TO_CHAR(cast(DU.DISCU_USER_EVAL_YMD AS datetime), 'YYYY-MM-DD')			   ||'T'||TO_CHAR(cast(DU.DISCU_USER_EVAL_YMD AS datetime), 'HH24:MI:SS')) WORK_DTIME,			   			   DU.DISCU_USER_EVAL_DIV_CD, C0.COM_CD_NM DISCU_USER_EVAL_DIV_NM, 			   DU.DISCU_USER_EVAL_RSN 		  FROM TB_DFDISUSEEVAL DU			  ,TB_STUSER U			  ,TB_STDEPT P			  ,TB_ZZCOMCD C0		 WHERE DU.RECORD_CENTER_ID = '1'		   AND DU.FOLDER_ID = '1' 		   AND DU.DISCU_USER_EVAL_DIV_CD = C0.COM_CD		   AND C0.COM_TYPE_CD = 'DF02'		   AND DU.RECORD_CENTER_ID = U.RECORD_CENTER_ID		   AND DU.DISCU_USER_ID = U.USER_ID		   AND U.RECORD_CENTER_ID = P.RECORD_CENTER_ID		   AND U.DEPT_CD = P.DEPT_CD  		 ORDER BY DU.DISCU_USER_EVAL_YMD;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid_daemon\xml\paramfolder.xml
-- Query    : select
-- Query Id : findReadRangList

 		SELECT O.ORG_CD DEPT_CD, O.FULL_ORG_NM DEPT_NM,						DECODE(RR.OPIN_REG_YMD, null, '', TO_CHAR(cast(RR.OPIN_REG_YMD AS datetime), 'YYYY-MM-DD')			   ||'T'||TO_CHAR(cast(RR.OPIN_REG_YMD AS datetime), 'HH24:MI:SS')) WORK_DTIME,			   			   RR.OPER_READ_RANGE_BEF, C0.COM_CD_NM OPER_READ_RANGE_BEF_NM,			   RR.OPER_READ_RANGE_AFT, C1.COM_CD_NM OPER_READ_RANGE_AFT_NM,			   RR.HANDL_ORG_OPIN		  FROM TB_RDFOLDERREADRANG RR			  ,TB_STORG O			  ,TB_ZZCOMCD C0			  ,TB_ZZCOMCD C1		 WHERE RR.RECORD_CENTER_ID = '1'		   AND RR.FOLDER_ID = '1' 		   AND RR.OPER_READ_RANGE_BEF = C0.COM_CD		   AND C0.COM_TYPE_CD = 'RD53' 		   AND RR.OPER_READ_RANGE_AFT = C1.COM_CD		   AND C1.COM_TYPE_CD = 'RD53'		   AND RR.RECORD_CENTER_ID = O.RECORD_CENTER_ID		   AND RR.HANDL_ORG_CD = O.ORG_CD  		 ORDER BY RR.CHNG_HIST_NO	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid_daemon\xml\paramfolder.xml
-- Query    : select
-- Query Id : findDisHstList

 		SELECT O.ORG_CD DEPT_CD, O.FULL_ORG_NM DEPT_NM,						DECODE(DU.CNCL_EVAL_YMD, null, '', TO_CHAR( cast(DU.CNCL_EVAL_YMD AS datetime), 'YYYY-MM-DD')			   ||'T'||TO_CHAR( cast(DU.CNCL_EVAL_YMD AS datetime), 'HH24:MI:SS')) WORK_DTIME,			   			   DU.LAST_DISUSE_EVAL_DIV_CD,			   DU.SUSPN_DETL_CD, C0.COM_CD_NM SUSPN_DETL_NM,			   DU.REFIX_BEF_PRESV_TERM, C1.COM_CD_NM REFIX_BEF_PRESV_TERM_NM,			   DU.REFIX_AFT_PRESV_TERM, C2.COM_CD_NM REFIX_AFT_PRESV_TERM_NM,			   DU.REFIX_AFT_RSN		  FROM TB_DFDISUSEHIST DU			  ,TB_STORG O			  ,TB_ZZCOMCD C0			  ,TB_ZZCOMCD C1			  ,TB_ZZCOMCD C2		 WHERE DU.RECORD_CENTER_ID = '1'		   AND DU.FOLDER_ID = '1'		   AND DU.LAST_DISUSE_EVAL_DIV_CD IN ('2','3') 		   AND DU.SUSPN_DETL_CD = C0.COM_CD		   AND C0.COM_TYPE_CD = 'DF07' 		   AND DU.REFIX_BEF_PRESV_TERM = C1.COM_CD		   AND C1.COM_TYPE_CD = 'RD07' 		   AND DU.REFIX_AFT_PRESV_TERM = C2.COM_CD		   AND C2.COM_TYPE_CD = 'RD07'		   AND DU.RECORD_CENTER_ID = O.RECORD_CENTER_ID		   AND DU.ORG_CD = O.ORG_CD  		 ORDER BY DU.LAST_DISUSE_EVAL_DIV_CD, DU.CNCL_EVAL_YMD	;


-- File Close : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid_daemon\xml\paramfolder.xml
