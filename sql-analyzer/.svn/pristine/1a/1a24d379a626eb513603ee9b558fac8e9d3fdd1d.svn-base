-- File Open : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\stat\UsageCurState.xml


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\stat\UsageCurState.xml
-- Query    : select
-- Query Id : findUsageCurStateSrchStatDayTotal

		SELECT '' AS org_cd			, 'ÃÑ°è' AS org_nm			, 'ÃÑ°è' AS org_abbr_nm		    , COUNT(1) AS total		    , NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='01' THEN 1 ELSE 0 END)),0) AS sum01		    , NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='02' THEN 1 ELSE 0 END)),0) AS sum02		    , NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='03' THEN 1 ELSE 0 END)),0) AS sum03		    , NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='04' THEN 1 ELSE 0 END)),0) AS sum04		    , NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='05' THEN 1 ELSE 0 END)),0) AS sum05		    , NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='06' THEN 1 ELSE 0 END)),0) AS sum06		    , NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='07' THEN 1 ELSE 0 END)),0) AS sum07		    , NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='08' THEN 1 ELSE 0 END)),0) AS sum08		    , NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='09' THEN 1 ELSE 0 END)),0) AS sum09		    , NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='10' THEN 1 ELSE 0 END)),0) AS sum10		    , NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='11' THEN 1 ELSE 0 END)),0) AS sum11		    , NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='12' THEN 1 ELSE 0 END)),0) AS sum12		    , NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='13' THEN 1 ELSE 0 END)),0) AS sum13		    , NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='14' THEN 1 ELSE 0 END)),0) AS sum14		    , NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='15' THEN 1 ELSE 0 END)),0) AS sum15		    , NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='16' THEN 1 ELSE 0 END)),0) AS sum16		    , NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='17' THEN 1 ELSE 0 END)),0) AS sum17		    , NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='18' THEN 1 ELSE 0 END)),0) AS sum18		    , NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='19' THEN 1 ELSE 0 END)),0) AS sum19		    , NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='20' THEN 1 ELSE 0 END)),0) AS sum20		    , NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='21' THEN 1 ELSE 0 END)),0) AS sum21		    , NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='22' THEN 1 ELSE 0 END)),0) AS sum22		    , NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='23' THEN 1 ELSE 0 END)),0) AS sum23		    , NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='24' THEN 1 ELSE 0 END)),0) AS sum24		    , NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='25' THEN 1 ELSE 0 END)),0) AS sum25		    , NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='26' THEN 1 ELSE 0 END)),0) AS sum26		    , NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='27' THEN 1 ELSE 0 END)),0) AS sum27		    , NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='28' THEN 1 ELSE 0 END)),0) AS sum28		    , NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='29' THEN 1 ELSE 0 END)),0) AS sum29		    , NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='30' THEN 1 ELSE 0 END)),0) AS sum30		    , NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='31' THEN 1 ELSE 0 END)),0) AS sum31		FROM  TB_RDSRCHREADSTAT A		WHERE A.record_center_id = '1'		AND   A.srch_ymd LIKE '1'		AND   A.srch_div_cd = '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\stat\UsageCurState.xml
-- Query    : select
-- Query Id : findUsageCurStateSrchStatDayList

		SELECT B.org_cd			, (SELECT Z.org_nm FROM TB_STORG Z WHERE Z.record_center_id=B.record_center_id AND Z.org_cd=B.org_cd) AS org_nm			, (SELECT Z.org_abbr_nm FROM TB_STORG Z WHERE Z.record_center_id=B.record_center_id AND Z.org_cd=B.org_cd) AS org_abbr_nm			, B.total			, B.sum01, B.sum02, B.sum03, B.sum04, B.sum05, B.sum06, B.sum07, B.sum08, B.sum09, B.sum10			, B.sum11, B.sum12, B.sum13, B.sum14, B.sum15, B.sum16, B.sum17, B.sum18, B.sum19, B.sum20			, B.sum21, B.sum22, B.sum23, B.sum24, B.sum25, B.sum26, B.sum27, B.sum28, B.sum29, B.sum30			, B.sum31		FROM (			SELECT A.record_center_id				, A.org_cd				, COUNT(1) AS total			    , SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='01' THEN 1 ELSE 0 END)) AS sum01			    , SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='02' THEN 1 ELSE 0 END)) AS sum02			    , SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='03' THEN 1 ELSE 0 END)) AS sum03			    , SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='04' THEN 1 ELSE 0 END)) AS sum04			    , SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='05' THEN 1 ELSE 0 END)) AS sum05			    , SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='06' THEN 1 ELSE 0 END)) AS sum06			    , SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='07' THEN 1 ELSE 0 END)) AS sum07			    , SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='08' THEN 1 ELSE 0 END)) AS sum08			    , SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='09' THEN 1 ELSE 0 END)) AS sum09			    , SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='10' THEN 1 ELSE 0 END)) AS sum10			    , SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='11' THEN 1 ELSE 0 END)) AS sum11			    , SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='12' THEN 1 ELSE 0 END)) AS sum12			    , SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='13' THEN 1 ELSE 0 END)) AS sum13			    , SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='14' THEN 1 ELSE 0 END)) AS sum14			    , SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='15' THEN 1 ELSE 0 END)) AS sum15			    , SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='16' THEN 1 ELSE 0 END)) AS sum16			    , SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='17' THEN 1 ELSE 0 END)) AS sum17			    , SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='18' THEN 1 ELSE 0 END)) AS sum18			    , SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='19' THEN 1 ELSE 0 END)) AS sum19			    , SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='20' THEN 1 ELSE 0 END)) AS sum20			    , SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='21' THEN 1 ELSE 0 END)) AS sum21			    , SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='22' THEN 1 ELSE 0 END)) AS sum22			    , SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='23' THEN 1 ELSE 0 END)) AS sum23			    , SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='24' THEN 1 ELSE 0 END)) AS sum24			    , SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='25' THEN 1 ELSE 0 END)) AS sum25			    , SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='26' THEN 1 ELSE 0 END)) AS sum26			    , SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='27' THEN 1 ELSE 0 END)) AS sum27			    , SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='28' THEN 1 ELSE 0 END)) AS sum28			    , SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='29' THEN 1 ELSE 0 END)) AS sum29			    , SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='30' THEN 1 ELSE 0 END)) AS sum30			    , SUM((CASE WHEN SUBSTR(A.srch_ymd,7,2)='31' THEN 1 ELSE 0 END)) AS sum31			FROM  TB_RDSRCHREADSTAT A			WHERE A.record_center_id = '1'			AND   A.srch_ymd LIKE '1'						AND   A.srch_div_cd = '1'			GROUP BY A.record_center_id, A.org_cd		) B		ORDER BY org_nm;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\stat\UsageCurState.xml
-- Query    : select
-- Query Id : findUsageCurStateSrchStatMonthTotal

		SELECT '' AS org_cd			, 'ÃÑ°è' AS org_nm			, 'ÃÑ°è' AS org_abbr_nm		    , COUNT(1) AS total		    , NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,5,2)='01' THEN 1 ELSE 0 END)),0) AS sum01		    , NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,5,2)='02' THEN 1 ELSE 0 END)),0) AS sum02		    , NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,5,2)='03' THEN 1 ELSE 0 END)),0) AS sum03		    , NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,5,2)='04' THEN 1 ELSE 0 END)),0) AS sum04		    , NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,5,2)='05' THEN 1 ELSE 0 END)),0) AS sum05		    , NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,5,2)='06' THEN 1 ELSE 0 END)),0) AS sum06		    , NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,5,2)='07' THEN 1 ELSE 0 END)),0) AS sum07		    , NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,5,2)='08' THEN 1 ELSE 0 END)),0) AS sum08		    , NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,5,2)='09' THEN 1 ELSE 0 END)),0) AS sum09		    , NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,5,2)='10' THEN 1 ELSE 0 END)),0) AS sum10		    , NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,5,2)='11' THEN 1 ELSE 0 END)),0) AS sum11		    , NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,5,2)='12' THEN 1 ELSE 0 END)),0) AS sum12		FROM  TB_RDSRCHREADSTAT A		WHERE A.record_center_id = '1'		AND   A.srch_ymd LIKE '1'				AND   A.srch_div_cd = '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\stat\UsageCurState.xml
-- Query    : select
-- Query Id : findUsageCurStateSrchStatMonthList

		SELECT B.org_cd			, (SELECT Z.org_nm FROM TB_STORG Z WHERE Z.record_center_id=B.record_center_id AND Z.org_cd=B.org_cd) AS org_nm			, (SELECT Z.org_abbr_nm FROM TB_STORG Z WHERE Z.record_center_id=B.record_center_id AND Z.org_cd=B.org_cd) AS org_abbr_nm			, B.total			, B.sum01, B.sum02, B.sum03, B.sum04, B.sum05, B.sum06, B.sum07, B.sum08, B.sum09, B.sum10			, B.sum11, B.sum12		FROM (			SELECT A.record_center_id				, A.org_cd				, COUNT(1) AS total			    , SUM((CASE WHEN SUBSTR(A.srch_ymd,5,2)='01' THEN 1 ELSE 0 END)) AS sum01			    , SUM((CASE WHEN SUBSTR(A.srch_ymd,5,2)='02' THEN 1 ELSE 0 END)) AS sum02			    , SUM((CASE WHEN SUBSTR(A.srch_ymd,5,2)='03' THEN 1 ELSE 0 END)) AS sum03			    , SUM((CASE WHEN SUBSTR(A.srch_ymd,5,2)='04' THEN 1 ELSE 0 END)) AS sum04			    , SUM((CASE WHEN SUBSTR(A.srch_ymd,5,2)='05' THEN 1 ELSE 0 END)) AS sum05			    , SUM((CASE WHEN SUBSTR(A.srch_ymd,5,2)='06' THEN 1 ELSE 0 END)) AS sum06			    , SUM((CASE WHEN SUBSTR(A.srch_ymd,5,2)='07' THEN 1 ELSE 0 END)) AS sum07			    , SUM((CASE WHEN SUBSTR(A.srch_ymd,5,2)='08' THEN 1 ELSE 0 END)) AS sum08			    , SUM((CASE WHEN SUBSTR(A.srch_ymd,5,2)='09' THEN 1 ELSE 0 END)) AS sum09			    , SUM((CASE WHEN SUBSTR(A.srch_ymd,5,2)='10' THEN 1 ELSE 0 END)) AS sum10			    , SUM((CASE WHEN SUBSTR(A.srch_ymd,5,2)='11' THEN 1 ELSE 0 END)) AS sum11			    , SUM((CASE WHEN SUBSTR(A.srch_ymd,5,2)='12' THEN 1 ELSE 0 END)) AS sum12			FROM  TB_RDSRCHREADSTAT A			WHERE A.record_center_id = '1'			AND   A.srch_ymd LIKE '1'						AND   A.srch_div_cd = '1'			GROUP BY A.record_center_id, A.org_cd		) B		ORDER BY org_nm;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\stat\UsageCurState.xml
-- Query    : select
-- Query Id : findUsageCurStateSrchStatYearTotal

		SELECT '' AS org_cd			, 'ÃÑ°è' AS org_nm			, 'ÃÑ°è' AS org_abbr_nm			, NVL((SUM(B.sum01)+SUM(B.sum02)+SUM(B.sum03)+SUM(B.sum04)+SUM(B.sum05)+SUM(B.sum06)+SUM(B.sum07)+SUM(B.sum08)+SUM(B.sum09)+SUM(B.sum10)),0) AS total		    , NVL(SUM(B.sum01),0) AS sum01		    , NVL(SUM(B.sum02),0) AS sum02		    , NVL(SUM(B.sum03),0) AS sum03		    , NVL(SUM(B.sum04),0) AS sum04		    , NVL(SUM(B.sum05),0) AS sum05		    , NVL(SUM(B.sum06),0) AS sum06		    , NVL(SUM(B.sum07),0) AS sum07		    , NVL(SUM(B.sum08),0) AS sum08		    , NVL(SUM(B.sum09),0) AS sum09		    , NVL(SUM(B.sum10),0) AS sum10		FROM (			SELECT NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,1,4)=LPAD(TO_CHAR(TO_NUMBER('1')-9),4,'0') THEN 1 ELSE 0 END)),0) AS sum01				, NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,1,4)=LPAD(TO_CHAR(TO_NUMBER('1')-8),4,'0') THEN 1 ELSE 0 END)),0) AS sum02				, NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,1,4)=LPAD(TO_CHAR(TO_NUMBER('1')-7),4,'0') THEN 1 ELSE 0 END)),0) AS sum03				, NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,1,4)=LPAD(TO_CHAR(TO_NUMBER('1')-6),4,'0') THEN 1 ELSE 0 END)),0) AS sum04				, NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,1,4)=LPAD(TO_CHAR(TO_NUMBER('1')-5),4,'0') THEN 1 ELSE 0 END)),0) AS sum05				, NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,1,4)=LPAD(TO_CHAR(TO_NUMBER('1')-4),4,'0') THEN 1 ELSE 0 END)),0) AS sum06				, NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,1,4)=LPAD(TO_CHAR(TO_NUMBER('1')-3),4,'0') THEN 1 ELSE 0 END)),0) AS sum07				, NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,1,4)=LPAD(TO_CHAR(TO_NUMBER('1')-2),4,'0') THEN 1 ELSE 0 END)),0) AS sum08				, NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,1,4)=LPAD(TO_CHAR(TO_NUMBER('1')-1),4,'0') THEN 1 ELSE 0 END)),0) AS sum09				, NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,1,4)=LPAD(TO_CHAR(TO_NUMBER('1')-0),4,'0') THEN 1 ELSE 0 END)),0) AS sum10			FROM  TB_RDSRCHREADSTAT A			WHERE A.record_center_id = '1'			AND  (SUBSTR(A.srch_ymd,1,4) BETWEEN LPAD(TO_CHAR(TO_NUMBER('1')-9),4,'0') AND '1')						AND   A.srch_div_cd = '1'		) B;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\stat\UsageCurState.xml
-- Query    : select
-- Query Id : findUsageCurStateSrchStatYearList

		SELECT B.org_cd			, (SELECT Z.org_nm FROM TB_STORG Z WHERE Z.record_center_id=B.record_center_id AND Z.org_cd=B.org_cd) AS org_nm			, (SELECT Z.org_abbr_nm FROM TB_STORG Z WHERE Z.record_center_id=B.record_center_id AND Z.org_cd=B.org_cd) AS org_abbr_nm			, NVL((B.sum01+B.sum02+B.sum03+B.sum04+B.sum05+B.sum06+B.sum07+B.sum08+B.sum09+B.sum10),0) total		    , NVL(B.sum01,0) AS sum01		    , NVL(B.sum02,0) AS sum02		    , NVL(B.sum03,0) AS sum03		    , NVL(B.sum04,0) AS sum04		    , NVL(B.sum05,0) AS sum05		    , NVL(B.sum06,0) AS sum06		    , NVL(B.sum07,0) AS sum07		    , NVL(B.sum08,0) AS sum08		    , NVL(B.sum09,0) AS sum09		    , NVL(B.sum10,0) AS sum10		FROM (			SELECT A.record_center_id				, A.org_cd				, NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,1,4)=LPAD(TO_CHAR(TO_NUMBER('1')-9),4,'0') THEN 1 ELSE 0 END)),0) AS sum01				, NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,1,4)=LPAD(TO_CHAR(TO_NUMBER('1')-8),4,'0') THEN 1 ELSE 0 END)),0) AS sum02				, NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,1,4)=LPAD(TO_CHAR(TO_NUMBER('1')-7),4,'0') THEN 1 ELSE 0 END)),0) AS sum03				, NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,1,4)=LPAD(TO_CHAR(TO_NUMBER('1')-6),4,'0') THEN 1 ELSE 0 END)),0) AS sum04				, NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,1,4)=LPAD(TO_CHAR(TO_NUMBER('1')-5),4,'0') THEN 1 ELSE 0 END)),0) AS sum05				, NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,1,4)=LPAD(TO_CHAR(TO_NUMBER('1')-4),4,'0') THEN 1 ELSE 0 END)),0) AS sum06				, NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,1,4)=LPAD(TO_CHAR(TO_NUMBER('1')-3),4,'0') THEN 1 ELSE 0 END)),0) AS sum07				, NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,1,4)=LPAD(TO_CHAR(TO_NUMBER('1')-2),4,'0') THEN 1 ELSE 0 END)),0) AS sum08				, NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,1,4)=LPAD(TO_CHAR(TO_NUMBER('1')-1),4,'0') THEN 1 ELSE 0 END)),0) AS sum09				, NVL(SUM((CASE WHEN SUBSTR(A.srch_ymd,1,4)=LPAD(TO_CHAR(TO_NUMBER('1')-0),4,'0') THEN 1 ELSE 0 END)),0) AS sum10			FROM  TB_RDSRCHREADSTAT A			WHERE A.record_center_id = '1'			AND  (SUBSTR(A.srch_ymd,1,4) BETWEEN LPAD(TO_CHAR(TO_NUMBER('1')-9),4,'0') AND '1')			AND   A.srch_div_cd = '1'			GROUP BY A.record_center_id, A.org_cd		) B		ORDER BY org_nm;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\stat\UsageCurState.xml
-- Query    : select
-- Query Id : findUsageCurStateConnStatDayTotal

		SELECT '' AS org_cd			, 'ÃÑ°è' AS org_nm			, 'ÃÑ°è' AS org_abbr_nm			, 'ÃÑ°è' AS user_nm		    , COUNT(1) AS total		    , NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='01' THEN 1 ELSE 0 END)),0) AS sum01		    , NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='02' THEN 1 ELSE 0 END)),0) AS sum02		    , NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='03' THEN 1 ELSE 0 END)),0) AS sum03		    , NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='04' THEN 1 ELSE 0 END)),0) AS sum04		    , NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='05' THEN 1 ELSE 0 END)),0) AS sum05		    , NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='06' THEN 1 ELSE 0 END)),0) AS sum06		    , NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='07' THEN 1 ELSE 0 END)),0) AS sum07		    , NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='08' THEN 1 ELSE 0 END)),0) AS sum08		    , NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='09' THEN 1 ELSE 0 END)),0) AS sum09		    , NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='10' THEN 1 ELSE 0 END)),0) AS sum10		    , NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='11' THEN 1 ELSE 0 END)),0) AS sum11		    , NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='12' THEN 1 ELSE 0 END)),0) AS sum12		    , NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='13' THEN 1 ELSE 0 END)),0) AS sum13		    , NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='14' THEN 1 ELSE 0 END)),0) AS sum14		    , NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='15' THEN 1 ELSE 0 END)),0) AS sum15		    , NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='16' THEN 1 ELSE 0 END)),0) AS sum16		    , NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='17' THEN 1 ELSE 0 END)),0) AS sum17		    , NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='18' THEN 1 ELSE 0 END)),0) AS sum18		    , NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='19' THEN 1 ELSE 0 END)),0) AS sum19		    , NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='20' THEN 1 ELSE 0 END)),0) AS sum20		    , NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='21' THEN 1 ELSE 0 END)),0) AS sum21		    , NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='22' THEN 1 ELSE 0 END)),0) AS sum22		    , NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='23' THEN 1 ELSE 0 END)),0) AS sum23		    , NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='24' THEN 1 ELSE 0 END)),0) AS sum24		    , NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='25' THEN 1 ELSE 0 END)),0) AS sum25		    , NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='26' THEN 1 ELSE 0 END)),0) AS sum26		    , NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='27' THEN 1 ELSE 0 END)),0) AS sum27		    , NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='28' THEN 1 ELSE 0 END)),0) AS sum28		    , NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='29' THEN 1 ELSE 0 END)),0) AS sum29		    , NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='30' THEN 1 ELSE 0 END)),0) AS sum30		    , NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='31' THEN 1 ELSE 0 END)),0) AS sum31		FROM  TB_STUSERLOGIN A			, TB_STUSER B		WHERE B.record_center_id = '1'		AND   A.user_id = B.user_id		AND   A.conn_dtime LIKE '1';


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\stat\UsageCurState.xml
-- Query    : select
-- Query Id : findUsageCurStateConnStatDayList

		SELECT B.dept_cd AS org_cd			, (SELECT Z.dept_nm FROM TB_STDEPT Z WHERE Z.record_center_id=B.record_center_id AND Z.org_cd=B.dept_cd) AS org_nm			, (SELECT Z.dept_abbr_nm FROM TB_STDEPT Z WHERE Z.record_center_id=B.record_center_id AND Z.org_cd=B.dept_cd) AS org_abbr_nm			, (SELECT Z.user_nm FROM TB_STUSER Z WHERE Z.record_center_id=B.record_center_id AND Z.user_id=B.user_id) AS user_nm			, B.total			, B.sum01, B.sum02, B.sum03, B.sum04, B.sum05, B.sum06, B.sum07, B.sum08, B.sum09, B.sum10			, B.sum11, B.sum12, B.sum13, B.sum14, B.sum15, B.sum16, B.sum17, B.sum18, B.sum19, B.sum20			, B.sum21, B.sum22, B.sum23, B.sum24, B.sum25, B.sum26, B.sum27, B.sum28, B.sum29, B.sum30			, B.sum31		FROM (			SELECT B.record_center_id				, A.dept_cd				, A.user_id				, COUNT(1) AS total			    , SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='01' THEN 1 ELSE 0 END)) AS sum01			    , SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='02' THEN 1 ELSE 0 END)) AS sum02			    , SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='03' THEN 1 ELSE 0 END)) AS sum03			    , SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='04' THEN 1 ELSE 0 END)) AS sum04			    , SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='05' THEN 1 ELSE 0 END)) AS sum05			    , SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='06' THEN 1 ELSE 0 END)) AS sum06			    , SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='07' THEN 1 ELSE 0 END)) AS sum07			    , SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='08' THEN 1 ELSE 0 END)) AS sum08			    , SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='09' THEN 1 ELSE 0 END)) AS sum09			    , SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='10' THEN 1 ELSE 0 END)) AS sum10			    , SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='11' THEN 1 ELSE 0 END)) AS sum11			    , SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='12' THEN 1 ELSE 0 END)) AS sum12			    , SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='13' THEN 1 ELSE 0 END)) AS sum13			    , SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='14' THEN 1 ELSE 0 END)) AS sum14			    , SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='15' THEN 1 ELSE 0 END)) AS sum15			    , SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='16' THEN 1 ELSE 0 END)) AS sum16			    , SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='17' THEN 1 ELSE 0 END)) AS sum17			    , SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='18' THEN 1 ELSE 0 END)) AS sum18			    , SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='19' THEN 1 ELSE 0 END)) AS sum19			    , SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='20' THEN 1 ELSE 0 END)) AS sum20			    , SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='21' THEN 1 ELSE 0 END)) AS sum21			    , SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='22' THEN 1 ELSE 0 END)) AS sum22			    , SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='23' THEN 1 ELSE 0 END)) AS sum23			    , SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='24' THEN 1 ELSE 0 END)) AS sum24			    , SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='25' THEN 1 ELSE 0 END)) AS sum25			    , SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='26' THEN 1 ELSE 0 END)) AS sum26			    , SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='27' THEN 1 ELSE 0 END)) AS sum27			    , SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='28' THEN 1 ELSE 0 END)) AS sum28			    , SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='29' THEN 1 ELSE 0 END)) AS sum29			    , SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='30' THEN 1 ELSE 0 END)) AS sum30			    , SUM((CASE WHEN SUBSTR(A.conn_dtime,7,2)='31' THEN 1 ELSE 0 END)) AS sum31			FROM  TB_STUSERLOGIN A				, TB_STUSER B			WHERE B.record_center_id = '1'			AND   A.user_id = B.user_id			AND   A.conn_dtime LIKE '1'			GROUP BY B.record_center_id, A.dept_cd, A.user_id		) B		ORDER BY org_nm, user_nm	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\stat\UsageCurState.xml
-- Query    : select
-- Query Id : findUsageCurStateConnStatMonthTotal

		SELECT '' AS org_cd			, 'ÃÑ°è' AS org_nm			, 'ÃÑ°è' AS org_abbr_nm			, 'ÃÑ°è' AS user_nm		    , COUNT(1) AS total		    , NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,5,2)='01' THEN 1 ELSE 0 END)),0) AS sum01		    , NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,5,2)='02' THEN 1 ELSE 0 END)),0) AS sum02		    , NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,5,2)='03' THEN 1 ELSE 0 END)),0) AS sum03		    , NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,5,2)='04' THEN 1 ELSE 0 END)),0) AS sum04		    , NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,5,2)='05' THEN 1 ELSE 0 END)),0) AS sum05		    , NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,5,2)='06' THEN 1 ELSE 0 END)),0) AS sum06		    , NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,5,2)='07' THEN 1 ELSE 0 END)),0) AS sum07		    , NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,5,2)='08' THEN 1 ELSE 0 END)),0) AS sum08		    , NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,5,2)='09' THEN 1 ELSE 0 END)),0) AS sum09		    , NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,5,2)='10' THEN 1 ELSE 0 END)),0) AS sum10		    , NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,5,2)='11' THEN 1 ELSE 0 END)),0) AS sum11		    , NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,5,2)='12' THEN 1 ELSE 0 END)),0) AS sum12		FROM  TB_STUSERLOGIN A			, TB_STUSER B		WHERE B.record_center_id = '1'		AND   A.user_id = B.user_id		AND   A.conn_dtime LIKE '1';


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\stat\UsageCurState.xml
-- Query    : select
-- Query Id : findUsageCurStateConnStatMonthList

		SELECT B.dept_cd AS org_cd			, (SELECT Z.dept_nm FROM TB_STDEPT Z WHERE Z.record_center_id=B.record_center_id AND Z.org_cd=B.dept_cd) AS org_nm			, (SELECT Z.dept_abbr_nm FROM TB_STDEPT Z WHERE Z.record_center_id=B.record_center_id AND Z.org_cd=B.dept_cd) AS org_abbr_nm			, (SELECT Z.user_nm FROM TB_STUSER Z WHERE Z.record_center_id=B.record_center_id AND Z.user_id=B.user_id) AS user_nm			, B.total			, B.sum01, B.sum02, B.sum03, B.sum04, B.sum05, B.sum06, B.sum07, B.sum08, B.sum09, B.sum10			, B.sum11, B.sum12		FROM (			SELECT B.record_center_id				, A.dept_cd				, A.user_id				, COUNT(1) AS total			    , SUM((CASE WHEN SUBSTR(A.conn_dtime,5,2)='01' THEN 1 ELSE 0 END)) AS sum01			    , SUM((CASE WHEN SUBSTR(A.conn_dtime,5,2)='02' THEN 1 ELSE 0 END)) AS sum02			    , SUM((CASE WHEN SUBSTR(A.conn_dtime,5,2)='03' THEN 1 ELSE 0 END)) AS sum03			    , SUM((CASE WHEN SUBSTR(A.conn_dtime,5,2)='04' THEN 1 ELSE 0 END)) AS sum04			    , SUM((CASE WHEN SUBSTR(A.conn_dtime,5,2)='05' THEN 1 ELSE 0 END)) AS sum05			    , SUM((CASE WHEN SUBSTR(A.conn_dtime,5,2)='06' THEN 1 ELSE 0 END)) AS sum06			    , SUM((CASE WHEN SUBSTR(A.conn_dtime,5,2)='07' THEN 1 ELSE 0 END)) AS sum07			    , SUM((CASE WHEN SUBSTR(A.conn_dtime,5,2)='08' THEN 1 ELSE 0 END)) AS sum08			    , SUM((CASE WHEN SUBSTR(A.conn_dtime,5,2)='09' THEN 1 ELSE 0 END)) AS sum09			    , SUM((CASE WHEN SUBSTR(A.conn_dtime,5,2)='10' THEN 1 ELSE 0 END)) AS sum10			    , SUM((CASE WHEN SUBSTR(A.conn_dtime,5,2)='11' THEN 1 ELSE 0 END)) AS sum11			    , SUM((CASE WHEN SUBSTR(A.conn_dtime,5,2)='12' THEN 1 ELSE 0 END)) AS sum12			FROM  TB_STUSERLOGIN A				, TB_STUSER B			WHERE B.record_center_id = '1'			AND   A.user_id = B.user_id			AND   A.conn_dtime LIKE '1'			GROUP BY B.record_center_id, A.dept_cd, A.user_id		) B		ORDER BY org_nm, user_nm	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\stat\UsageCurState.xml
-- Query    : select
-- Query Id : findUsageCurStateConnStatYearTotal

		SELECT '' AS org_cd			, 'ÃÑ°è' AS org_nm			, 'ÃÑ°è' AS org_abbr_nm			, 'ÃÑ°è' AS user_nm			, NVL((SUM(B.sum01)+SUM(B.sum02)+SUM(B.sum03)+SUM(B.sum04)+SUM(B.sum05)+SUM(B.sum06)+SUM(B.sum07)+SUM(B.sum08)+SUM(B.sum09)+SUM(B.sum10)),0) AS total		    , NVL(SUM(B.sum01),0) AS sum01		    , NVL(SUM(B.sum02),0) AS sum02		    , NVL(SUM(B.sum03),0) AS sum03		    , NVL(SUM(B.sum04),0) AS sum04		    , NVL(SUM(B.sum05),0) AS sum05		    , NVL(SUM(B.sum06),0) AS sum06		    , NVL(SUM(B.sum07),0) AS sum07		    , NVL(SUM(B.sum08),0) AS sum08		    , NVL(SUM(B.sum09),0) AS sum09		    , NVL(SUM(B.sum10),0) AS sum10		FROM (			SELECT NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,1,4)=LPAD(TO_CHAR(TO_NUMBER('1')-9),4,'0') THEN 1 ELSE 0 END)),0) AS sum01				, NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,1,4)=LPAD(TO_CHAR(TO_NUMBER('1')-8),4,'0') THEN 1 ELSE 0 END)),0) AS sum02				, NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,1,4)=LPAD(TO_CHAR(TO_NUMBER('1')-7),4,'0') THEN 1 ELSE 0 END)),0) AS sum03				, NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,1,4)=LPAD(TO_CHAR(TO_NUMBER('1')-6),4,'0') THEN 1 ELSE 0 END)),0) AS sum04				, NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,1,4)=LPAD(TO_CHAR(TO_NUMBER('1')-5),4,'0') THEN 1 ELSE 0 END)),0) AS sum05				, NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,1,4)=LPAD(TO_CHAR(TO_NUMBER('1')-4),4,'0') THEN 1 ELSE 0 END)),0) AS sum06				, NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,1,4)=LPAD(TO_CHAR(TO_NUMBER('1')-3),4,'0') THEN 1 ELSE 0 END)),0) AS sum07				, NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,1,4)=LPAD(TO_CHAR(TO_NUMBER('1')-2),4,'0') THEN 1 ELSE 0 END)),0) AS sum08				, NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,1,4)=LPAD(TO_CHAR(TO_NUMBER('1')-1),4,'0') THEN 1 ELSE 0 END)),0) AS sum09				, NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,1,4)=LPAD(TO_CHAR(TO_NUMBER('1')-0),4,'0') THEN 1 ELSE 0 END)),0) AS sum10			FROM  TB_STUSERLOGIN A				, TB_STUSER B			WHERE B.record_center_id = '1'			AND   A.user_id = B.user_id			AND  (SUBSTR(A.conn_dtime,1,4) BETWEEN LPAD(TO_CHAR(TO_NUMBER('1')-9),4,'0') AND '1')					) B	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\stat\UsageCurState.xml
-- Query    : select
-- Query Id : findUsageCurStateConnStatYearList

		SELECT B.dept_cd AS org_cd			, (SELECT Z.dept_nm FROM TB_STDEPT Z WHERE Z.record_center_id=B.record_center_id AND Z.org_cd=B.dept_cd) AS org_nm			, (SELECT Z.dept_abbr_nm FROM TB_STDEPT Z WHERE Z.record_center_id=B.record_center_id AND Z.org_cd=B.dept_cd) AS org_abbr_nm			, (SELECT Z.user_nm FROM TB_STUSER Z WHERE Z.record_center_id=B.record_center_id AND Z.user_id=B.user_id) AS user_nm			, NVL((B.sum01+B.sum02+B.sum03+B.sum04+B.sum05+B.sum06+B.sum07+B.sum08+B.sum09+B.sum10),0) total		    , NVL(B.sum01,0) AS sum01		    , NVL(B.sum02,0) AS sum02		    , NVL(B.sum03,0) AS sum03		    , NVL(B.sum04,0) AS sum04		    , NVL(B.sum05,0) AS sum05		    , NVL(B.sum06,0) AS sum06		    , NVL(B.sum07,0) AS sum07		    , NVL(B.sum08,0) AS sum08		    , NVL(B.sum09,0) AS sum09		    , NVL(B.sum10,0) AS sum10		FROM (			SELECT B.record_center_id				, A.dept_cd				, A.user_id				, NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,1,4)=LPAD(TO_CHAR(TO_NUMBER('1')-9),4,'0') THEN 1 ELSE 0 END)),0) AS sum01				, NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,1,4)=LPAD(TO_CHAR(TO_NUMBER('1')-8),4,'0') THEN 1 ELSE 0 END)),0) AS sum02				, NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,1,4)=LPAD(TO_CHAR(TO_NUMBER('1')-7),4,'0') THEN 1 ELSE 0 END)),0) AS sum03				, NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,1,4)=LPAD(TO_CHAR(TO_NUMBER('1')-6),4,'0') THEN 1 ELSE 0 END)),0) AS sum04				, NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,1,4)=LPAD(TO_CHAR(TO_NUMBER('1')-5),4,'0') THEN 1 ELSE 0 END)),0) AS sum05				, NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,1,4)=LPAD(TO_CHAR(TO_NUMBER('1')-4),4,'0') THEN 1 ELSE 0 END)),0) AS sum06				, NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,1,4)=LPAD(TO_CHAR(TO_NUMBER('1')-3),4,'0') THEN 1 ELSE 0 END)),0) AS sum07				, NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,1,4)=LPAD(TO_CHAR(TO_NUMBER('1')-2),4,'0') THEN 1 ELSE 0 END)),0) AS sum08				, NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,1,4)=LPAD(TO_CHAR(TO_NUMBER('1')-1),4,'0') THEN 1 ELSE 0 END)),0) AS sum09				, NVL(SUM((CASE WHEN SUBSTR(A.conn_dtime,1,4)=LPAD(TO_CHAR(TO_NUMBER('1')-0),4,'0') THEN 1 ELSE 0 END)),0) AS sum10			FROM  TB_STUSERLOGIN A				, TB_STUSER B			WHERE B.record_center_id = '1'			AND   A.user_id = B.user_id			AND  (SUBSTR(A.conn_dtime,1,4) BETWEEN LPAD(TO_CHAR(TO_NUMBER('1')-9),4,'0') AND '1')			GROUP BY B.record_center_id, A.dept_cd, A.user_id		) B		ORDER BY org_nm, user_nm	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\stat\UsageCurState.xml
-- Query    : select
-- Query Id : findUsageCurStateReadApprStatDayTotal

		SELECT '' AS org_cd			, 'ÃÑ°è' AS org_nm			, 'ÃÑ°è' AS org_abbr_nm		    , COUNT(1) AS total		    , NVL(SUM((CASE WHEN C.read_aprov_day='01' THEN 1 ELSE 0 END)),0) AS sum01		    , NVL(SUM((CASE WHEN C.read_aprov_day='02' THEN 1 ELSE 0 END)),0) AS sum02		    , NVL(SUM((CASE WHEN C.read_aprov_day='03' THEN 1 ELSE 0 END)),0) AS sum03		    , NVL(SUM((CASE WHEN C.read_aprov_day='04' THEN 1 ELSE 0 END)),0) AS sum04		    , NVL(SUM((CASE WHEN C.read_aprov_day='05' THEN 1 ELSE 0 END)),0) AS sum05		    , NVL(SUM((CASE WHEN C.read_aprov_day='06' THEN 1 ELSE 0 END)),0) AS sum06		    , NVL(SUM((CASE WHEN C.read_aprov_day='07' THEN 1 ELSE 0 END)),0) AS sum07		    , NVL(SUM((CASE WHEN C.read_aprov_day='08' THEN 1 ELSE 0 END)),0) AS sum08		    , NVL(SUM((CASE WHEN C.read_aprov_day='09' THEN 1 ELSE 0 END)),0) AS sum09		    , NVL(SUM((CASE WHEN C.read_aprov_day='10' THEN 1 ELSE 0 END)),0) AS sum10		    , NVL(SUM((CASE WHEN C.read_aprov_day='11' THEN 1 ELSE 0 END)),0) AS sum11		    , NVL(SUM((CASE WHEN C.read_aprov_day='12' THEN 1 ELSE 0 END)),0) AS sum12		    , NVL(SUM((CASE WHEN C.read_aprov_day='13' THEN 1 ELSE 0 END)),0) AS sum13		    , NVL(SUM((CASE WHEN C.read_aprov_day='14' THEN 1 ELSE 0 END)),0) AS sum14		    , NVL(SUM((CASE WHEN C.read_aprov_day='15' THEN 1 ELSE 0 END)),0) AS sum15		    , NVL(SUM((CASE WHEN C.read_aprov_day='16' THEN 1 ELSE 0 END)),0) AS sum16		    , NVL(SUM((CASE WHEN C.read_aprov_day='17' THEN 1 ELSE 0 END)),0) AS sum17		    , NVL(SUM((CASE WHEN C.read_aprov_day='18' THEN 1 ELSE 0 END)),0) AS sum18		    , NVL(SUM((CASE WHEN C.read_aprov_day='19' THEN 1 ELSE 0 END)),0) AS sum19		    , NVL(SUM((CASE WHEN C.read_aprov_day='20' THEN 1 ELSE 0 END)),0) AS sum20		    , NVL(SUM((CASE WHEN C.read_aprov_day='21' THEN 1 ELSE 0 END)),0) AS sum21		    , NVL(SUM((CASE WHEN C.read_aprov_day='22' THEN 1 ELSE 0 END)),0) AS sum22		    , NVL(SUM((CASE WHEN C.read_aprov_day='23' THEN 1 ELSE 0 END)),0) AS sum23		    , NVL(SUM((CASE WHEN C.read_aprov_day='24' THEN 1 ELSE 0 END)),0) AS sum24		    , NVL(SUM((CASE WHEN C.read_aprov_day='25' THEN 1 ELSE 0 END)),0) AS sum25		    , NVL(SUM((CASE WHEN C.read_aprov_day='26' THEN 1 ELSE 0 END)),0) AS sum26		    , NVL(SUM((CASE WHEN C.read_aprov_day='27' THEN 1 ELSE 0 END)),0) AS sum27		    , NVL(SUM((CASE WHEN C.read_aprov_day='28' THEN 1 ELSE 0 END)),0) AS sum28		    , NVL(SUM((CASE WHEN C.read_aprov_day='29' THEN 1 ELSE 0 END)),0) AS sum29		    , NVL(SUM((CASE WHEN C.read_aprov_day='30' THEN 1 ELSE 0 END)),0) AS sum30		    , NVL(SUM((CASE WHEN C.read_aprov_day='31' THEN 1 ELSE 0 END)),0) AS sum31		FROM (			(				SELECT A.record_center_id, B.handl_org_cd, SUBSTR(B.read_aprov_ymd,7,2) AS read_aprov_day				FROM  TB_RDREADREQ A				 					, TB_RDFOLDERREADDETL B				 				WHERE A.record_center_id = '1'				AND   A.read_req_div_cd = '1'				AND   B.record_center_id = A.record_center_id				AND   B.read_reqno = A.read_reqno				AND   B.read_aprov_cd = '2'				AND   B.read_aprov_ymd LIKE '1' AND 					B.handl_org_cd = '1'				 			) UNION ALL (				SELECT A.record_center_id, B.handl_org_cd, SUBSTR(B.read_aprov_ymd,7,2) AS read_aprov_day				FROM  TB_NKREADREQ A				 					, TB_NKFOLDERREADDETL B				 				WHERE A.record_center_id = '1'				AND   A.read_req_div_cd = '1'				AND   B.record_center_id = A.record_center_id				AND   B.read_reqno = A.read_reqno				AND   B.read_aprov_cd = '2'				AND   B.read_aprov_ymd LIKE '1' AND 					B.handl_org_cd = '1'				 			)		) C;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\stat\UsageCurState.xml
-- Query    : select
-- Query Id : findUsageCurStateReadApprStatDayList

		SELECT D.handl_org_cd AS org_cd			, (CASE WHEN (D.handl_org_cd IS NULL OR D.handl_org_cd = '') THEN '±â·Ï°ü½ÂÀÎ' ELSE (SELECT Z.org_nm FROM TB_STORG Z WHERE Z.record_center_id=D.record_center_id AND Z.org_cd=D.handl_org_cd) END) AS org_nm			, (CASE WHEN (D.handl_org_cd IS NULL OR D.handl_org_cd = '') THEN '±â·Ï°ü½ÂÀÎ' ELSE (SELECT Z.org_abbr_nm FROM TB_STORG Z WHERE Z.record_center_id=D.record_center_id AND Z.org_cd=D.handl_org_cd) END) AS org_abbr_nm			, D.total			, D.sum01, D.sum02, D.sum03, D.sum04, D.sum05, D.sum06, D.sum07, D.sum08, D.sum09, D.sum10			, D.sum11, D.sum12, D.sum13, D.sum14, D.sum15, D.sum16, D.sum17, D.sum18, D.sum19, D.sum20			, D.sum21, D.sum22, D.sum23, D.sum24, D.sum25, D.sum26, D.sum27, D.sum28, D.sum29, D.sum30			, D.sum31		FROM (			SELECT C.record_center_id				, C.handl_org_cd			    , COUNT(1) AS total			    , NVL(SUM((CASE WHEN C.read_aprov_day='01' THEN 1 ELSE 0 END)),0) AS sum01			    , NVL(SUM((CASE WHEN C.read_aprov_day='02' THEN 1 ELSE 0 END)),0) AS sum02			    , NVL(SUM((CASE WHEN C.read_aprov_day='03' THEN 1 ELSE 0 END)),0) AS sum03			    , NVL(SUM((CASE WHEN C.read_aprov_day='04' THEN 1 ELSE 0 END)),0) AS sum04			    , NVL(SUM((CASE WHEN C.read_aprov_day='05' THEN 1 ELSE 0 END)),0) AS sum05			    , NVL(SUM((CASE WHEN C.read_aprov_day='06' THEN 1 ELSE 0 END)),0) AS sum06			    , NVL(SUM((CASE WHEN C.read_aprov_day='07' THEN 1 ELSE 0 END)),0) AS sum07			    , NVL(SUM((CASE WHEN C.read_aprov_day='08' THEN 1 ELSE 0 END)),0) AS sum08			    , NVL(SUM((CASE WHEN C.read_aprov_day='09' THEN 1 ELSE 0 END)),0) AS sum09			    , NVL(SUM((CASE WHEN C.read_aprov_day='10' THEN 1 ELSE 0 END)),0) AS sum10			    , NVL(SUM((CASE WHEN C.read_aprov_day='11' THEN 1 ELSE 0 END)),0) AS sum11			    , NVL(SUM((CASE WHEN C.read_aprov_day='12' THEN 1 ELSE 0 END)),0) AS sum12			    , NVL(SUM((CASE WHEN C.read_aprov_day='13' THEN 1 ELSE 0 END)),0) AS sum13			    , NVL(SUM((CASE WHEN C.read_aprov_day='14' THEN 1 ELSE 0 END)),0) AS sum14			    , NVL(SUM((CASE WHEN C.read_aprov_day='15' THEN 1 ELSE 0 END)),0) AS sum15			    , NVL(SUM((CASE WHEN C.read_aprov_day='16' THEN 1 ELSE 0 END)),0) AS sum16			    , NVL(SUM((CASE WHEN C.read_aprov_day='17' THEN 1 ELSE 0 END)),0) AS sum17			    , NVL(SUM((CASE WHEN C.read_aprov_day='18' THEN 1 ELSE 0 END)),0) AS sum18			    , NVL(SUM((CASE WHEN C.read_aprov_day='19' THEN 1 ELSE 0 END)),0) AS sum19			    , NVL(SUM((CASE WHEN C.read_aprov_day='20' THEN 1 ELSE 0 END)),0) AS sum20			    , NVL(SUM((CASE WHEN C.read_aprov_day='21' THEN 1 ELSE 0 END)),0) AS sum21			    , NVL(SUM((CASE WHEN C.read_aprov_day='22' THEN 1 ELSE 0 END)),0) AS sum22			    , NVL(SUM((CASE WHEN C.read_aprov_day='23' THEN 1 ELSE 0 END)),0) AS sum23			    , NVL(SUM((CASE WHEN C.read_aprov_day='24' THEN 1 ELSE 0 END)),0) AS sum24			    , NVL(SUM((CASE WHEN C.read_aprov_day='25' THEN 1 ELSE 0 END)),0) AS sum25			    , NVL(SUM((CASE WHEN C.read_aprov_day='26' THEN 1 ELSE 0 END)),0) AS sum26			    , NVL(SUM((CASE WHEN C.read_aprov_day='27' THEN 1 ELSE 0 END)),0) AS sum27			    , NVL(SUM((CASE WHEN C.read_aprov_day='28' THEN 1 ELSE 0 END)),0) AS sum28			    , NVL(SUM((CASE WHEN C.read_aprov_day='29' THEN 1 ELSE 0 END)),0) AS sum29			    , NVL(SUM((CASE WHEN C.read_aprov_day='30' THEN 1 ELSE 0 END)),0) AS sum30			    , NVL(SUM((CASE WHEN C.read_aprov_day='31' THEN 1 ELSE 0 END)),0) AS sum31			FROM (				(					SELECT A.record_center_id, B.handl_org_cd						, SUBSTR(B.read_aprov_ymd,7,2) AS read_aprov_day					FROM  TB_RDREADREQ A					 						, TB_RDFOLDERREADDETL B					 					WHERE A.record_center_id = '1'					AND   A.read_req_div_cd = '1'					AND   B.record_center_id = A.record_center_id					AND   B.read_reqno = A.read_reqno					AND   B.read_aprov_cd = '2'					AND   B.read_aprov_ymd LIKE '1' AND 						B.handl_org_cd = '1'					 				) UNION ALL (					SELECT A.record_center_id, B.handl_org_cd						, SUBSTR(B.read_aprov_ymd,7,2) AS read_aprov_day					FROM  TB_NKREADREQ A 						, TB_NKFOLDERREADDETL B					 					WHERE A.record_center_id = '1'					AND   A.read_req_div_cd = '1'					AND   B.record_center_id = A.record_center_id					AND   B.read_reqno = A.read_reqno					AND   B.read_aprov_cd = '2'					AND   B.read_aprov_ymd LIKE '1' AND 						B.handl_org_cd = '1'					 				)			) C			GROUP BY C.record_center_id, C.handl_org_cd		) D		ORDER BY org_nm	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\stat\UsageCurState.xml
-- Query    : select
-- Query Id : findUsageCurStateReadApprStatMonthTotal

		SELECT '' AS org_cd			, 'ÃÑ°è' AS org_nm			, 'ÃÑ°è' AS org_abbr_nm		    , COUNT(1) AS total		    , NVL(SUM((CASE WHEN C.read_aprov_month='01' THEN 1 ELSE 0 END)),0) AS sum01		    , NVL(SUM((CASE WHEN C.read_aprov_month='02' THEN 1 ELSE 0 END)),0) AS sum02		    , NVL(SUM((CASE WHEN C.read_aprov_month='03' THEN 1 ELSE 0 END)),0) AS sum03		    , NVL(SUM((CASE WHEN C.read_aprov_month='04' THEN 1 ELSE 0 END)),0) AS sum04		    , NVL(SUM((CASE WHEN C.read_aprov_month='05' THEN 1 ELSE 0 END)),0) AS sum05		    , NVL(SUM((CASE WHEN C.read_aprov_month='06' THEN 1 ELSE 0 END)),0) AS sum06		    , NVL(SUM((CASE WHEN C.read_aprov_month='07' THEN 1 ELSE 0 END)),0) AS sum07		    , NVL(SUM((CASE WHEN C.read_aprov_month='08' THEN 1 ELSE 0 END)),0) AS sum08		    , NVL(SUM((CASE WHEN C.read_aprov_month='09' THEN 1 ELSE 0 END)),0) AS sum09		    , NVL(SUM((CASE WHEN C.read_aprov_month='10' THEN 1 ELSE 0 END)),0) AS sum10		    , NVL(SUM((CASE WHEN C.read_aprov_month='11' THEN 1 ELSE 0 END)),0) AS sum11		    , NVL(SUM((CASE WHEN C.read_aprov_month='12' THEN 1 ELSE 0 END)),0) AS sum12		FROM (			(				SELECT A.record_center_id, B.handl_org_cd					, SUBSTR(B.read_aprov_ymd,5,2) AS read_aprov_month				FROM  TB_RDREADREQ A				 					, TB_RDFOLDERREADDETL B				 				WHERE A.record_center_id = '1'				AND   A.read_req_div_cd = '1'				AND   B.record_center_id = A.record_center_id				AND   B.read_reqno = A.read_reqno				AND   B.read_aprov_cd = '2'				AND   B.read_aprov_ymd LIKE '1' AND 					B.handl_org_cd = '1'				 			) UNION ALL (				SELECT A.record_center_id, B.handl_org_cd					, SUBSTR(B.read_aprov_ymd,5,2) AS read_aprov_month				FROM  TB_NKREADREQ A 					, TB_NKFOLDERREADDETL B				 				WHERE A.record_center_id = '1'				AND   A.read_req_div_cd = '1'				AND   B.record_center_id = A.record_center_id				AND   B.read_reqno = A.read_reqno				AND   B.read_aprov_cd = '2'				AND   B.read_aprov_ymd LIKE '1' AND 					B.handl_org_cd = '1'				 			)		) C;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\stat\UsageCurState.xml
-- Query    : select
-- Query Id : findUsageCurStateReadApprStatMonthList

		SELECT B.handl_org_cd AS org_cd			, (CASE WHEN (B.handl_org_cd IS NULL OR B.handl_org_cd = '') THEN '±â·Ï°ü½ÂÀÎ' ELSE (SELECT Z.org_nm FROM TB_STORG Z WHERE Z.record_center_id=B.record_center_id AND Z.org_cd=B.handl_org_cd) END) AS org_nm			, (CASE WHEN (B.handl_org_cd IS NULL OR B.handl_org_cd = '') THEN '±â·Ï°ü½ÂÀÎ' ELSE (SELECT Z.org_abbr_nm FROM TB_STORG Z WHERE Z.record_center_id=B.record_center_id AND Z.org_cd=B.handl_org_cd) END) AS org_abbr_nm			, B.total			, B.sum01, B.sum02, B.sum03, B.sum04, B.sum05, B.sum06, B.sum07, B.sum08, B.sum09, B.sum10			, B.sum11, B.sum12		FROM (			SELECT C.record_center_id				, C.handl_org_cd				, COUNT(1) AS total			    , NVL(SUM((CASE WHEN C.read_aprov_month='01' THEN 1 ELSE 0 END)),0) AS sum01			    , NVL(SUM((CASE WHEN C.read_aprov_month='02' THEN 1 ELSE 0 END)),0) AS sum02			    , NVL(SUM((CASE WHEN C.read_aprov_month='03' THEN 1 ELSE 0 END)),0) AS sum03			    , NVL(SUM((CASE WHEN C.read_aprov_month='04' THEN 1 ELSE 0 END)),0) AS sum04			    , NVL(SUM((CASE WHEN C.read_aprov_month='05' THEN 1 ELSE 0 END)),0) AS sum05			    , NVL(SUM((CASE WHEN C.read_aprov_month='06' THEN 1 ELSE 0 END)),0) AS sum06			    , NVL(SUM((CASE WHEN C.read_aprov_month='07' THEN 1 ELSE 0 END)),0) AS sum07			    , NVL(SUM((CASE WHEN C.read_aprov_month='08' THEN 1 ELSE 0 END)),0) AS sum08			    , NVL(SUM((CASE WHEN C.read_aprov_month='09' THEN 1 ELSE 0 END)),0) AS sum09			    , NVL(SUM((CASE WHEN C.read_aprov_month='10' THEN 1 ELSE 0 END)),0) AS sum10			    , NVL(SUM((CASE WHEN C.read_aprov_month='11' THEN 1 ELSE 0 END)),0) AS sum11			    , NVL(SUM((CASE WHEN C.read_aprov_month='12' THEN 1 ELSE 0 END)),0) AS sum12			FROM (				(					SELECT A.record_center_id, B.handl_org_cd						, SUBSTR(B.read_aprov_ymd,5,2) AS read_aprov_month					FROM  TB_RDREADREQ A 						, TB_RDFOLDERREADDETL B					 					WHERE A.record_center_id = '1'					AND   A.read_req_div_cd = '1'					AND   B.record_center_id = A.record_center_id					AND   B.read_reqno = A.read_reqno					AND   B.read_aprov_cd = '2'					AND   B.read_aprov_ymd LIKE '1' AND 						B.handl_org_cd = '1'					 				) UNION ALL (					SELECT A.record_center_id, B.handl_org_cd						, SUBSTR(B.read_aprov_ymd,5,2) AS read_aprov_month					FROM  TB_NKREADREQ A 						, TB_NKFOLDERREADDETL B					 					WHERE A.record_center_id = '1'					AND   A.read_req_div_cd = '1'					AND   B.record_center_id = A.record_center_id					AND   B.read_reqno = A.read_reqno					AND   B.read_aprov_cd = '2'					AND   B.read_aprov_ymd LIKE '1' AND 						B.handl_org_cd = '1'					 				)			) C			GROUP BY C.record_center_id, C.handl_org_cd		) B		ORDER BY org_nm	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\stat\UsageCurState.xml
-- Query    : select
-- Query Id : findUsageCurStateReadApprStatYearTotal

		SELECT '' AS org_cd			, 'ÃÑ°è' AS org_nm			, 'ÃÑ°è' AS org_abbr_nm			, NVL((SUM(D.sum01)+SUM(D.sum02)+SUM(D.sum03)+SUM(D.sum04)+SUM(D.sum05)+SUM(D.sum06)+SUM(D.sum07)+SUM(D.sum08)+SUM(D.sum09)+SUM(D.sum10)),0) AS total		    , NVL(SUM(D.sum01),0) AS sum01		    , NVL(SUM(D.sum02),0) AS sum02		    , NVL(SUM(D.sum03),0) AS sum03		    , NVL(SUM(D.sum04),0) AS sum04		    , NVL(SUM(D.sum05),0) AS sum05		    , NVL(SUM(D.sum06),0) AS sum06		    , NVL(SUM(D.sum07),0) AS sum07		    , NVL(SUM(D.sum08),0) AS sum08		    , NVL(SUM(D.sum09),0) AS sum09		    , NVL(SUM(D.sum10),0) AS sum10		FROM (			SELECT NVL(SUM((CASE WHEN C.read_aprov_year=LPAD(TO_CHAR(TO_NUMBER('1')-9),4,'0') THEN 1 ELSE 0 END)),0) AS sum01				, NVL(SUM((CASE WHEN C.read_aprov_year=LPAD(TO_CHAR(TO_NUMBER('1')-8),4,'0') THEN 1 ELSE 0 END)),0) AS sum02				, NVL(SUM((CASE WHEN C.read_aprov_year=LPAD(TO_CHAR(TO_NUMBER('1')-7),4,'0') THEN 1 ELSE 0 END)),0) AS sum03				, NVL(SUM((CASE WHEN C.read_aprov_year=LPAD(TO_CHAR(TO_NUMBER('1')-6),4,'0') THEN 1 ELSE 0 END)),0) AS sum04				, NVL(SUM((CASE WHEN C.read_aprov_year=LPAD(TO_CHAR(TO_NUMBER('1')-5),4,'0') THEN 1 ELSE 0 END)),0) AS sum05				, NVL(SUM((CASE WHEN C.read_aprov_year=LPAD(TO_CHAR(TO_NUMBER('1')-4),4,'0') THEN 1 ELSE 0 END)),0) AS sum06				, NVL(SUM((CASE WHEN C.read_aprov_year=LPAD(TO_CHAR(TO_NUMBER('1')-3),4,'0') THEN 1 ELSE 0 END)),0) AS sum07				, NVL(SUM((CASE WHEN C.read_aprov_year=LPAD(TO_CHAR(TO_NUMBER('1')-2),4,'0') THEN 1 ELSE 0 END)),0) AS sum08				, NVL(SUM((CASE WHEN C.read_aprov_year=LPAD(TO_CHAR(TO_NUMBER('1')-1),4,'0') THEN 1 ELSE 0 END)),0) AS sum09				, NVL(SUM((CASE WHEN C.read_aprov_year=LPAD(TO_CHAR(TO_NUMBER('1')-0),4,'0') THEN 1 ELSE 0 END)),0) AS sum10			FROM (				(					SELECT A.record_center_id, B.handl_org_cd						, SUBSTR(B.read_aprov_ymd,1,4) AS read_aprov_year					FROM  TB_RDREADREQ A 						, TB_RDFOLDERREADDETL B					 					WHERE A.record_center_id = '1'					AND   A.read_req_div_cd = '1'					AND   B.record_center_id = A.record_center_id					AND   B.read_reqno = A.read_reqno					AND   B.read_aprov_cd = '2'					AND  (B.read_aprov_ymd BETWEEN LPAD(TO_CHAR(TO_NUMBER('1')-9),4,'0')||'0101' AND '1'||'1231') AND 						B.handl_org_cd = '1'					 				) UNION ALL (					SELECT A.record_center_id, B.handl_org_cd						, SUBSTR(B.read_aprov_ymd,1,4) AS read_aprov_year					FROM  TB_NKREADREQ A 						, TB_NKFOLDERREADDETL B					 					WHERE A.record_center_id = '1'					AND   A.read_req_div_cd = '1'					AND   B.record_center_id = A.record_center_id					AND   B.read_reqno = A.read_reqno					AND   B.read_aprov_cd = '2'					AND  (B.read_aprov_ymd BETWEEN LPAD(TO_CHAR(TO_NUMBER('1')-9),4,'0')||'0101' AND '1'||'1231') AND 						B.handl_org_cd = '1'					 				)			) C		) D	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\stat\UsageCurState.xml
-- Query    : select
-- Query Id : findUsageCurStateReadApprStatYearList

		SELECT D.handl_org_cd AS org_cd			, (CASE WHEN (D.handl_org_cd IS NULL OR D.handl_org_cd = '') THEN '±â·Ï°ü½ÂÀÎ' ELSE (SELECT Z.org_nm FROM TB_STORG Z WHERE Z.record_center_id=D.record_center_id AND Z.org_cd=D.handl_org_cd) END) AS org_nm			, (CASE WHEN (D.handl_org_cd IS NULL OR D.handl_org_cd = '') THEN '±â·Ï°ü½ÂÀÎ' ELSE (SELECT Z.org_abbr_nm FROM TB_STORG Z WHERE Z.record_center_id=D.record_center_id AND Z.org_cd=D.handl_org_cd) END) AS org_abbr_nm			, NVL((D.sum01+D.sum02+D.sum03+D.sum04+D.sum05+D.sum06+D.sum07+D.sum08+D.sum09+D.sum10),0) total		    , NVL(D.sum01,0) AS sum01		    , NVL(D.sum02,0) AS sum02		    , NVL(D.sum03,0) AS sum03		    , NVL(D.sum04,0) AS sum04		    , NVL(D.sum05,0) AS sum05		    , NVL(D.sum06,0) AS sum06		    , NVL(D.sum07,0) AS sum07		    , NVL(D.sum08,0) AS sum08		    , NVL(D.sum09,0) AS sum09		    , NVL(D.sum10,0) AS sum10		FROM (			SELECT C.record_center_id				, C.handl_org_cd				, NVL(SUM((CASE WHEN C.read_aprov_year=LPAD(TO_CHAR(TO_NUMBER('1')-9),4,'0') THEN 1 ELSE 0 END)),0) AS sum01				, NVL(SUM((CASE WHEN C.read_aprov_year=LPAD(TO_CHAR(TO_NUMBER('1')-8),4,'0') THEN 1 ELSE 0 END)),0) AS sum02				, NVL(SUM((CASE WHEN C.read_aprov_year=LPAD(TO_CHAR(TO_NUMBER('1')-7),4,'0') THEN 1 ELSE 0 END)),0) AS sum03				, NVL(SUM((CASE WHEN C.read_aprov_year=LPAD(TO_CHAR(TO_NUMBER('1')-6),4,'0') THEN 1 ELSE 0 END)),0) AS sum04				, NVL(SUM((CASE WHEN C.read_aprov_year=LPAD(TO_CHAR(TO_NUMBER('1')-5),4,'0') THEN 1 ELSE 0 END)),0) AS sum05				, NVL(SUM((CASE WHEN C.read_aprov_year=LPAD(TO_CHAR(TO_NUMBER('1')-4),4,'0') THEN 1 ELSE 0 END)),0) AS sum06				, NVL(SUM((CASE WHEN C.read_aprov_year=LPAD(TO_CHAR(TO_NUMBER('1')-3),4,'0') THEN 1 ELSE 0 END)),0) AS sum07				, NVL(SUM((CASE WHEN C.read_aprov_year=LPAD(TO_CHAR(TO_NUMBER('1')-2),4,'0') THEN 1 ELSE 0 END)),0) AS sum08				, NVL(SUM((CASE WHEN C.read_aprov_year=LPAD(TO_CHAR(TO_NUMBER('1')-1),4,'0') THEN 1 ELSE 0 END)),0) AS sum09				, NVL(SUM((CASE WHEN C.read_aprov_year=LPAD(TO_CHAR(TO_NUMBER('1')-0),4,'0') THEN 1 ELSE 0 END)),0) AS sum10			FROM (				(					SELECT A.record_center_id, B.handl_org_cd						, SUBSTR(B.read_aprov_ymd,1,4) AS read_aprov_year					FROM  TB_RDREADREQ A					 						, TB_RDFOLDERREADDETL B					 					WHERE A.record_center_id = '1'					AND   A.read_req_div_cd = '1'					AND   B.record_center_id = A.record_center_id					AND   B.read_reqno = A.read_reqno					AND   B.read_aprov_cd = '2'					AND  (B.read_aprov_ymd BETWEEN LPAD(TO_CHAR(TO_NUMBER('1')-9),4,'0')||'0101' AND '1'||'1231') AND 						B.handl_org_cd = '1'					 				) UNION ALL (					SELECT A.record_center_id, B.handl_org_cd						, SUBSTR(B.read_aprov_ymd,1,4) AS read_aprov_year					FROM  TB_NKREADREQ A 						, TB_NKFOLDERREADDETL B					 					WHERE A.record_center_id = '1'					AND   A.read_req_div_cd = '1'					AND   B.record_center_id = A.record_center_id					AND   B.read_reqno = A.read_reqno					AND   B.read_aprov_cd = '2'					AND  (B.read_aprov_ymd BETWEEN LPAD(TO_CHAR(TO_NUMBER('1')-9),4,'0')||'0101' AND '1'||'1231') AND 						B.handl_org_cd = '1'					 				)			) C			GROUP BY C.record_center_id, C.handl_org_cd		) D		ORDER BY org_nm	;


-- File Close : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\stat\UsageCurState.xml
