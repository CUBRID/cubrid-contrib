-- File Open : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : select
-- Query Id : findUnitChngInfo

		SELECT  a.record_center_id,			  	a.req_sno_id,			  	a.org_cd,			  	(SELECT org_nm from tb_storg where record_center_id = a.record_center_id and org_cd = a.org_cd) as org_nm, 			  	a.unit_cd,			  	a.unit_req_type_cd,			  	a.apply_stnd_ymd,			  	a.chng_bef_unit_nm,			 	a.chng_aft_unit_nm,			  	a.unit_nm_chng_rsn,			  	a.chng_bef_unit_alias,			  	a.chng_aft_unit_alias,			  	a.unit_alias_chng_rsn,			  	a.chng_bef_unit_descr,			  	a.chng_aft_unit_descr,			  	a.unit_descr_chng_rsn,			  	a.chng_bef_presv_term_cd,			  	a.chng_aft_presv_term_cd,			  	a.presv_term_cd_chng_rsn,			  	a.chng_bef_presv_method_cd,			  	a.chng_aft_presv_method_cd,			  	a.presv_method_cd_chng_rsn,			  	a.chng_bef_presv_area_cd,			  	a.chng_aft_presv_area_cd,			  	a.presv_area_cd_chng_rsn,			  	a.chng_bef_funsh_record_flag,			  	a.chng_aft_funsh_record_flag,			  	a.funsh_record_falg_chng_rsn,			  	a.bef_funsh_record_transf_ymd,			  	a.aft_funsh_record_transf_ymd,			  	a.funsh_record_transf_ymd_rsn,			  	a.chng_bef_spcl_list_loc,			  	a.chng_aft_spcl_list_loc,			  	a.spcl_list_loc_chng_rsn,			  	a.chng_bef_spcl_list1,			  	a.chng_aft_spcl_list1,			  	a.spcl_list1_chng_rsn,			  	a.chng_bef_spcl_list2,			  	a.chng_aft_spcl_list2,			  	a.spcl_list2_chng_rsn,			  	a.chng_bef_spcl_list3,			 	a.chng_aft_spcl_list3,			  	a.spcl_list3_chng_rsn,			  	(SELECT com_cd_nm FROM tb_zzcomcd WHERE com_type_cd = 'ZZ23' AND com_cd = a.unit_req_state_cd) AS unit_req_state_cd_nm,			  	b.take_mng_no        			  	, (select com_cd_nm from tb_zzcomcd where com_type_cd = 'RD07' AND com_cd = a.chng_bef_presv_term_cd) presv_term_nm                , (select com_cd_nm from tb_zzcomcd where com_type_cd = 'RD09' AND com_cd = a.chng_bef_presv_method_cd) presv_method_nm                , (select com_cd_nm from tb_zzcomcd where com_type_cd = 'RD10' AND com_cd = a.chng_bef_presv_area_cd) presv_area_nm                , (select com_cd_nm from tb_zzcomcd where com_type_cd = 'ZZ21' AND com_cd = a.chng_bef_funsh_record_flag) funsh_record_flag_nm                , (select com_cd_nm from tb_zzcomcd where com_type_cd = 'RD22' AND com_cd = a.chng_bef_spcl_list_loc) spcl_list_loc_nm		FROM  	TB_ZZUNITCHNGREQ a, TB_ZZUNITREQ b		WHERE 	a.record_center_id = '1'		AND   	a.req_sno_id = '1'		AND   	a.unit_req_type_cd = '1'		AND   	a.org_cd = '1'			AND   	a.unit_cd = '1'		AND     a.record_center_id = b.record_center_id		AND     a.req_sno_id = b.req_sno_id		AND     a.unit_req_type_cd = b.unit_req_type_cd 	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : select
-- Query Id : findOrgMoveReqInfo

		SELECT 	a.apply_stnd_ymd,		       	a.chng_bef_org_cd, 		       	a.chng_aft_org_cd, 		       	a.chng_rsn,		       	a.req_sno_id,		        a.chng_bef_unit_cd,		        (SELECT unit_nm FROM TB_ZZUNIT WHERE record_center_id = '1' AND unit_cd =  a.chng_bef_unit_cd)chng_bef_unit_nm,		        (SELECT org_nm FROM TB_STORG WHERE record_center_id = '1' AND org_cd =  a.CHNG_BEF_ORG_CD) chng_bef_org_nm,		        (SELECT org_nm FROM TB_STORG WHERE record_center_id = '1' AND org_cd =  a.CHNG_AFT_ORG_CD) chng_aft_org_nm,		        (SELECT com_unit_flag FROM TB_ZZORGUNIT WHERE record_center_id = '1' AND org_cd =  a.chng_aft_org_cd AND unit_cd = a.chng_bef_unit_cd) com_unit_flag,		        (SELECT com_cd_nm FROM tb_zzcomcd WHERE com_type_cd = 'ZZ23' AND com_cd = a.unit_req_state_cd) AS unit_req_state_cd_nm,		        b.take_mng_no		FROM    TB_ZZUNITMOVEREQ a, TB_ZZUNITREQ b		WHERE	a.record_center_id = '1'		AND     a.req_sno_id = '1'		AND     a.unit_req_type_cd = '1'		AND 	a.chng_bef_org_cd = '1'   		AND 	a.chng_aft_org_cd = '1'   		AND 	a.chng_bef_unit_cd = '1'		AND     a.record_center_id = b.record_center_id		AND     a.req_sno_id = b.req_sno_id		AND     a.unit_req_type_cd = b.unit_req_type_cd 	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : select
-- Query Id : findOrgSetReqInfo

		SELECT 	a.apply_stnd_ymd,		       	a.chng_bef_org_cd, 		       	a.chng_aft_org_cd, 		       	a.chng_rsn,		       	a.req_sno_id,		        (SELECT org_nm FROM TB_STORG WHERE record_center_id = '1' AND org_cd =  a.CHNG_BEF_ORG_CD) chng_bef_org_nm,		        (SELECT org_nm FROM TB_STORG WHERE record_center_id = '1' AND org_cd =  a.CHNG_AFT_ORG_CD) chng_aft_org_nm,		        (SELECT com_cd_nm FROM tb_zzcomcd WHERE com_type_cd = 'ZZ23' AND com_cd = a.unit_req_state_cd) AS unit_req_state_cd_nm,		        b.take_mng_no		FROM    TB_ZZUNITSETREQ a, TB_ZZUNITREQ b		WHERE	a.record_center_id = '1'		AND     a.req_sno_id = '1'		AND     a.unit_req_type_cd = '1'		AND 	a.chng_bef_org_cd = '1'   		AND 	a.chng_aft_org_cd = '1'		AND     a.record_center_id = b.record_center_id		AND     a.req_sno_id = b.req_sno_id		AND     a.unit_req_type_cd = b.unit_req_type_cd ;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : select
-- Query Id : findOrgDelReqInfo

		SELECT 	a.apply_stnd_ymd, a.req_sno_id,		       	a.chng_bef_org_cd, a.chng_bef_unit_cd,		       	a.chng_rsn,		        (SELECT org_nm FROM TB_STORG WHERE record_center_id = '1' AND org_cd =  a.CHNG_BEF_ORG_CD) chng_bef_org_nm,		        (SELECT unit_nm FROM TB_ZZUNIT WHERE record_center_id = '1' AND unit_cd =  a.chng_bef_unit_cd) chng_bef_unit_nm,		        (SELECT com_cd_nm FROM tb_zzcomcd WHERE com_type_cd = 'ZZ23' AND com_cd = a.unit_req_state_cd) AS unit_req_state_cd_nm,		        b.take_mng_no		FROM    TB_ZZUNITDELREQ a, TB_ZZUNITREQ b		WHERE	a.record_center_id = '1'		AND     a.req_sno_id = '1'		AND     a.unit_req_type_cd = '1'		AND 	a.chng_bef_org_cd = '1'		AND 	a.chng_bef_unit_cd = '1'		AND     a.record_center_id = b.record_center_id		AND     a.req_sno_id = b.req_sno_id		AND     a.unit_req_type_cd = b.unit_req_type_cd ;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : update
-- Query Id : updateUnitNewInfo

		update TB_ZZUNITNEWREQ		set			  apply_stnd_ymd			= '1',    			  temp_unit_nm				= '1',			  temp_unit_alias			= '1',			  task_descr				= '1',			  adm_duty_ref_term_cd		= '1',			  evi_data_validity_term_cd	= '1',			  rel_law_duty_term			= '1',			  histdata_presv_term_cd	= '1',			  presv_term_cd				= '1',			  presv_term_fix_rsn		= '1',			  presv_method_cd			= '1',	    			  presv_area_cd				= '1',			  funsh_record_flag			= '1',			  funsh_record_transf_ymd	= '1', 			  main_read_usg				= '1',			  transf_read_expt_cnt		= '1',			  spcl_list_loc				= '1',			  spcl_list1				= '1',    			  spcl_list2				= '1',    			  spcl_list3	            = '1'		where record_center_id	= '1'		and   req_sno_id        = '1'		and   unit_req_type_cd  = '1'		and   org_cd        = '1'			and   temp_unit_cd	= '1'		;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : select
-- Query Id : findUnitRegPagedList

	SELECT C.*    FROM (        SELECT ROWNUM AS rnum            , B.*        FROM (		SELECT 			tb.record_center_id, tb.req_sno_id, tb.apply_stnd_ymd, 			(select com_cd_nm from tb_zzcomcd where com_type_cd = 'ZZ22' and com_cd = tb.unit_req_type_cd) as unit_req_type_cd,			(select org_nm || '(' || org_cd || ')'from tb_storg where record_center_id = tb.record_center_id and org_cd = tb.org_cd) as org_cd, 			tb.req_user_nm, tb.req_dtime, 			(select com_cd_nm from tb_zzcomcd where com_type_cd = 'ZZ23' and com_cd = tb.unit_req_state_cd) as unit_req_state_cd ,			tb.unit_req_state_cd as unit_req_state,			tb.unit_req_type_cd as unit_req_type,			tb.org_cd as org,			tb.temp_unit_cd, tb.unit_cd_req, tb.clss_cd_req, tb.clss_nm,			(select unit_nm from tb_zzunit where record_center_id = tb.record_center_id and unit_cd = tb.unit_cd_req) unit_nm,			tb.chng_aft_org_cd,			tb.org_cd AS chng_bef_org_cd		FROM		(			select 	a.record_center_id, a.req_sno_id, b.apply_stnd_ymd, a.unit_req_type_cd,b.org_cd, a.req_user_nm, a.req_dtime, b.unit_req_state_cd,					b.temp_unit_cd  as temp_unit_cd, b.unit_cd as unit_cd_req, b.clss_cd as clss_cd_req,					(select clss_nm from tb_zzclss where clss_cd = b.clss_cd) clss_nm,					'' AS chng_aft_org_cd			from	tb_zzunitreq a, tb_zzunitnewreq b 			where 	a.online_flag = '1'			and 	a.req_sno_id = b.req_sno_id			and		substr(b.take_mng_no,8,2) = '03'                                union all            select     a.record_center_id, a.req_sno_id, b.apply_stnd_ymd, a.unit_req_type_cd,b.org_cd, a.req_user_nm, a.req_dtime,                     b.unit_req_state_cd, b.unit_cd as temp_unit_cd, '','','' as clss_nm, '' AS chng_aft_org_cd            from    tb_zzunitreq a, tb_zzunitchngreq b             where     a.online_flag = '1'            and     a.req_sno_id = b.req_sno_id			and		substr(b.take_mng_no,8,2) = '03'                union all            select     a.record_center_id, a.req_sno_id, b.apply_stnd_ymd, a.unit_req_type_cd, b.CHNG_BEF_ORG_CD as org_cd , a.req_user_nm, a.req_dtime,                     b.unit_req_state_cd, b.chng_bef_unit_cd as temp_unit_cd,'','','' as clss_nm, b.chng_aft_org_cd AS chng_aft_org_cd            from    tb_zzunitreq a, tb_zzunitmovereq b            where     a.online_flag = '1'            and     a.req_sno_id = b.req_sno_id			and		substr(b.take_mng_no,8,2) = '03'                union all            select     a.record_center_id, a.req_sno_id, b.apply_stnd_ymd, a.unit_req_type_cd,b.chng_bef_org_cd as org_cd , a.req_user_nm, a.req_dtime,                     b.unit_req_state_cd, '' as temp_unit_cd,'','','' as clss_nm, b.chng_aft_org_cd AS chng_aft_org_cd            from    tb_zzunitreq a, tb_zzunitsetreq b            where     a.online_flag = '1'            and     a.req_sno_id = b.req_sno_id			and		substr(b.take_mng_no,8,2) = '03'            union all            select     a.record_center_id, a.req_sno_id, b.apply_stnd_ymd, a.unit_req_type_cd,b.chng_bef_org_cd as org_cd , a.req_user_nm, a.req_dtime,                     b.unit_req_state_cd, b.chng_bef_unit_cd as temp_unit_cd,'','','' as clss_nm, '' AS chng_aft_org_cd            from    tb_zzunitreq a, tb_zzunitdelreq b            where     a.online_flag = '1'            and     a.req_sno_id = b.req_sno_id			and		substr(b.take_mng_no,8,2) = '03'                            ) tb         order by tb.req_dtime              	        ) B        WHERE ROWNUM <= '1'    ) C    WHERE C.rnum >= '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : select
-- Query Id : countUnitList

				SELECT 	count(1)		FROM		(			SELECT 			tb.record_center_id, tb.req_sno_id, tb.apply_stnd_ymd, 			(select com_cd_nm from tb_zzcomcd where com_type_cd = 'ZZ22' and com_cd = tb.unit_req_type_cd) as unit_req_type_cd,			(select org_nm || '(' || org_cd || ')'from tb_storg where record_center_id = tb.record_center_id and org_cd = tb.org_cd) as org_cd, 			tb.req_user_nm, tb.req_dtime, 			(select com_cd_nm from tb_zzcomcd where com_type_cd = 'ZZ23' and com_cd = tb.unit_req_state_cd) as unit_req_state_cd ,			tb.unit_req_state_cd as unit_req_state,			tb.unit_req_type_cd as unit_req_type,			tb.org_cd as org,			tb.temp_unit_cd, tb.unit_cd_req, tb.clss_cd_req, tb.clss_nm,			(select unit_nm from tb_zzunit where record_center_id = tb.record_center_id and unit_cd = tb.unit_cd_req) unit_nm,			tb.chng_aft_org_cd,			tb.org_cd AS chng_bef_org_cd		FROM		(			select 	a.record_center_id, a.req_sno_id, b.apply_stnd_ymd, a.unit_req_type_cd,b.org_cd, a.req_user_nm, a.req_dtime, b.unit_req_state_cd,					b.temp_unit_cd  as temp_unit_cd, b.unit_cd as unit_cd_req, b.clss_cd as clss_cd_req,					(select clss_nm from tb_zzclss where clss_cd = b.clss_cd) clss_nm,					'' AS chng_aft_org_cd			from	tb_zzunitreq a, tb_zzunitnewreq b 			where 	a.online_flag = '1'			and 	a.req_sno_id = b.req_sno_id			and		substr(b.take_mng_no,8,2) = '03'			                                union all            select     a.record_center_id, a.req_sno_id, b.apply_stnd_ymd, a.unit_req_type_cd,b.org_cd, a.req_user_nm, a.req_dtime,                     b.unit_req_state_cd, b.unit_cd as temp_unit_cd, '','','' as clss_nm, '' AS chng_aft_org_cd            from    tb_zzunitreq a, tb_zzunitchngreq b             where     a.online_flag = '1'            and     a.req_sno_id = b.req_sno_id			and		substr(b.take_mng_no,8,2) = '03'                union all            select     a.record_center_id, a.req_sno_id, b.apply_stnd_ymd, a.unit_req_type_cd, b.CHNG_BEF_ORG_CD as org_cd , a.req_user_nm, a.req_dtime,                     b.unit_req_state_cd, b.chng_bef_unit_cd as temp_unit_cd,'','','' as clss_nm, b.chng_aft_org_cd AS chng_aft_org_cd            from    tb_zzunitreq a, tb_zzunitmovereq b            where     a.online_flag = '1'            and     a.req_sno_id = b.req_sno_id			and		substr(b.take_mng_no,8,2) = '03'                union all            select     a.record_center_id, a.req_sno_id, b.apply_stnd_ymd, a.unit_req_type_cd,b.chng_bef_org_cd as org_cd , a.req_user_nm, a.req_dtime,                     b.unit_req_state_cd, '' as temp_unit_cd,'','','' as clss_nm, b.chng_aft_org_cd AS chng_aft_org_cd            from    tb_zzunitreq a, tb_zzunitsetreq b            where     a.online_flag = '1'            and     a.req_sno_id = b.req_sno_id			and		substr(b.take_mng_no,8,2) = '03'            union all            select     a.record_center_id, a.req_sno_id, b.apply_stnd_ymd, a.unit_req_type_cd,b.chng_bef_org_cd as org_cd , a.req_user_nm, a.req_dtime,                     b.unit_req_state_cd, b.chng_bef_unit_cd as temp_unit_cd,'','','' as clss_nm, '' AS chng_aft_org_cd            from    tb_zzunitreq a, tb_zzunitdelreq b            where     a.online_flag = '1'            and     a.req_sno_id = b.req_sno_id			and		substr(b.take_mng_no,8,2) = '03'                    		) tb		) 		;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : select
-- Query Id : findClssList

		SELECT 	tb.clss_nm AS clss_nm, ROWNUM as rownumber, gbn, com_unit_flag		FROM 	(				SELECT	clss_nm, levl, upper_clss_cd, sort_sno, clss_cd,						ROWNUM AS rownumber, 'clss' as gbn, '' as com_unit_flag				FROM 	TB_ZZCLSS				WHERE 	clss_cd != '00000000'				START WITH clss_cd = '1'				CONNECT BY clss_cd = PRIOR upper_clss_cd				ORDER BY levl				) tb		WHERE 	tb.rownumber < 4		UNION ALL 		SELECT 	tb2.lrg_nm, ROWNUM AS rownumber, 'unit' as gbn, com_unit_flag		FROM				(				SELECT 	lrg_nm , com_unit_flag				FROM 	TB_ZZUNIT				WHERE 	record_center_id = '1' AND unit_cd = '1'				UNION ALL				SELECT 	mid_nm , com_unit_flag				FROM 	TB_ZZUNIT				WHERE 	record_center_id = '1' AND unit_cd = '1'				UNION ALL				SELECT 	sml_nm , com_unit_flag				FROM 	TB_ZZUNIT				WHERE record_center_id = '1' AND unit_cd = '1'				) tb2			;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : update
-- Query Id : updateUnitCdOrgModReq

		UPDATE 	TB_ZZUNITMOVEREQ		SET    	chng_bef_org_cd = '1',		       	chng_aft_org_cd = '1',		       	apply_stnd_ymd  = '1',		       	chng_rsn        = NVL('1',CHNG_RSN),		       	chng_bef_unit_cd = '1'		WHERE 	record_center_id = '1'		AND 	req_sno_id = '1'		AND 	unit_req_type_cd = '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : update
-- Query Id : updateUnitCdOrgDelReq

		UPDATE 	TB_ZZUNITDELREQ		SET    	chng_bef_org_cd = '1',		       	chng_bef_unit_cd = '1', 		       	apply_stnd_ymd  = '1',		       	chng_rsn        = NVL('1',CHNG_RSN)		WHERE 	record_center_id = '1'		AND 	req_sno_id = '1'		AND 	unit_req_type_cd = '1';


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : update
-- Query Id : updateOrgModReq

		UPDATE 	TB_ZZUNITSETREQ		SET    	CHNG_BEF_ORG_CD = '1',		       	CHNG_AFT_ORG_CD = '1',		       	APPLY_STND_YMD  = '1',		       	CHNG_RSN        = NVL('1',CHNG_RSN)		WHERE 	RECORD_CENTER_ID = '1'		AND 	REQ_SNO_ID = '1'		AND 	UNIT_REQ_TYPE_CD = '1';


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : select
-- Query Id : findUnitNewInfo

		select 				record_center_id	         ,				req_sno_id	                 ,				unit_req_type_cd	         ,				(select org_nm from tb_storg where record_center_id = a.record_center_id and org_cd = a.org_cd) as org_nm ,				org_cd	                     ,    				temp_unit_cd	             ,				apply_stnd_ymd	             ,    				clss_cd	                     ,    				temp_unit_nm	             ,				task_descr	                 ,    				adm_duty_ref_term_cd	     ,				evi_data_validity_term_cd		,				rel_law_duty_term	     ,				histdata_presv_term_cd	     ,				presv_term_cd	             ,				presv_term_fix_rsn	         ,				presv_method_cd	             ,    				presv_area_cd	             ,				funsh_record_flag	         ,				funsh_record_transf_ymd	     , 				main_read_usg	             ,				transf_read_expt_cnt	     ,				spcl_list_loc	             ,				spcl_list1	                 ,    				spcl_list2	                 ,    				spcl_list3	                 ,				unit_cd						 ,				(select unit_nm from tb_zzunit where record_center_id = a.record_center_id and unit_cd = a.unit_cd) as unitNm,				(select clss_nm from tb_zzclss where clss_cd = a.clss_cd) clss_nm		from  	TB_ZZUNITNEWREQ a		where 	record_center_id	= '1'		and   	req_sno_id        = '1'		and   	unit_req_type_cd  = '1'		and   	org_cd        = '1'			and   	temp_unit_cd	= '1'		;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : delete
-- Query Id : deleteSetUnit

		DELETE 	TB_ZZUNITSETREQ		WHERE 	REQ_SNO_ID = '1';


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : delete
-- Query Id : deleteMoveUnit

		DELETE 	TB_ZZUNITMOVEREQ		WHERE 	REQ_SNO_ID = '1';


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : delete
-- Query Id : deleteDelUnit

		DELETE 	TB_ZZUNITDELREQ		WHERE 	REQ_SNO_ID = '1';


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : delete
-- Query Id : deleteNewUnit

		DELETE 	TB_ZZUNITNEWREQ		WHERE 	REQ_SNO_ID = '1';


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : delete
-- Query Id : deleteChngUnit

		DELETE 	TB_ZZUNITCHNGREQ		WHERE 	REQ_SNO_ID = '1';


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : delete
-- Query Id : deleteUnit

		DELETE 	TB_ZZUNITREQ		WHERE 	REQ_SNO_ID = '1';


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : select
-- Query Id : findUnitList

		SELECT 	record_center_id	    ,				unit_cd	                ,				unit_nm	                ,				unit_descr	            ,				nars_handl_dtime	    ,				creat_stnd_ymd	        ,				temp_unit_cd	        ,				lrg_cd	                ,				lrg_nm	                ,				mid_cd	                ,				mid_nm	                ,				sml_cd	                ,				sml_nm	                ,				presv_term_cd	        ,				presv_term_fix_rsn	    ,				presv_method_cd	        ,				presv_area_cd	        ,				funsh_record_flag	    ,				funsh_record_transf_ymd	,				main_read_usg	        ,				transf_read_expt_cnt	,				spcl_list_loc	        ,				spcl_list1	            ,				spcl_list2	            ,				spcl_list3	            ,				state_cd	            ,				take_flag	            ,				reg_user_id	            ,				reg_dtime	            ,				presvterm_state_cd	    ,				com_unit_flag           				, (select com_cd_nm from tb_zzcomcd where com_type_cd = 'RD07' AND com_cd = presv_term_cd) presv_term_nm				, (select com_cd_nm from tb_zzcomcd where com_type_cd = 'RD09' AND com_cd = presv_method_cd) presv_method_nm				, (select com_cd_nm from tb_zzcomcd where com_type_cd = 'RD10' AND com_cd = presv_area_cd) presv_area_nm				, (select com_cd_nm from tb_zzcomcd where com_type_cd = 'ZZ21' AND com_cd = funsh_record_flag) funsh_record_flag_nm				, (select com_cd_nm from tb_zzcomcd where com_type_cd = 'RD22' AND com_cd = spcl_list_loc) spcl_list_loc_nm		from 	TB_ZZUNIT		where 	RECORD_CENTER_ID = '1'		and   	UNIT_CD = '1'			;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : select
-- Query Id : findUnitChngReq

		SELECT 	A.record_center_id	    ,				A.unit_cd	                ,				A.unit_nm	                ,				A.unit_descr	            ,				A.nars_handl_dtime	    ,				A.creat_stnd_ymd	        ,				A.temp_unit_cd	        ,				A.lrg_cd	                ,				A.lrg_nm	                ,				A.mid_cd	                ,				A.mid_nm	                ,				A.sml_cd	                ,				A.sml_nm	                ,				A.presv_term_cd	        ,				A.presv_term_fix_rsn	    ,				A.presv_method_cd	        ,				A.presv_area_cd	        ,				A.funsh_record_flag	    ,				A.funsh_record_transf_ymd	,				A.main_read_usg	        ,				A.transf_read_expt_cnt	,				A.spcl_list_loc	        ,				A.spcl_list1	            ,				A.spcl_list2	            ,				A.spcl_list3	            ,				A.state_cd	            ,				A.take_flag	            ,				A.reg_user_id	            ,				A.reg_dtime	            ,				A.presvterm_state_cd	    ,				A.com_unit_flag           				, (select com_cd_nm from tb_zzcomcd where com_type_cd = 'RD07' AND com_cd = A.presv_term_cd) presv_term_nm				, (select com_cd_nm from tb_zzcomcd where com_type_cd = 'RD09' AND com_cd = A.presv_method_cd) presv_method_nm				, (select com_cd_nm from tb_zzcomcd where com_type_cd = 'RD10' AND com_cd = A.presv_area_cd) presv_area_nm				, (select com_cd_nm from tb_zzcomcd where com_type_cd = 'ZZ21' AND com_cd = A.funsh_record_flag) funsh_record_flag_nm				, (select com_cd_nm from tb_zzcomcd where com_type_cd = 'RD22' AND com_cd = A.spcl_list_loc) spcl_list_loc_nm		from 	TB_ZZUNIT A INNER JOIN TB_ZZORGUNIT B ON A.RECORD_CENTER_ID = B.RECORD_CENTER_ID AND A.UNIT_CD = B.UNIT_CD		where 	A.RECORD_CENTER_ID = '1'		and   	A.UNIT_CD = '1'				and   	B.ORG_CD = '1';


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : select
-- Query Id : findRegUnitNewReq

		SELECT TO_CHAR(SYSDATE,'YYYY')||LPAD((TB_ZZUNITREQ_SQ01.nextval), 6, '0') FROM DUAL	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : insert
-- Query Id : createRegUnit

		INSERT INTO TB_ZZUNITREQ		(			record_center_id,			req_sno_id,			unit_req_type_cd,			req_dtime,				req_user_nm,				online_flag,			take_mng_no,			req_yyyy,			req_org_cd,			creat_sys_cd		 			)		VALUES (			'1',			'1',			'1',						to_char(sys_datetime,'yyyymmddhh24miss'),			'1',			'1',			'1',			TO_CHAR(SYSDATE,'YYYY'),			'1',			'02'		)  ;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : insert
-- Query Id : createRegUnitChngReq

		INSERT INTO TB_ZZUNITCHNGREQ		(			record_center_id	        ,			req_sno_id	                ,			org_cd	                    ,			unit_cd	                    ,			unit_req_type_cd        	,			apply_stnd_ymd	            ,			chng_bef_unit_nm	        ,			chng_aft_unit_nm	        ,			unit_nm_chng_rsn	        ,			chng_bef_unit_alias	        ,			chng_aft_unit_alias	        ,			unit_alias_chng_rsn	        ,			chng_bef_unit_descr	        ,			chng_aft_unit_descr	        ,			unit_descr_chng_rsn	        ,			chng_bef_presv_term_cd	    ,			chng_aft_presv_term_cd	    ,			presv_term_cd_chng_rsn	    ,			chng_bef_presv_method_cd	,			chng_aft_presv_method_cd	,			presv_method_cd_chng_rsn	,			chng_bef_presv_area_cd	    ,			chng_aft_presv_area_cd	    ,			presv_area_cd_chng_rsn	    ,			chng_bef_funsh_record_flag	,			chng_aft_funsh_record_flag	,			funsh_record_falg_chng_rsn	,			bef_funsh_record_transf_ymd	,			aft_funsh_record_transf_ymd	,			funsh_record_transf_ymd_rsn	,			chng_bef_spcl_list_loc	    ,			chng_aft_spcl_list_loc	    ,			spcl_list_loc_chng_rsn	    ,			chng_bef_spcl_list1	        ,			chng_aft_spcl_list1	        ,			spcl_list1_chng_rsn	        ,			chng_bef_spcl_list2	        ,			chng_aft_spcl_list2	        ,			spcl_list2_chng_rsn	        ,			chng_bef_spcl_list3	        ,			chng_aft_spcl_list3	        ,			spcl_list3_chng_rsn			,			unit_req_state_cd        	,			take_mng_no		)		VALUES (			'1'  ,			'1'  ,			'1'  ,			'1'  ,			'1'  ,			                        to_char(to_date('1','yyyymmdd'),'yyyymmdd') ,			'1'  ,			'1'  ,			'1'  ,			'1'  ,			'1'  ,			'1'  ,			'1'  ,			'1'  ,			'1'  ,			'1'  ,			'1'  ,			'1'  ,			'1'  ,			'1'  ,			'1'  ,			'1'  ,			'1'  ,			'1'  ,			'1'  ,			'1'  ,			'1'  ,			'1',			'1',			'1',			'1'  ,			'1'  ,			'1'  ,			'1'  ,			'1'  ,			'1'  ,			'1'  ,			'1'  ,			'1'  ,			'1'  ,			'1'  ,			'1'  ,			'0'	,			'1'		);


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : select
-- Query Id : findUnitClss

		SELECT						 LRG_NM, 			 MID_NM, 			 SML_NM,			 COM_UNIT_FLAG		FROM TB_ZZUNIT		WHERE RECORD_CENTER_ID = '1'		AND  UNIT_CD = '1';


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : update
-- Query Id : updateUnitChngInfo

		update 	TB_ZZUNITCHNGREQ		set		apply_stnd_ymd	            =	'1' 			        ,					  	chng_aft_unit_nm			=	'1' 			    ,			  	unit_nm_chng_rsn			=	'1' 			    ,			  	chng_aft_unit_alias	        =	'1' 		        ,			  	unit_alias_chng_rsn	        =	'1' 		        ,			  	chng_aft_unit_descr	        =	'1' 		        ,			  	unit_descr_chng_rsn	        =	'1' 		        ,			  	chng_aft_presv_term_cd	    =	'1' 		    ,			  	presv_term_cd_chng_rsn	    =	'1' 		    ,			  	chng_aft_presv_method_cd	=	'1' 	        ,			  	presv_method_cd_chng_rsn	=	'1' 	        ,			  	chng_aft_presv_area_cd	    =	'1' 		    ,			  	presv_area_cd_chng_rsn	    =	'1' 		    ,			  	chng_aft_funsh_record_flag	=	'1' 	    ,			  	funsh_record_falg_chng_rsn	=	'1' 	    ,			  	aft_funsh_record_transf_ymd	=	'1' 	    ,			  	funsh_record_transf_ymd_rsn	=	'1' 	    ,			  	chng_aft_spcl_list_loc	    =	'1' 		    ,			  	spcl_list_loc_chng_rsn	    =	'1' 		    ,			  	chng_aft_spcl_list1	        =	'1' 		        ,			  	spcl_list1_chng_rsn	        =	'1' 		        ,			  	chng_aft_spcl_list2	        =	'1' 		        ,			  	spcl_list2_chng_rsn	        =	'1' 		        ,			  	chng_aft_spcl_list3	        =	'1' 		        ,			  	spcl_list3_chng_rsn	        =	'1'	         		where 	record_center_id	= '1'		and   	req_sno_id        = '1'		and   	unit_req_type_cd  = '1'		and   	org_cd		    = '1'			and   	unit_cd			= '1'		;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : insert
-- Query Id : createRegUnitReq

		INSERT INTO TB_ZZUNITREQ		(			record_center_id	         ,			req_sno_id	                 ,			unit_req_type_cd	         ,			req_dtime					 ,				req_user_nm					 ,				unit_req_state_cd			 , 				online_flag					,			take_mng_no					,			req_yyyy					,			req_org_cd					,			creat_sys_cd		)		VALUES (			'1'            ,   			'1'                    ,   			'1'             ,   			to_char(sys_datetime,'yyyymmddhh24miss')             ,   			'1'					,   			'0'                         , 			'1'              			,			'1'			,			TO_CHAR(SYSDATE,'YYYY'),			'1',			'1'		)  	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : insert
-- Query Id : createRegUnitNewReq

		INSERT INTO TB_ZZUNITNEWREQ		(			record_center_id	         ,			req_sno_id	                 ,			unit_req_type_cd	         ,			org_cd	                     ,    			temp_unit_cd	             ,			apply_stnd_ymd	             ,    			clss_cd	                     ,    			temp_unit_nm	             ,			temp_unit_alias				 ,				task_descr	                 ,    			adm_duty_ref_term_cd	     ,			evi_data_validity_term_cd		,			rel_law_duty_term	     ,			histdata_presv_term_cd	     ,			presv_term_cd	             ,			presv_term_fix_rsn	         ,			presv_method_cd	             ,    			presv_area_cd	             ,			funsh_record_flag	         ,			funsh_record_transf_ymd	     , 			main_read_usg	             ,			transf_read_expt_cnt	     ,			spcl_list_loc	             ,			spcl_list1	                 ,    			spcl_list2	                 ,    			spcl_list3	                 ,			unit_req_state_cd            ,			take_mng_no		)		VALUES (			'1'            ,   			'1'                    ,   			'1'             ,   			'1'                     ,   			'1'                ,   			'1'              ,   			'1'                    ,   			'1'                ,			'1'             ,			'1'                 ,   			'1'          ,   			'1'     ,			'1'          ,   			'1'       ,   			'1'               ,   			'1'           ,   			'1'             ,   			'1'               ,   			'1'           ,   			'1'      ,   			'1'               ,   			'1'         ,   			'1'               ,   			'1'                 ,   			'1'                 ,   			'1'                 ,                                 			'0'                         ,			'1'     		)  ;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : select
-- Query Id : countUnitMngRecvPagedList

		SELECT  COUNT(1)        FROM            (        SELECT  a.record_center_id, a.unit_req_type_cd, a.req_org_cd, a.req_sno_id,                COUNT(b.req_sno_id) AS recvCnt,                SUM(DECODE(b.unit_req_state_cd,'0',1,0)) AS unAprovCnt,                SUM(DECODE(b.unit_req_state_cd,'1',1,0)) AS aprovCnt,                SUM(DECODE(b.unit_req_state_cd,'2',1,0)) AS dontAprovCnt,                MAX(a.req_dtime) AS req_dtime,                MAX(a.creat_sys_cd) AS creat_sys_cd,                MAX(a.take_mng_no) AS take_mng_no,                MAX(a.online_flag) AS online_flag,		        MAX(c.unDistrCnt) AS unDistrCnt,		        MAX(c.distrCnt) AS distrCnt        FROM    TB_ZZUNITREQ a, TB_ZZUNITNEWREQ b,        		(SELECT take_mng_no, 		        		SUM(DECODE(unit_send_flag, '0', 1, 0)) AS unDistrCnt,		                SUM(DECODE(unit_send_flag, '1', 1, 0)) AS distrCnt		        FROM    TB_ZZORGUNITWORKHIST		        GROUP BY take_mng_no)  c                WHERE   a.record_center_id = '1'        AND		a.unit_req_type_cd = '1'        AND     a.record_center_id = b.record_center_id(+)        AND     a.req_sno_id = b.req_sno_id(+)        AND     a.unit_req_type_cd = b.unit_req_type_cd(+)         AND                 a.req_yyyy = '1'          AND                 a.req_org_cd = '1'          AND                 a.unit_req_type_cd = '1'                 AND		a.take_mng_no = c.take_mng_no(+)        GROUP BY a.record_center_id, a.unit_req_type_cd, a.req_org_cd, a.req_sno_id        UNION ALL        SELECT  a.record_center_id, a.unit_req_type_cd, a.req_org_cd, a.req_sno_id,                COUNT(b.req_sno_id) AS recvCnt,                SUM(DECODE(b.unit_req_state_cd,'0',1,0)) AS unAprovCnt,                SUM(DECODE(b.unit_req_state_cd,'1',1,0)) AS aprovCnt,                SUM(DECODE(b.unit_req_state_cd,'2',1,0)) AS dontAprovCnt,                MAX(a.req_dtime) AS req_dtime,                MAX(a.creat_sys_cd) AS creat_sys_cd,                MAX(a.take_mng_no) AS take_mng_no,                MAX(a.online_flag) AS online_flag,		        MAX(c.unDistrCnt) AS unDistrCnt,		        MAX(c.distrCnt) AS distrCnt        FROM    TB_ZZUNITREQ a, TB_ZZUNITCHNGREQ b,        		(SELECT take_mng_no, 		        		SUM(DECODE(unit_send_flag, '0', 1, 0)) AS unDistrCnt,		                SUM(DECODE(unit_send_flag, '1', 1, 0)) AS distrCnt		        FROM    TB_ZZORGUNITWORKHIST		        GROUP BY take_mng_no)  c             WHERE   a.record_center_id = '1'        AND		a.unit_req_type_cd = '2'        AND     a.record_center_id = b.record_center_id(+)        AND     a.req_sno_id = b.req_sno_id(+)        AND     a.unit_req_type_cd = b.unit_req_type_cd(+)         AND                 a.req_yyyy = '1'          AND                 a.req_org_cd = '1'          AND                 a.unit_req_type_cd = '1'                 AND		a.take_mng_no = c.take_mng_no(+)        GROUP BY a.record_center_id, a.unit_req_type_cd, a.req_org_cd, a.req_sno_id        UNION ALL        SELECT  a.record_center_id, a.unit_req_type_cd, a.req_org_cd, a.req_sno_id,                COUNT(b.req_sno_id) AS recvCnt,                SUM(DECODE(b.unit_req_state_cd,'0',1,0)) AS unAprovCnt,                SUM(DECODE(b.unit_req_state_cd,'1',1,0)) AS aprovCnt,                SUM(DECODE(b.unit_req_state_cd,'2',1,0)) AS dontAprovCnt,                MAX(a.req_dtime) AS req_dtime,                MAX(a.creat_sys_cd) AS creat_sys_cd,                MAX(a.take_mng_no) AS take_mng_no,                MAX(a.online_flag) AS online_flag,                MAX(c.unDistrCnt) AS unDistrCnt,		        MAX(c.distrCnt) AS distrCnt        FROM    TB_ZZUNITREQ a, TB_ZZUNITMOVEREQ b,        		(SELECT take_mng_no, 		        		SUM(DECODE(unit_send_flag, '0', 1, 0)) AS unDistrCnt,		                SUM(DECODE(unit_send_flag, '1', 1, 0)) AS distrCnt		        FROM    TB_ZZORGUNITWORKHIST		        GROUP BY take_mng_no)  c             WHERE   a.record_center_id = '1'        AND		a.unit_req_type_cd = '5'        AND     a.record_center_id = b.record_center_id(+)        AND     a.req_sno_id = b.req_sno_id(+)        AND     a.unit_req_type_cd = b.unit_req_type_cd(+)         AND                 a.req_yyyy = '1'          AND                 a.req_org_cd = '1'          AND                 a.unit_req_type_cd = '1'                 AND		a.take_mng_no = c.take_mng_no(+)        GROUP BY a.record_center_id, a.unit_req_type_cd, a.req_org_cd, a.req_sno_id        UNION ALL        SELECT  a.record_center_id, a.unit_req_type_cd, a.req_org_cd, a.req_sno_id,                COUNT(b.req_sno_id) AS recvCnt,                SUM(DECODE(b.unit_req_state_cd,'0',1,0)) AS unAprovCnt,                SUM(DECODE(b.unit_req_state_cd,'1',1,0)) AS aprovCnt,                SUM(DECODE(b.unit_req_state_cd,'2',1,0)) AS dontAprovCnt,                MAX(a.req_dtime) AS req_dtime,                MAX(a.creat_sys_cd) AS creat_sys_cd,                MAX(a.take_mng_no) AS take_mng_no,                MAX(a.online_flag) AS online_flag,		        MAX(c.unDistrCnt) AS unDistrCnt,		        MAX(c.distrCnt) AS distrCnt        FROM    TB_ZZUNITREQ a, TB_ZZUNITSETREQ b,        		(SELECT take_mng_no, 		        		SUM(DECODE(unit_send_flag, '0', 1, 0)) AS unDistrCnt,		                SUM(DECODE(unit_send_flag, '1', 1, 0)) AS distrCnt		        FROM    TB_ZZORGUNITWORKHIST		        GROUP BY take_mng_no)  c             WHERE   a.record_center_id = '1'        AND		a.unit_req_type_cd = '4'        AND     a.record_center_id = b.record_center_id(+)        AND     a.req_sno_id = b.req_sno_id(+)        AND     a.unit_req_type_cd = b.unit_req_type_cd(+) AND                 a.req_yyyy = '1'          AND                 a.req_org_cd = '1'          AND                 a.unit_req_type_cd = '1'                 AND		a.take_mng_no = c.take_mng_no(+)        GROUP BY a.record_center_id, a.unit_req_type_cd, a.req_org_cd, a.req_sno_id        UNION ALL        SELECT  a.record_center_id, a.unit_req_type_cd, a.req_org_cd, a.req_sno_id,                COUNT(b.req_sno_id) AS recvCnt,                SUM(DECODE(b.unit_req_state_cd,'0',1,0)) AS unAprovCnt,                SUM(DECODE(b.unit_req_state_cd,'1',1,0)) AS aprovCnt,                SUM(DECODE(b.unit_req_state_cd,'2',1,0)) AS dontAprovCnt,                MAX(a.req_dtime) AS req_dtime,                MAX(a.creat_sys_cd) AS creat_sys_cd,                MAX(a.take_mng_no) AS take_mng_no,                MAX(a.online_flag) AS online_flag,		        MAX(c.unDistrCnt) AS unDistrCnt,		        MAX(c.distrCnt) AS distrCnt        FROM    TB_ZZUNITREQ a, TB_ZZUNITDELREQ b,        		(SELECT take_mng_no, 		        		SUM(DECODE(unit_send_flag, '0', 1, 0)) AS unDistrCnt,		                SUM(DECODE(unit_send_flag, '1', 1, 0)) AS distrCnt		        FROM    TB_ZZORGUNITWORKHIST		        GROUP BY take_mng_no)  c             WHERE   a.record_center_id = '1'        AND		a.unit_req_type_cd = '3'        AND     a.record_center_id = b.record_center_id(+)        AND     a.req_sno_id = b.req_sno_id(+)        AND     a.unit_req_type_cd = b.unit_req_type_cd(+)         AND                 a.req_yyyy = '1'          AND                 a.req_org_cd = '1'          AND                 a.unit_req_type_cd = '1'                 AND		a.take_mng_no = c.take_mng_no(+)        GROUP BY a.record_center_id, a.unit_req_type_cd, a.req_org_cd, a.req_sno_id        ) ta, TB_STORG tb        WHERE   ta.record_center_id = '1'        AND     ta.record_center_id = tb.record_center_id        AND     ta.req_org_cd = tb.org_cd AND 		     	ta.distrCnt = 0		 ;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : select
-- Query Id : findUnitMngRecvPagedList

	SELECT C.*    FROM (        SELECT ROWNUM AS rnum            , B.*        FROM (        SELECT  ta.record_center_id, ta.unit_req_type_cd, ta.req_org_cd, tb.org_nm AS req_org_nm,        		ta.req_org_cd || '(' || tb.org_abbr_nm || ')' AS req_org_abbr_nm_cd,                 tb.org_abbr_nm AS req_org_abbr_nm, ta.req_sno_id,                (SELECT com_cd_nm                FROM tb_zzcomcd                WHERE com_type_cd = 'ZZ22'                AND com_cd = ta.unit_req_type_cd) AS unit_req_type_cd_nm,                ta.recvCnt, ta.unAprovCnt, ta.aprovCnt, ta.dontAprovCnt,                 SUBSTR(ta.req_dtime,0,8) AS req_dtime, ta.creat_sys_cd, ta.take_mng_no,                DECODE(ta.online_flag,'0','온라인','1','오프라인') AS online_flag_nm,                NVL(ta.undistrcnt,0) AS undistrcnt, NVL(ta.distrcnt,0) AS distrcnt, ta.recv_rslt_cd        FROM            (        SELECT  a.record_center_id, a.unit_req_type_cd, a.req_org_cd, a.req_sno_id,                COUNT(b.req_sno_id) AS recvCnt,                SUM(DECODE(b.unit_req_state_cd,'0',1,0)) AS unAprovCnt,                SUM(DECODE(b.unit_req_state_cd,'1',1,0)) AS aprovCnt,                SUM(DECODE(b.unit_req_state_cd,'2',1,0)) AS dontAprovCnt,                MAX(a.req_dtime) AS req_dtime,                MAX(a.creat_sys_cd) AS creat_sys_cd,                MAX(a.take_mng_no) AS take_mng_no,                MAX(a.online_flag) AS online_flag,		        MAX(c.unDistrCnt) AS unDistrCnt,		        MAX(c.distrCnt) AS distrCnt,		        MAX(a.recv_rslt_cd) AS recv_rslt_cd        FROM    TB_ZZUNITREQ a, TB_ZZUNITNEWREQ b,        		(SELECT take_mng_no, 		        		SUM(DECODE(unit_send_flag, '0', 1, 0)) AS unDistrCnt,		                SUM(DECODE(unit_send_flag, '1', 1, 0)) AS distrCnt		        FROM    TB_ZZORGUNITWORKHIST		        GROUP BY take_mng_no)  c                WHERE   a.record_center_id = '1'        AND		a.unit_req_type_cd = '1'        AND     a.record_center_id = b.record_center_id(+)        AND     a.req_sno_id = b.req_sno_id(+)        AND     a.unit_req_type_cd = b.unit_req_type_cd(+)         AND                 a.req_yyyy = '1'          AND                 a.req_org_cd = '1'          AND                 a.unit_req_type_cd = '1'                 AND		a.take_mng_no = c.take_mng_no(+)        GROUP BY a.record_center_id, a.unit_req_type_cd, a.req_org_cd, a.req_sno_id        UNION ALL        SELECT  a.record_center_id, a.unit_req_type_cd, a.req_org_cd, a.req_sno_id,                COUNT(b.req_sno_id) AS recvCnt,                SUM(DECODE(b.unit_req_state_cd,'0',1,0)) AS unAprovCnt,                SUM(DECODE(b.unit_req_state_cd,'1',1,0)) AS aprovCnt,                SUM(DECODE(b.unit_req_state_cd,'2',1,0)) AS dontAprovCnt,                MAX(a.req_dtime) AS req_dtime,                MAX(a.creat_sys_cd) AS creat_sys_cd,                MAX(a.take_mng_no) AS take_mng_no,                MAX(a.online_flag) AS online_flag,		        MAX(c.unDistrCnt) AS unDistrCnt,		        MAX(c.distrCnt) AS distrCnt,		        MAX(a.recv_rslt_cd) AS recv_rslt_cd        FROM    TB_ZZUNITREQ a, TB_ZZUNITCHNGREQ b,        		(SELECT take_mng_no, 		        		SUM(DECODE(unit_send_flag, '0', 1, 0)) AS unDistrCnt,		                SUM(DECODE(unit_send_flag, '1', 1, 0)) AS distrCnt		        FROM    TB_ZZORGUNITWORKHIST		        GROUP BY take_mng_no)  c             WHERE   a.record_center_id = '1'        AND		a.unit_req_type_cd = '2'        AND     a.record_center_id = b.record_center_id(+)        AND     a.req_sno_id = b.req_sno_id(+)        AND     a.unit_req_type_cd = b.unit_req_type_cd(+)         AND                 a.req_yyyy = '1'          AND                 a.req_org_cd = '1'          AND                 a.unit_req_type_cd = '1'                 AND		a.take_mng_no = c.take_mng_no(+)        GROUP BY a.record_center_id, a.unit_req_type_cd, a.req_org_cd, a.req_sno_id        UNION ALL        SELECT  a.record_center_id, a.unit_req_type_cd, a.req_org_cd, a.req_sno_id,                COUNT(b.req_sno_id) AS recvCnt,                SUM(DECODE(b.unit_req_state_cd,'0',1,0)) AS unAprovCnt,                SUM(DECODE(b.unit_req_state_cd,'1',1,0)) AS aprovCnt,                SUM(DECODE(b.unit_req_state_cd,'2',1,0)) AS dontAprovCnt,                MAX(a.req_dtime) AS req_dtime,                MAX(a.creat_sys_cd) AS creat_sys_cd,                MAX(a.take_mng_no) AS take_mng_no,                MAX(a.online_flag) AS online_flag,                MAX(c.unDistrCnt) AS unDistrCnt,		        MAX(c.distrCnt) AS distrCnt,		        MAX(a.recv_rslt_cd) AS recv_rslt_cd        FROM    TB_ZZUNITREQ a, TB_ZZUNITMOVEREQ b,        		(SELECT take_mng_no, 		        		SUM(DECODE(unit_send_flag, '0', 1, 0)) AS unDistrCnt,		                SUM(DECODE(unit_send_flag, '1', 1, 0)) AS distrCnt		        FROM    TB_ZZORGUNITWORKHIST		        GROUP BY take_mng_no)  c             WHERE   a.record_center_id = '1'        AND		a.unit_req_type_cd = '5'        AND     a.record_center_id = b.record_center_id(+)        AND     a.req_sno_id = b.req_sno_id(+)        AND     a.unit_req_type_cd = b.unit_req_type_cd(+) AND                 a.req_yyyy = '1'          AND                 a.req_org_cd = '1'          AND                 a.unit_req_type_cd = '1'                 AND		a.take_mng_no = c.take_mng_no(+)        GROUP BY a.record_center_id, a.unit_req_type_cd, a.req_org_cd, a.req_sno_id        UNION ALL        SELECT  a.record_center_id, a.unit_req_type_cd, a.req_org_cd, a.req_sno_id,                COUNT(b.req_sno_id) AS recvCnt,                SUM(DECODE(b.unit_req_state_cd,'0',1,0)) AS unAprovCnt,                SUM(DECODE(b.unit_req_state_cd,'1',1,0)) AS aprovCnt,                SUM(DECODE(b.unit_req_state_cd,'2',1,0)) AS dontAprovCnt,                MAX(a.req_dtime) AS req_dtime,                MAX(a.creat_sys_cd) AS creat_sys_cd,                MAX(a.take_mng_no) AS take_mng_no,                MAX(a.online_flag) AS online_flag,		        MAX(c.unDistrCnt) AS unDistrCnt,		        MAX(c.distrCnt) AS distrCnt,		        MAX(a.recv_rslt_cd) AS recv_rslt_cd        FROM    TB_ZZUNITREQ a, TB_ZZUNITSETREQ b,        		(SELECT take_mng_no, 		        		SUM(DECODE(unit_send_flag, '0', 1, 0)) AS unDistrCnt,		                SUM(DECODE(unit_send_flag, '1', 1, 0)) AS distrCnt		        FROM    TB_ZZORGUNITWORKHIST		        GROUP BY take_mng_no)  c             WHERE   a.record_center_id = '1'        AND		a.unit_req_type_cd = '4'        AND     a.record_center_id = b.record_center_id(+)        AND     a.req_sno_id = b.req_sno_id(+)        AND     a.unit_req_type_cd = b.unit_req_type_cd(+) AND                 a.req_yyyy = '1'          AND                 a.req_org_cd = '1'          AND                 a.unit_req_type_cd = '1'                 AND		a.take_mng_no = c.take_mng_no(+)        GROUP BY a.record_center_id, a.unit_req_type_cd, a.req_org_cd, a.req_sno_id        UNION ALL        SELECT  a.record_center_id, a.unit_req_type_cd, a.req_org_cd, a.req_sno_id,                COUNT(b.req_sno_id) AS recvCnt,                SUM(DECODE(b.unit_req_state_cd,'0',1,0)) AS unAprovCnt,                SUM(DECODE(b.unit_req_state_cd,'1',1,0)) AS aprovCnt,                SUM(DECODE(b.unit_req_state_cd,'2',1,0)) AS dontAprovCnt,                MAX(a.req_dtime) AS req_dtime,                MAX(a.creat_sys_cd) AS creat_sys_cd,                MAX(a.take_mng_no) AS take_mng_no,                MAX(a.online_flag) AS online_flag,		        MAX(c.unDistrCnt) AS unDistrCnt,		        MAX(c.distrCnt) AS distrCnt,		        MAX(a.recv_rslt_cd) AS recv_rslt_cd        FROM    TB_ZZUNITREQ a, TB_ZZUNITDELREQ b,        		(SELECT take_mng_no, 		        		SUM(DECODE(unit_send_flag, '0', 1, 0)) AS unDistrCnt,		                SUM(DECODE(unit_send_flag, '1', 1, 0)) AS distrCnt		        FROM    TB_ZZORGUNITWORKHIST		        GROUP BY take_mng_no)  c             WHERE   a.record_center_id = '1'        AND		a.unit_req_type_cd = '3'        AND     a.record_center_id = b.record_center_id(+)        AND     a.req_sno_id = b.req_sno_id(+)        AND     a.unit_req_type_cd = b.unit_req_type_cd(+) AND                 a.req_yyyy = '1'          AND                 a.req_org_cd = '1'          AND                 a.unit_req_type_cd = '1'                 AND		a.take_mng_no = c.take_mng_no(+)        GROUP BY a.record_center_id, a.unit_req_type_cd, a.req_org_cd, a.req_sno_id        ) ta, TB_STORG tb        WHERE   ta.record_center_id = '1'        AND     ta.record_center_id = tb.record_center_id        AND     ta.req_org_cd = tb.org_cd AND 		     	ta.distrCnt = 0		 		ORDER BY ta.req_dtime desc		) B        WHERE ROWNUM <= '1'    ) C    WHERE C.rnum >= '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : select
-- Query Id : findUnitGrPath

		SELECT link_server_path		FROM   TB_STCONFIG		WHERE	record_center_id = '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : delete
-- Query Id : deleteZzUnitNewReq

		DELETE	FROM TB_ZZUNITNEWREQ		WHERE   take_mng_no = '1';


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : delete
-- Query Id : deleteZzUnitModReq

		DELETE	FROM TB_ZZUNITCHNGREQ		WHERE   take_mng_no = '1';


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : delete
-- Query Id : deleteZzUnitDelReq

		DELETE	FROM TB_ZZUNITDELREQ		WHERE   take_mng_no = '1';


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : delete
-- Query Id : deleteZzUnitSetReq

		DELETE	FROM TB_ZZUNITSETREQ		WHERE   take_mng_no = '1';


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : delete
-- Query Id : deleteZzUnitMoveReq

		DELETE	FROM TB_ZZUNITMOVEREQ		WHERE   take_mng_no = '1';


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : delete
-- Query Id : deleteZzUnitReq

		DELETE	FROM TB_ZZUNITREQ		WHERE   take_mng_no = '1';


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : select
-- Query Id : countUnitMngRecvNewDetailPagedList

        SELECT  COUNT(1)        FROM 	(		        SELECT  a.record_center_id, 		                b.apply_stnd_ymd,		                b.org_cd, b.temp_unit_cd, b.temp_unit_nm, 		                a.req_dtime, b.unit_req_state_cd		        FROM    TB_ZZUNITREQ a, TB_ZZUNITNEWREQ b     		        WHERE   a.record_center_id = '1'		        AND     a.req_sno_id = '1'		        AND     a.unit_req_type_cd = '1'		        AND     a.record_center_id = b.record_center_id		        AND     a.req_sno_id = b.req_sno_id		        AND     a.unit_req_type_cd = b.unit_req_type_cd		        ) ta, 		        TB_STORG tb        WHERE   ta.record_center_id = '1'        AND     ta.record_center_id = tb.record_center_id        AND     ta.org_cd = tb.org_cd;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : select
-- Query Id : findUnitMngRecvNewDetailPagedList

	SELECT C.*    FROM (        SELECT ROWNUM AS rnum            , B.*        FROM (        SELECT  ta.record_center_id, ta.apply_stnd_ymd,                ta.org_cd, tb.org_nm, tb.org_abbr_nm,                ta.temp_unit_cd, ta.temp_unit_nm,                 ta.unit_req_state_cd,                (SELECT com_cd_nm		        FROM tb_zzcomcd		        WHERE com_type_cd = 'ZZ23'		        AND com_cd = ta.unit_req_state_cd) AS unit_req_state_cd_nm,		        ta.unit_req_type_cd,		        ta.req_sno_id        FROM 	(		        SELECT  a.record_center_id, 		                b.apply_stnd_ymd,		                b.org_cd, b.temp_unit_cd, b.temp_unit_nm, 		                b.unit_req_state_cd, a.unit_req_type_cd,		                a.req_sno_id		        FROM    TB_ZZUNITREQ a, TB_ZZUNITNEWREQ b     		        WHERE   a.record_center_id = '1'		        AND     a.req_sno_id = '1'		        AND     a.unit_req_type_cd = '1'		        AND     a.record_center_id = b.record_center_id		        AND     a.req_sno_id = b.req_sno_id		        AND     a.unit_req_type_cd = b.unit_req_type_cd		        ) ta, 		        TB_STORG tb        WHERE   ta.record_center_id = '1'        AND     ta.record_center_id = tb.record_center_id        AND     ta.org_cd = tb.org_cd        ) B        WHERE ROWNUM <= '1'    ) C    WHERE C.rnum >= '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : select
-- Query Id : findUnitMngRecvNewDetail

		SELECT 	a.record_center_id,				a.req_sno_id,				a.unit_req_type_cd,				(SELECT org_nm FROM tb_storg WHERE record_center_id = a.record_center_id and org_cd = a.org_cd) as org_nm,				a.org_cd,				a.temp_unit_cd,				a.apply_stnd_ymd,				a.clss_cd,				a.temp_unit_nm,				a.temp_unit_alias,				a.task_descr,				a.adm_duty_ref_term_cd,				a.evi_data_validity_term_cd,				a.rel_law_duty_term,				a.histdata_presv_term_cd,				a.presv_term_cd,				a.presv_term_fix_rsn,				a.presv_method_cd,				a.presv_area_cd,				a.funsh_record_flag,				a.funsh_record_transf_ymd,				a.main_read_usg,				a.transf_read_expt_cnt,				a.spcl_list_loc,				a.spcl_list1,				a.spcl_list2,				a.spcl_list3,				a.unit_cd,				(SELECT unit_nm FROM tb_zzunit WHERE record_center_id = a.record_center_id and unit_cd = a.unit_cd) as unitNm,				decode(a.record_center_presv_term_cd,'',(SELECT record_center_presv_term_cd 														FROM tb_zzunitpresvtermhist				  										WHERE record_center_id =  a.record_center_id 				  										AND unit_cd = decode(a.unit_cd,'',a.clss_cd,a.unit_cd)),a.record_center_presv_term_cd) AS record_center_presv_term_cd,				decode(a.record_center_opin,'',(SELECT record_center_opin FROM tb_zzunitpresvtermhist 												WHERE record_center_id = a.record_center_id			           							AND unit_cd = decode(a.unit_cd,'',a.clss_cd,a.unit_cd)),a.record_center_opin) AS record_center_opin,				(SELECT com_cd_nm FROM tb_zzcomcd WHERE com_type_cd = 'RD57' AND com_cd = a.presv_term_cd) AS presv_term_cd_nm,				(SELECT com_cd_nm FROM tb_zzcomcd WHERE com_type_cd = 'ZZ23' AND com_cd = a.unit_req_state_cd) AS unit_req_state_cd_nm,				(SELECT com_cd_nm FROM tb_zzcomcd WHERE com_type_cd = 'RD09' AND com_cd = a.presv_method_cd) AS presv_method_cd_nm,				(SELECT com_cd_nm FROM tb_zzcomcd WHERE com_type_cd = 'RD10' AND com_cd = a.presv_area_cd) AS presv_area_cd_nm,				(SELECT com_cd_nm FROM tb_zzcomcd WHERE com_type_cd = 'ZZ21' AND com_cd = a.funsh_record_flag) AS funsh_record_flag_nm,				(SELECT com_cd_nm FROM tb_zzcomcd WHERE com_type_cd = 'ZZ05' AND com_cd = a.transf_read_expt_cnt) AS transf_read_expt_cnt_nm,				(SELECT com_cd_nm FROM tb_zzcomcd WHERE com_type_cd = 'ZZ04' AND com_cd = a.main_read_usg) AS main_read_usg_nm,				(SELECT com_cd_nm FROM tb_zzcomcd WHERE com_type_cd = 'RD22' AND com_cd = a.spcl_list_loc) AS spcl_list_loc_nm,				(SELECT com_cd_nm FROM tb_zzcomcd WHERE com_type_cd = 'RD57' AND com_cd = a.adm_duty_ref_term_cd) AS adm_duty_ref_term_cd_nm,				(SELECT com_cd_nm FROM tb_zzcomcd WHERE com_type_cd = 'RD57' AND com_cd = a.evi_data_validity_term_cd) AS evi_data_validity_term_cd_nm,				(SELECT com_cd_nm FROM tb_zzcomcd WHERE com_type_cd = 'ZZ20' AND com_cd = a.histdata_presv_term_cd) AS histdata_presv_term_cd_nm,				a.unit_alias		FROM  	TB_ZZUNITNEWREQ a  		WHERE 	a.record_center_id	= '1'		AND   	a.req_sno_id        = '1'		AND   	a.unit_req_type_cd  = '1'		AND   	a.org_cd        = '1'			AND   	a.temp_unit_cd	= '1';


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : select
-- Query Id : countUnitMngRecvModDetailPagedList

        SELECT  COUNT(1)        FROM 	(		        SELECT  a.record_center_id, 		                b.apply_stnd_ymd,		                b.org_cd, b.unit_cd, b.chng_bef_unit_nm,		                a.req_dtime, b.unit_req_state_cd		        FROM    TB_ZZUNITREQ a, TB_ZZUNITCHNGREQ b    		        WHERE   a.record_center_id = '1'		        AND     a.req_sno_id = '1'		        AND     a.unit_req_type_cd = '1'		        AND     a.record_center_id = b.record_center_id		        AND     a.req_sno_id = b.req_sno_id		        AND     a.unit_req_type_cd = b.unit_req_type_cd		        ) ta, 		        TB_STORG tb        WHERE   ta.record_center_id = '1'        AND     ta.record_center_id = tb.record_center_id        AND     ta.org_cd = tb.org_cd;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : select
-- Query Id : findUnitMngRecvModDetailPagedList

	SELECT C.*    FROM (        SELECT ROWNUM AS rnum            , B.*        FROM (        SELECT  ta.record_center_id, ta.apply_stnd_ymd,                ta.org_cd, tb.org_nm, tb.org_abbr_nm,                ta.unit_cd, ta.chng_bef_unit_nm,                 ta.unit_req_state_cd,                (SELECT com_cd_nm                FROM tb_zzcomcd                WHERE com_type_cd = 'ZZ23'                AND com_cd = ta.unit_req_state_cd) AS unit_req_state_cd_nm,                ta.unit_req_type_cd,                ta.req_sno_id        FROM     (                SELECT  a.record_center_id,                         b.apply_stnd_ymd,                        b.org_cd, b.unit_cd, b.chng_bef_unit_nm,                         b.unit_req_state_cd, a.unit_req_type_cd,                        a.req_sno_id                FROM    TB_ZZUNITREQ a, TB_ZZUNITCHNGREQ b                     WHERE   a.record_center_id = '1'                AND     a.req_sno_id = '1'                AND     a.unit_req_type_cd = '1'                AND     a.record_center_id = b.record_center_id                AND     a.req_sno_id = b.req_sno_id                AND     a.unit_req_type_cd = b.unit_req_type_cd                ) ta,                 TB_STORG tb        WHERE   ta.record_center_id = '1'        AND     ta.record_center_id = tb.record_center_id        AND     ta.org_cd = tb.org_cd        ) B        WHERE ROWNUM <= '1'    ) C    WHERE C.rnum >= '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : select
-- Query Id : countUnitMngRecvMoveDetailPagedList

		SELECT  COUNT(1)		FROM    TB_ZZUNITREQ a, TB_ZZUNITMOVEREQ b     		WHERE   a.record_center_id = '1'		AND     a.req_sno_id = '1'		AND     a.unit_req_type_cd = '1'		AND     a.record_center_id = b.record_center_id		AND     a.req_sno_id = b.req_sno_id		AND     a.unit_req_type_cd = b.unit_req_type_cd;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : select
-- Query Id : findUnitMngRecvMoveDetailPagedList

	SELECT C.*    FROM (        SELECT ROWNUM AS rnum            , B.*        FROM (		SELECT  a.record_center_id, b.apply_stnd_ymd,		        b.chng_bef_org_cd, b.chng_aft_org_cd,		        (SELECT org_nm FROM TB_STORG WHERE record_center_id = b.record_center_id AND org_cd = b.chng_bef_org_cd) as chng_bef_org_cd_nm,		        (SELECT org_abbr_nm FROM TB_STORG WHERE record_center_id = b.record_center_id AND org_cd = b.chng_bef_org_cd) as chng_bef_org_abbr_nm,		        (SELECT org_nm FROM TB_STORG WHERE record_center_id = b.record_center_id AND org_cd = b.chng_aft_org_cd) as chng_aft_org_cd_nm,		        (SELECT org_abbr_nm FROM TB_STORG WHERE record_center_id = b.record_center_id AND org_cd = b.chng_aft_org_cd) as chng_aft_org_abbr_nm,		        b.chng_bef_unit_cd, b.chng_rsn,		        (SELECT unit_nm FROM TB_ZZUNIT WHERE record_center_id = b.record_center_id AND unit_cd = b.chng_bef_unit_cd) chng_bef_unit_cd_nm,		        b.unit_req_state_cd, 		        (SELECT com_cd_nm FROM TB_ZZCOMCD WHERE com_type_cd = 'ZZ23' AND com_cd = b.unit_req_state_cd) AS unit_req_state_cd_nm,		        a.unit_req_type_cd, a.req_sno_id		FROM    TB_ZZUNITREQ a, TB_ZZUNITMOVEREQ b     		WHERE   a.record_center_id = '1'		AND     a.req_sno_id = '1'		AND     a.unit_req_type_cd = '1'		AND     a.record_center_id = b.record_center_id		AND     a.req_sno_id = b.req_sno_id		AND     a.unit_req_type_cd = b.unit_req_type_cd		) B        WHERE ROWNUM <= '1'    ) C    WHERE C.rnum >= '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : select
-- Query Id : countUnitMngRecvSetDetailPagedList

		SELECT  COUNT(1)		FROM    TB_ZZUNITREQ a, TB_ZZUNITSETREQ b     		WHERE   a.record_center_id = '1'		AND     a.req_sno_id = '1'		AND     a.unit_req_type_cd = '1'		AND     a.record_center_id = b.record_center_id		AND     a.req_sno_id = b.req_sno_id		AND     a.unit_req_type_cd = b.unit_req_type_cd;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : select
-- Query Id : findUnitMngRecvSetDetailPagedList

	SELECT C.*    FROM (        SELECT ROWNUM AS rnum            , B.*        FROM (		SELECT  a.record_center_id, b.apply_stnd_ymd,		        b.chng_bef_org_cd, b.chng_aft_org_cd,		        (SELECT org_nm FROM TB_STORG WHERE record_center_id = b.record_center_id AND org_cd = b.chng_bef_org_cd) as chng_bef_org_cd_nm,		        (SELECT org_abbr_nm FROM TB_STORG WHERE record_center_id = b.record_center_id AND org_cd = b.chng_bef_org_cd) as chng_bef_org_abbr_nm,		        (SELECT org_nm FROM TB_STORG WHERE record_center_id = b.record_center_id AND org_cd = b.chng_aft_org_cd) as chng_aft_org_cd_nm,		        (SELECT org_abbr_nm FROM TB_STORG WHERE record_center_id = b.record_center_id AND org_cd = b.chng_aft_org_cd) as chng_aft_org_abbr_nm,		        b.chng_rsn, b.unit_req_state_cd, 		        (SELECT com_cd_nm FROM TB_ZZCOMCD WHERE com_type_cd = 'ZZ23' AND com_cd = b.unit_req_state_cd) AS unit_req_state_cd_nm,		        a.unit_req_type_cd, a.req_sno_id		FROM    TB_ZZUNITREQ a, TB_ZZUNITSETREQ b     		WHERE   a.record_center_id = '1'		AND     a.req_sno_id = '1'		AND     a.unit_req_type_cd = '1'		AND     a.record_center_id = b.record_center_id		AND     a.req_sno_id = b.req_sno_id		AND     a.unit_req_type_cd = b.unit_req_type_cd		) B        WHERE ROWNUM <= '1'    ) C    WHERE C.rnum >= '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : select
-- Query Id : countUnitMngRecvDelDetailPagedList

		SELECT  COUNT(1)		FROM    TB_ZZUNITREQ a, TB_ZZUNITDELREQ b     		WHERE   a.record_center_id = '1'		AND     a.req_sno_id = '1'		AND     a.unit_req_type_cd = '1'		AND     a.record_center_id = b.record_center_id		AND     a.req_sno_id = b.req_sno_id		AND     a.unit_req_type_cd = b.unit_req_type_cd;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : select
-- Query Id : findUnitMngRecvDelDetailPagedList

	SELECT C.*    FROM (        SELECT ROWNUM AS rnum            , B.*        FROM (		SELECT  a.record_center_id, b.apply_stnd_ymd,		        b.chng_bef_org_cd,		        (SELECT org_nm FROM TB_STORG WHERE record_center_id = b.record_center_id AND org_cd = b.chng_bef_org_cd) as chng_bef_org_cd_nm,		        (SELECT org_abbr_nm FROM TB_STORG WHERE record_center_id = b.record_center_id AND org_cd = b.chng_bef_org_cd) as chng_bef_org_abbr_nm,		        b.chng_bef_unit_cd, b.chng_rsn,		        (SELECT unit_nm FROM TB_ZZUNIT WHERE record_center_id = b.record_center_id AND unit_cd = b.chng_bef_unit_cd) chng_bef_unit_cd_nm,		        b.unit_req_state_cd, 		        (SELECT com_cd_nm FROM TB_ZZCOMCD WHERE com_type_cd = 'ZZ23' AND com_cd = b.unit_req_state_cd) AS unit_req_state_cd_nm,		        a.unit_req_type_cd, a.req_sno_id		FROM    TB_ZZUNITREQ a, TB_ZZUNITDELREQ b     		WHERE   a.record_center_id = '1'		AND     a.req_sno_id = '1'		AND     a.unit_req_type_cd = '1'		AND     a.record_center_id = b.record_center_id		AND     a.req_sno_id = b.req_sno_id		AND     a.unit_req_type_cd = b.unit_req_type_cd		) B        WHERE ROWNUM <= '1'    ) C    WHERE C.rnum >= '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : select
-- Query Id : findUnitMngRecvModDetail

        SELECT  a.record_center_id,                a.req_sno_id,                a.unit_req_type_cd,                a.org_cd,                (SELECT org_nm FROM TB_STORG WHERE record_center_id = a.record_center_id AND org_cd = a.org_cd) as org_nm,                a.unit_cd,                a.apply_stnd_ymd,                a.chng_bef_unit_nm, a.chng_aft_unit_nm, a.unit_nm_chng_rsn,                a.chng_bef_unit_alias, a.chng_aft_unit_alias, a.unit_alias_chng_rsn,                a.chng_bef_unit_descr, a.chng_aft_unit_descr, a.unit_descr_chng_rsn,                a.chng_bef_presv_term_cd,                (SELECT com_cd_nm FROM tb_zzcomcd WHERE com_type_cd = 'RD57' AND com_cd = a.chng_bef_presv_term_cd) AS chng_bef_presv_term_cd_nm,                a.chng_aft_presv_term_cd,                (SELECT com_cd_nm FROM tb_zzcomcd WHERE com_type_cd = 'RD57' AND com_cd = a.chng_aft_presv_term_cd) AS chng_aft_presv_term_cd_nm,                a.presv_term_cd_chng_rsn,                a.chng_bef_presv_method_cd,                 (SELECT com_cd_nm FROM tb_zzcomcd WHERE com_type_cd = 'RD09' AND com_cd = a.chng_bef_presv_method_cd) AS chng_bef_presv_method_cd_nm,                a.chng_aft_presv_method_cd,                (SELECT com_cd_nm FROM tb_zzcomcd WHERE com_type_cd = 'RD09' AND com_cd = a.chng_aft_presv_method_cd) AS chng_aft_presv_method_cd_nm,                 a.presv_method_cd_chng_rsn,                a.chng_bef_presv_area_cd,                 (SELECT com_cd_nm FROM tb_zzcomcd WHERE com_type_cd = 'RD10' AND com_cd = a.chng_bef_presv_area_cd) AS chng_bef_presv_area_cd_nm,                a.chng_aft_presv_area_cd,                (SELECT com_cd_nm FROM tb_zzcomcd WHERE com_type_cd = 'RD10' AND com_cd = a.chng_aft_presv_area_cd) AS chng_aft_presv_area_cd_nm,                a.presv_area_cd_chng_rsn,                a.chng_bef_funsh_record_flag,                 (SELECT com_cd_nm FROM tb_zzcomcd WHERE com_type_cd = 'ZZ21' AND com_cd = a.chng_bef_funsh_record_flag) AS chng_bef_funsh_record_flag_nm,                a.chng_aft_funsh_record_flag,                (SELECT com_cd_nm FROM tb_zzcomcd WHERE com_type_cd = 'ZZ21' AND com_cd = a.chng_aft_funsh_record_flag) AS chng_aft_funsh_record_flag_nm,                a.funsh_record_falg_chng_rsn,                a.bef_funsh_record_transf_ymd, a.aft_funsh_record_transf_ymd, a.funsh_record_transf_ymd_rsn,                a.chng_bef_spcl_list_loc,                 (SELECT com_cd_nm FROM tb_zzcomcd WHERE com_type_cd = 'RD22' AND com_cd = a.chng_bef_spcl_list_loc) AS chng_bef_spcl_list_loc_nm,                a.chng_aft_spcl_list_loc,                 (SELECT com_cd_nm FROM tb_zzcomcd WHERE com_type_cd = 'RD22' AND com_cd = a.chng_aft_spcl_list_loc) AS chng_aft_spcl_list_loc_nm,                a.spcl_list_loc_chng_rsn,                a.chng_bef_spcl_list1, a.chng_aft_spcl_list1, a.spcl_list1_chng_rsn,                 a.chng_bef_spcl_list2, a.chng_aft_spcl_list2, a.spcl_list2_chng_rsn,                a.chng_bef_spcl_list3, a.chng_aft_spcl_list3, a.spcl_list3_chng_rsn,                a.unit_req_state_cd,                (SELECT com_cd_nm FROM tb_zzcomcd WHERE com_type_cd = 'ZZ23' AND com_cd = a.unit_req_state_cd) AS unit_req_state_cd_nm        FROM      TB_ZZUNITCHNGREQ a          WHERE     a.record_center_id = '1'        AND       a.req_sno_id = '1'        AND       a.org_cd = '1'        AND       a.unit_cd = '1'        AND       a.unit_req_type_cd = '1';


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : select
-- Query Id : findUnitMngRecvMoveDetail

       SELECT   a.record_center_id, a.req_sno_id,                 a.unit_req_type_cd, a.apply_stnd_ymd,                 a.chng_bef_org_cd, a.chng_aft_org_cd,                 (SELECT org_nm FROM TB_STORG WHERE record_center_id = a.record_center_id AND org_cd = a.chng_bef_org_cd) as chng_bef_org_cd_nm,                (SELECT org_nm FROM TB_STORG WHERE record_center_id = a.record_center_id AND org_cd = a.chng_aft_org_cd) as chng_aft_org_cd_nm,                a.chng_bef_unit_cd,                 (SELECT unit_nm FROM TB_ZZUNIT WHERE record_center_id = a.record_center_id AND unit_cd = a.chng_bef_unit_cd) chng_bef_unit_cd_nm,                a.chng_rsn,                 a.unit_req_state_cd,                 (SELECT com_cd_nm FROM tb_zzcomcd WHERE com_type_cd = 'ZZ23' AND com_cd = a.unit_req_state_cd) AS unit_req_state_cd_nm         FROM    TB_ZZUNITMOVEREQ a          WHERE   a.record_center_id = '1'        AND     a.req_sno_id = '1'        AND     a.unit_req_type_cd = '1'        AND     a.chng_bef_org_cd = '1'        AND     a.chng_aft_org_cd = '1'        AND     a.chng_bef_unit_cd = '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : select
-- Query Id : findUnitMngRecvSetDetail

       SELECT   a.record_center_id, a.req_sno_id,                 a.unit_req_type_cd, a.apply_stnd_ymd,                 a.chng_bef_org_cd, a.chng_aft_org_cd,                 (SELECT org_nm FROM TB_STORG WHERE record_center_id = a.record_center_id AND org_cd = a.chng_bef_org_cd) as chng_bef_org_cd_nm,                (SELECT org_nm FROM TB_STORG WHERE record_center_id = a.record_center_id AND org_cd = a.chng_aft_org_cd) as chng_aft_org_cd_nm,                a.chng_rsn,                 a.unit_req_state_cd,                 (SELECT com_cd_nm FROM tb_zzcomcd WHERE com_type_cd = 'ZZ23' AND com_cd = a.unit_req_state_cd) AS unit_req_state_cd_nm         FROM    TB_ZZUNITSETREQ a          WHERE   a.record_center_id = '1'        AND     a.req_sno_id = '1'        AND     a.unit_req_type_cd = '1'        AND     a.chng_bef_org_cd = '1'        AND     a.chng_aft_org_cd = '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : select
-- Query Id : findUnitMngRecvDelDetail

       SELECT   a.record_center_id, a.req_sno_id,                 a.unit_req_type_cd, a.apply_stnd_ymd,                 a.chng_bef_org_cd,                 (SELECT org_nm FROM TB_STORG WHERE record_center_id = a.record_center_id AND org_cd = a.chng_bef_org_cd) as chng_bef_org_cd_nm,                a.chng_bef_unit_cd,                 (SELECT unit_nm FROM TB_ZZUNIT WHERE record_center_id = a.record_center_id AND unit_cd = a.chng_bef_unit_cd) chng_bef_unit_cd_nm,                a.chng_rsn,                 a.unit_req_state_cd,                 (SELECT com_cd_nm FROM tb_zzcomcd WHERE com_type_cd = 'ZZ23' AND com_cd = a.unit_req_state_cd) AS unit_req_state_cd_nm         FROM    TB_ZZUNITDELREQ a          WHERE   a.record_center_id = '1'        AND     a.req_sno_id = '1'        AND     a.unit_req_type_cd = '1'        AND     a.chng_bef_org_cd = '1'        AND     a.chng_bef_unit_cd = '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : select
-- Query Id : findUnitMngRecvCheck

		SELECT 	com_cd AS fileType, com_cd_nm as fileTypeNm,        		DECODE((SELECT COUNT(1) FROM TB_ZZUNITREQ WHERE recv_file_nm = '1'),0,'0','1') AS handlFlag		FROM tb_zzcomcd		WHERE com_type_cd = 'ZZ22'		AND com_cd = '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : select
-- Query Id : countUnitMngDistrPagedList

        SELECT  COUNT(1)        FROM    		        (		        SELECT  a.record_center_id, a.unit_req_type_cd, a.req_org_cd, a.req_sno_id,		                COUNT(b.req_sno_id) AS recvCnt,		                SUM(DECODE(b.unit_req_state_cd,'0',1,0)) AS unAprovCnt,		                SUM(DECODE(b.unit_req_state_cd,'1',1,0)) AS aprovCnt,		                SUM(DECODE(b.unit_req_state_cd,'2',1,0)) AS dontAprovCnt,		                MAX(a.req_dtime) AS req_dtime,		                MAX(a.creat_sys_cd) AS creat_sys_cd,		                MAX(a.take_mng_no) AS take_mng_no,		                MAX(c.unDistrCnt) AS unDistrCnt,		                MAX(c.distrCnt) AS distrCnt		        FROM    TB_ZZUNITREQ a, TB_ZZUNITNEWREQ b,		        		(SELECT take_mng_no, 		                    	SUM(DECODE(unit_send_flag, '0', 1, 0)) AS unDistrCnt,		                    	SUM(DECODE(unit_send_flag, '1', 1, 0)) AS distrCnt		                FROM    TB_ZZORGUNITWORKHIST		                GROUP BY take_mng_no)  c     		        WHERE   a.record_center_id = '1'		        AND     a.record_center_id = b.record_center_id		        AND     a.req_sno_id = b.req_sno_id		        AND     a.unit_req_type_cd = b.unit_req_type_cd		         AND 		                a.req_yyyy = '1'		          AND 		                a.req_org_cd = '1'		          AND 		                a.unit_req_type_cd = '1'		         		         AND 	a.take_mng_no = c.take_mng_no		        GROUP BY a.record_center_id, a.unit_req_type_cd, a.req_org_cd, a.req_sno_id		        UNION ALL		        SELECT  a.record_center_id, a.unit_req_type_cd, a.req_org_cd, a.req_sno_id,		                COUNT(b.req_sno_id) AS recvCnt,		                SUM(DECODE(b.unit_req_state_cd,'0',1,0)) AS unAprovCnt,		                SUM(DECODE(b.unit_req_state_cd,'1',1,0)) AS aprovCnt,		                SUM(DECODE(b.unit_req_state_cd,'2',1,0)) AS dontAprovCnt,		                MAX(a.req_dtime) AS req_dtime,		                MAX(a.creat_sys_cd) AS creat_sys_cd,		                MAX(a.take_mng_no) AS take_mng_no,		                MAX(c.unDistrCnt) AS unDistrCnt,		                MAX(c.distrCnt) AS distrCnt		        FROM    TB_ZZUNITREQ a, TB_ZZUNITCHNGREQ b,		        		(SELECT take_mng_no, 		                    	SUM(DECODE(unit_send_flag, '0', 1, 0)) AS unDistrCnt,		                    	SUM(DECODE(unit_send_flag, '1', 1, 0)) AS distrCnt		                FROM    TB_ZZORGUNITWORKHIST		                GROUP BY take_mng_no)  c    		        WHERE   a.record_center_id = '1'		        AND     a.record_center_id = b.record_center_id		        AND     a.req_sno_id = b.req_sno_id		        AND     a.unit_req_type_cd = b.unit_req_type_cd		         AND 		                a.req_yyyy = '1'		          AND 		                a.req_org_cd = '1'		          AND 		                a.unit_req_type_cd = '1'		         		        AND 	a.take_mng_no = c.take_mng_no		        GROUP BY a.record_center_id, a.unit_req_type_cd, a.req_org_cd, a.req_sno_id		        UNION ALL		        SELECT  a.record_center_id, a.unit_req_type_cd, a.req_org_cd, a.req_sno_id,		                COUNT(b.req_sno_id) AS recvCnt,		                SUM(DECODE(b.unit_req_state_cd,'0',1,0)) AS unAprovCnt,		                SUM(DECODE(b.unit_req_state_cd,'1',1,0)) AS aprovCnt,		                SUM(DECODE(b.unit_req_state_cd,'2',1,0)) AS dontAprovCnt,		                MAX(a.req_dtime) AS req_dtime,		                MAX(a.creat_sys_cd) AS creat_sys_cd,		                MAX(a.take_mng_no) AS take_mng_no,		                MAX(c.unDistrCnt) AS unDistrCnt,		                MAX(c.distrCnt) AS distrCnt		        FROM    TB_ZZUNITREQ a, TB_ZZUNITMOVEREQ b,		        		(SELECT take_mng_no, 		                    	SUM(DECODE(unit_send_flag, '0', 1, 0)) AS unDistrCnt,		                    	SUM(DECODE(unit_send_flag, '1', 1, 0)) AS distrCnt		                FROM    TB_ZZORGUNITWORKHIST		                GROUP BY take_mng_no)  c     		        WHERE   a.record_center_id = '1'		        AND     a.record_center_id = b.record_center_id		        AND     a.req_sno_id = b.req_sno_id		        AND     a.unit_req_type_cd = b.unit_req_type_cd AND 		                a.req_yyyy = '1'		          AND 		                a.req_org_cd = '1'		          AND 		                a.unit_req_type_cd = '1'		         		        AND 	a.take_mng_no = c.take_mng_no		        GROUP BY a.record_center_id, a.unit_req_type_cd, a.req_org_cd, a.req_sno_id		        UNION ALL		        SELECT  a.record_center_id, a.unit_req_type_cd, a.req_org_cd, a.req_sno_id,		                COUNT(b.req_sno_id) AS recvCnt,		                SUM(DECODE(b.unit_req_state_cd,'0',1,0)) AS unAprovCnt,		                SUM(DECODE(b.unit_req_state_cd,'1',1,0)) AS aprovCnt,		                SUM(DECODE(b.unit_req_state_cd,'2',1,0)) AS dontAprovCnt,		                MAX(a.req_dtime) AS req_dtime,		                MAX(a.creat_sys_cd) AS creat_sys_cd,		                MAX(a.take_mng_no) AS take_mng_no,		                MAX(c.unDistrCnt) AS unDistrCnt,		                MAX(c.distrCnt) AS distrCnt		        FROM    TB_ZZUNITREQ a, TB_ZZUNITSETREQ b,		        		(SELECT take_mng_no, 		                    	SUM(DECODE(unit_send_flag, '0', 1, 0)) AS unDistrCnt,		                    	SUM(DECODE(unit_send_flag, '1', 1, 0)) AS distrCnt		                FROM    TB_ZZORGUNITWORKHIST		                GROUP BY take_mng_no)  c    		        WHERE   a.record_center_id = '1'		        AND     a.record_center_id = b.record_center_id		        AND     a.req_sno_id = b.req_sno_id		        AND     a.unit_req_type_cd = b.unit_req_type_cd		         AND 		                a.req_yyyy = '1'		          AND 		                a.req_org_cd = '1'		          AND 		                a.unit_req_type_cd = '1'		         		        AND 	a.take_mng_no = c.take_mng_no		        GROUP BY a.record_center_id, a.unit_req_type_cd, a.req_org_cd, a.req_sno_id		        UNION ALL		        SELECT  a.record_center_id, a.unit_req_type_cd, a.req_org_cd, a.req_sno_id,		                COUNT(b.req_sno_id) AS recvCnt,		                SUM(DECODE(b.unit_req_state_cd,'0',1,0)) AS unAprovCnt,		                SUM(DECODE(b.unit_req_state_cd,'1',1,0)) AS aprovCnt,		                SUM(DECODE(b.unit_req_state_cd,'2',1,0)) AS dontAprovCnt,		                MAX(a.req_dtime) AS req_dtime,		                MAX(a.creat_sys_cd) AS creat_sys_cd,		                MAX(a.take_mng_no) AS take_mng_no,		                MAX(c.unDistrCnt) AS unDistrCnt,		                MAX(c.distrCnt) AS distrCnt		        FROM    TB_ZZUNITREQ a, TB_ZZUNITDELREQ b,		        		(SELECT take_mng_no, 		                    	SUM(DECODE(unit_send_flag, '0', 1, 0)) AS unDistrCnt,		                    	SUM(DECODE(unit_send_flag, '1', 1, 0)) AS distrCnt		                FROM    TB_ZZORGUNITWORKHIST		                GROUP BY take_mng_no)  c     		        WHERE   a.record_center_id = '1'		        AND     a.record_center_id = b.record_center_id		        AND     a.req_sno_id = b.req_sno_id		        AND     a.unit_req_type_cd = b.unit_req_type_cd		         AND 		                a.req_yyyy = '1'		          AND 		                a.req_org_cd = '1'		          AND 		                a.unit_req_type_cd = '1'		         		        AND 	a.take_mng_no = c.take_mng_no		        GROUP BY a.record_center_id, a.unit_req_type_cd, a.req_org_cd, a.req_sno_id		        ) ta, TB_STORG tb		 WHERE  ta.record_center_id = '1'		 AND  	ta.record_center_id = tb.record_center_id		 AND   	ta.req_org_cd = tb.org_cd AND 		     	ta.distrCnt = 0		  ;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : select
-- Query Id : findUnitMngDistrPagedList

	SELECT C.*    FROM (        SELECT ROWNUM AS rnum            , B.*        FROM (        SELECT  ta.record_center_id, ta.unit_req_type_cd, ta.req_org_cd, tb.org_nm AS req_org_nm,                 tb.org_abbr_nm AS req_org_abbr_nm, ta.req_sno_id,                (SELECT com_cd_nm                FROM tb_zzcomcd                WHERE com_type_cd = 'ZZ22'                AND com_cd = ta.unit_req_type_cd) AS unit_req_type_cd_nm,                ta.recvCnt, ta.unAprovCnt, ta.aprovCnt, ta.dontAprovCnt,                 SUBSTR(ta.req_dtime,0,8) AS req_dtime, ta.creat_sys_cd, ta.take_mng_no,                ta.unDistrCnt, ta.distrCnt        FROM    		        (		        SELECT  a.record_center_id, a.unit_req_type_cd, a.req_org_cd, a.req_sno_id,		                COUNT(b.req_sno_id) AS recvCnt,		                SUM(DECODE(b.unit_req_state_cd,'0',1,0)) AS unAprovCnt,		                SUM(DECODE(b.unit_req_state_cd,'1',1,0)) AS aprovCnt,		                SUM(DECODE(b.unit_req_state_cd,'2',1,0)) AS dontAprovCnt,		                MAX(a.req_dtime) AS req_dtime,		                MAX(a.creat_sys_cd) AS creat_sys_cd,		                MAX(a.take_mng_no) AS take_mng_no,		                MAX(c.unDistrCnt) AS unDistrCnt,		                MAX(c.distrCnt) AS distrCnt		        FROM    TB_ZZUNITREQ a, TB_ZZUNITNEWREQ b,		        		(SELECT take_mng_no, 		                    	SUM(DECODE(unit_send_flag, '0', 1, 0)) AS unDistrCnt,		                    	SUM(DECODE(unit_send_flag, '1', 1, 0)) AS distrCnt		                FROM    TB_ZZORGUNITWORKHIST		                GROUP BY take_mng_no)  c     		        WHERE   a.record_center_id = '1'		        AND     a.record_center_id = b.record_center_id		        AND     a.req_sno_id = b.req_sno_id		        AND     a.unit_req_type_cd = b.unit_req_type_cd		         AND 		                a.req_yyyy = '1'		          AND 		                a.req_org_cd = '1'		          AND 		                a.unit_req_type_cd = '1'		         		         AND 	a.take_mng_no = c.take_mng_no		        GROUP BY a.record_center_id, a.unit_req_type_cd, a.req_org_cd, a.req_sno_id		        UNION ALL		        SELECT  a.record_center_id, a.unit_req_type_cd, a.req_org_cd, a.req_sno_id,		                COUNT(b.req_sno_id) AS recvCnt,		                SUM(DECODE(b.unit_req_state_cd,'0',1,0)) AS unAprovCnt,		                SUM(DECODE(b.unit_req_state_cd,'1',1,0)) AS aprovCnt,		                SUM(DECODE(b.unit_req_state_cd,'2',1,0)) AS dontAprovCnt,		                MAX(a.req_dtime) AS req_dtime,		                MAX(a.creat_sys_cd) AS creat_sys_cd,		                MAX(a.take_mng_no) AS take_mng_no,		                MAX(c.unDistrCnt) AS unDistrCnt,		                MAX(c.distrCnt) AS distrCnt		        FROM    TB_ZZUNITREQ a, TB_ZZUNITCHNGREQ b,		        		(SELECT take_mng_no, 		                    	SUM(DECODE(unit_send_flag, '0', 1, 0)) AS unDistrCnt,		                    	SUM(DECODE(unit_send_flag, '1', 1, 0)) AS distrCnt		                FROM    TB_ZZORGUNITWORKHIST		                GROUP BY take_mng_no)  c    		        WHERE   a.record_center_id = '1'		        AND     a.record_center_id = b.record_center_id		        AND     a.req_sno_id = b.req_sno_id		        AND     a.unit_req_type_cd = b.unit_req_type_cd		         AND 		                a.req_yyyy = '1'		          AND 		                a.req_org_cd = '1'		          AND 		                a.unit_req_type_cd = '1'		         		        AND 	a.take_mng_no = c.take_mng_no		        GROUP BY a.record_center_id, a.unit_req_type_cd, a.req_org_cd, a.req_sno_id		        UNION ALL		        SELECT  a.record_center_id, a.unit_req_type_cd, a.req_org_cd, a.req_sno_id,		                COUNT(b.req_sno_id) AS recvCnt,		                SUM(DECODE(b.unit_req_state_cd,'0',1,0)) AS unAprovCnt,		                SUM(DECODE(b.unit_req_state_cd,'1',1,0)) AS aprovCnt,		                SUM(DECODE(b.unit_req_state_cd,'2',1,0)) AS dontAprovCnt,		                MAX(a.req_dtime) AS req_dtime,		                MAX(a.creat_sys_cd) AS creat_sys_cd,		                MAX(a.take_mng_no) AS take_mng_no,		                MAX(c.unDistrCnt) AS unDistrCnt,		                MAX(c.distrCnt) AS distrCnt		        FROM    TB_ZZUNITREQ a, TB_ZZUNITMOVEREQ b,		        		(SELECT take_mng_no, 		                    	SUM(DECODE(unit_send_flag, '0', 1, 0)) AS unDistrCnt,		                    	SUM(DECODE(unit_send_flag, '1', 1, 0)) AS distrCnt		                FROM    TB_ZZORGUNITWORKHIST		                GROUP BY take_mng_no)  c     		        WHERE   a.record_center_id = '1'		        AND     a.record_center_id = b.record_center_id		        AND     a.req_sno_id = b.req_sno_id		        AND     a.unit_req_type_cd = b.unit_req_type_cd		         AND 		                a.req_yyyy = '1'		          AND 		                a.req_org_cd = '1'		          AND 		                a.unit_req_type_cd = '1'		         		        AND 	a.take_mng_no = c.take_mng_no		        GROUP BY a.record_center_id, a.unit_req_type_cd, a.req_org_cd, a.req_sno_id		        UNION ALL		        SELECT  a.record_center_id, a.unit_req_type_cd, a.req_org_cd, a.req_sno_id,		                COUNT(b.req_sno_id) AS recvCnt,		                SUM(DECODE(b.unit_req_state_cd,'0',1,0)) AS unAprovCnt,		                SUM(DECODE(b.unit_req_state_cd,'1',1,0)) AS aprovCnt,		                SUM(DECODE(b.unit_req_state_cd,'2',1,0)) AS dontAprovCnt,		                MAX(a.req_dtime) AS req_dtime,		                MAX(a.creat_sys_cd) AS creat_sys_cd,		                MAX(a.take_mng_no) AS take_mng_no,		                MAX(c.unDistrCnt) AS unDistrCnt,		                MAX(c.distrCnt) AS distrCnt		        FROM    TB_ZZUNITREQ a, TB_ZZUNITSETREQ b,		        		(SELECT take_mng_no, 		                    	SUM(DECODE(unit_send_flag, '0', 1, 0)) AS unDistrCnt,		                    	SUM(DECODE(unit_send_flag, '1', 1, 0)) AS distrCnt		                FROM    TB_ZZORGUNITWORKHIST		                GROUP BY take_mng_no)  c    		        WHERE   a.record_center_id = '1'		        AND     a.record_center_id = b.record_center_id		        AND     a.req_sno_id = b.req_sno_id		        AND     a.unit_req_type_cd = b.unit_req_type_cd		         AND 		                a.req_yyyy = '1'		          AND 		                a.req_org_cd = '1'		          AND 		                a.unit_req_type_cd = '1'		         		        AND 	a.take_mng_no = c.take_mng_no		        GROUP BY a.record_center_id, a.unit_req_type_cd, a.req_org_cd, a.req_sno_id		        UNION ALL		        SELECT  a.record_center_id, a.unit_req_type_cd, a.req_org_cd, a.req_sno_id,		                COUNT(b.req_sno_id) AS recvCnt,		                SUM(DECODE(b.unit_req_state_cd,'0',1,0)) AS unAprovCnt,		                SUM(DECODE(b.unit_req_state_cd,'1',1,0)) AS aprovCnt,		                SUM(DECODE(b.unit_req_state_cd,'2',1,0)) AS dontAprovCnt,		                MAX(a.req_dtime) AS req_dtime,		                MAX(a.creat_sys_cd) AS creat_sys_cd,		                MAX(a.take_mng_no) AS take_mng_no,		                MAX(c.unDistrCnt) AS unDistrCnt,		                MAX(c.distrCnt) AS distrCnt		        FROM    TB_ZZUNITREQ a, TB_ZZUNITDELREQ b,		        		(SELECT take_mng_no, 		                    	SUM(DECODE(unit_send_flag, '0', 1, 0)) AS unDistrCnt,		                    	SUM(DECODE(unit_send_flag, '1', 1, 0)) AS distrCnt		                FROM    TB_ZZORGUNITWORKHIST		                GROUP BY take_mng_no)  c     		        WHERE   a.record_center_id = '1'		        AND     a.record_center_id = b.record_center_id		        AND     a.req_sno_id = b.req_sno_id		        AND     a.unit_req_type_cd = b.unit_req_type_cd		         AND 		                a.req_yyyy = '1'		          AND 		                a.req_org_cd = '1'		          AND 		                a.unit_req_type_cd = '1'		         		        AND 	a.take_mng_no = c.take_mng_no		        GROUP BY a.record_center_id, a.unit_req_type_cd, a.req_org_cd, a.req_sno_id		        ) ta, TB_STORG tb		WHERE   ta.record_center_id = '1'		AND     ta.record_center_id = tb.record_center_id		AND     ta.req_org_cd = tb.org_cd AND 		     	ta.distrCnt = 0		 		ORDER BY ta.req_dtime DESC		) B        WHERE ROWNUM <= '1'    ) C    WHERE C.rnum >= '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : select
-- Query Id : findUnitMngDistrFileList

			SELECT 	ta.record_center_id, ta.org_cd,		    	(SELECT org_nm FROM TB_STORG WHERE record_center_id = ta.record_center_id AND org_cd = ta.org_cd) AS org_nm,		    	(SELECT org_abbr_nm FROM TB_STORG WHERE record_center_id = ta.record_center_id AND org_cd = ta.org_cd) AS org_abbr_nm,		    	ta.distr_file_nm, ta.unDistrCnt, ta.distrCnt, ta.distr_div_cd, ta.work_type_cd		FROM 	(				SELECT  a.record_center_id,  a.org_cd,				        MAX(a.distr_file_nm) AS distr_file_nm,				        SUM(DECODE(a.unit_send_flag,'0',1,0)) AS unDistrCnt,				        SUM(DECODE(a.unit_send_flag,'1',1,0)) AS distrCnt,				        MAX(a.distr_div_cd) AS distr_div_cd,				        MAX(a.work_type_cd) AS work_type_cd				FROM    TB_ZZORGUNITWORKHIST a				WHERE   a.record_center_id = '1'				AND     a.take_mng_no = '1'				GROUP BY a.record_center_id, a.org_cd				) ta		 WHERE 		     	ta.distrCnt = 0		 ;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : select
-- Query Id : findUnitMngDistrTargetList

			SELECT  a.record_center_id,  a.org_cd		FROM    TB_ZZORGUNITWORKHIST a		WHERE   a.record_center_id = '1'		AND     a.take_mng_no = '1'		GROUP BY a.record_center_id, a.org_cd;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : select
-- Query Id : findUnitMngDistrInfo

		SELECT	b.link_ip recv_ip, b.link_port recv_port,				b.link_class AS class_name, link_lang AS gr_language		FROM  	TB_STORG A, 				(SELECT * 		       	FROM 	TB_STLINKTRGT 		       	WHERE 	creat_sys_cd = '1') B 		WHERE 	A.record_center_id = '1'		AND   	A.org_cd = '1'		AND   	A.link_trgt_id = B.link_trgt_id(+)	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : select
-- Query Id : findUnitMngDistrInfoList

        SELECT  RPAD(NVL(b.nars_handl_dtime,''),14,'0') nars_handl_dtime,                NVL(a.apply_stnd_ymd,'') apply_stnd_ymd,                a.org_cd,                a.work_type_cd,                NVL((SELECT c.org_nm FROM TB_STORG C WHERE c.record_center_id=a.record_center_id AND c.org_cd=a.org_cd),'') AS org_nm,                NVL(DECODE(a.work_type_cd,'0',b.temp_unit_cd,a.unit_cd),'') AS temp_unit_cd,                NVL(b.lrg_cd,'') AS lrg_cd,                NVL(b.lrg_nm,'') AS lrg_nm,                NVL(b.mid_cd,'') AS mid_cd,                NVL(b.mid_nm,'') AS mid_nm,                NVL(b.sml_cd,'') AS sml_cd,                NVL(b.sml_nm,'') AS sml_nm,                a.unit_cd,                b.unit_nm,                NVL(b.unit_descr,'') AS unit_descr,                NVL(DECODE(b.presv_term_cd,'25','20',b.presv_term_cd),'') AS presv_term_cd,                NVL(b.presv_term_fix_rsn,'') AS presv_term_fix_rsn,                NVL(b.presv_method_cd,'') AS presv_method_cd,                NVL(b.presv_area_cd,'') AS presv_area_cd,                NVL(b.funsh_record_flag,'') AS funsh_record_flag,                NVL(b.funsh_record_transf_ymd,'') AS funsh_record_transf_ymd,                NVL(b.transf_read_expt_cnt,'') AS transf_read_expt_cnt,                NVL(b.main_read_usg,'') AS main_read_usg,                NVL(b.spcl_list_loc,'') AS spcl_list_loc,                NVL(b.spcl_list1,'') AS spcl_list1,                NVL(b.spcl_list2,'') AS spcl_list2,                NVL(b.spcl_list3,'') AS spcl_list3,                NVL(d.state_cd,'') AS state_cd        FROM    TB_ZZORGUNITWORKHIST a, TB_ZZUNIT b,                (SELECT take_mng_no                FROM     TB_ZZUNITREQ                WHERE   record_center_id = '1'                AND     take_mng_no = '1'                AND     unit_req_type_cd = '1'                AND        creat_sys_cd = '1') c,                TB_ZZORGUNIT d        WHERE   a.record_center_id = '1'        AND     a.take_mng_no = '1'        AND     a.org_cd = '1'        AND     a.record_center_id = b.record_center_id        AND     a.unit_cd = b.unit_cd        AND     a.take_mng_no = c.take_mng_no        AND     a.record_center_id = d.record_center_id        AND     a.org_cd = d.org_cd        AND     a.unit_cd = d.unit_cd;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : update
-- Query Id : updateUnitMngDistrFileCreat

		UPDATE	TB_ZZORGUNITWORKHIST		SET   	distr_file_nm = '1'		WHERE	record_center_id = '1'		AND 	org_cd = '1'		AND 	take_mng_no = '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : select
-- Query Id : findUnitMngDistrSendFileInfo

			SELECT  MAX(distr_file_nm) AS distr_file_nm				FROM    TB_ZZORGUNITWORKHIST		WHERE   record_center_id = '1'		AND     take_mng_no = '1'		AND		org_cd = '1'		GROUP BY record_center_id, org_cd	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : update
-- Query Id : updateUnitMngDistrSendInfo

		UPDATE	TB_ZZORGUNITWORKHIST		SET   	unit_send_flag = '1',                 distr_div_cd = '1',                                send_dtime = TO_CHAR(sys_datetime,'YYYYMMDDHH24MISS')		WHERE	record_center_id = '1'		AND 	org_cd = '1'		AND 	take_mng_no = '1';


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : select
-- Query Id : countUnitMngDistrDetailPagedList

        SELECT  COUNT(1)		FROM    TB_ZZORGUNITWORKHIST a		WHERE   a.record_center_id = '1'		AND     a.take_mng_no = '1'		ORDER BY a.record_center_id, a.org_cd, a.unit_cd	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : select
-- Query Id : findUnitMngDistrDetailPagedList

	SELECT B.*		FROM (			SELECT ROWNUM AS rnum				, A.*			FROM (        SELECT  SUBSTR(a.send_dtime,1,8) AS send_dtime,		        SUBSTR(a.work_dtime,1,8) AS work_dtime,		        a.apply_stnd_ymd,		        a.org_cd,		        a.unit_cd,		        a.record_center_id, 		        (SELECT e.com_cd_nm FROM TB_ZZCOMCD e WHERE e.com_type_cd='ZZ29' AND e.com_cd=a.work_type_cd) AS work_type_cd,		        (SELECT f.com_cd_nM FROM TB_ZZCOMCD f WHERE f.com_type_cd='ZZ31' AND f.com_cd=a.unit_send_flag) AS unit_send_flag,		        (SELECT b.org_nm 		        FROM    TB_STORG b 		        WHERE   b.record_center_id=a.record_center_id		        AND     b.org_cd=a.org_cd) AS org_nm,		        (SELECT b.org_abbr_nm 		        FROM    TB_STORG b 		        WHERE   b.record_center_id=a.record_center_id		        AND     b.org_cd=a.org_cd) AS org_abbr_nm,		        (SELECT c.unit_nm 		        FROM    TB_ZZUNIT c 		        WHERE   c.record_center_id=a.record_center_id		        AND     c.unit_cd=a.unit_cd ) unit_nm		FROM    TB_ZZORGUNITWORKHIST a		WHERE   a.record_center_id = '1'		AND     a.take_mng_no = '1'		ORDER BY a.record_center_id, a.org_cd, a.unit_cd		) A			WHERE ROWNUM <= '1'		) B		WHERE B.rnum >= '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : select
-- Query Id : countUnitMngAprovReqRsltPagedList

        SELECT  COUNT(1)	    FROM (	    	SELECT 1            FROM TB_ZZUNITREQ A, TB_ZZUNITNEWREQ B, TB_ZZUNIT C	        WHERE A.record_center_id = b.record_center_id		    AND A.req_sno_id = B.req_sno_id		    AND A.unit_req_type_cd = B.unit_req_type_cd            AND B.temp_unit_cd = c.temp_unit_cd(+)            AND b.unit_cd = c.unit_cd (+)            AND A.aprov_state_cd >  '1'               		    UNION ALL		    SELECT 1		    FROM TB_ZZUNITREQ A, TB_ZZUNITCHNGREQ B, TB_ZZUNIT C		    WHERE A.record_center_id = b.record_center_id            AND A.req_sno_id = B.req_sno_id            AND A.unit_req_type_cd = B.unit_req_type_cd            AND b.unit_cd = c.unit_cd             AND A.aprov_state_cd >  '1'            			)	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
-- Query    : select
-- Query Id : findUnitMngAprovReqRsltPagedList

		SELECT B.*		FROM (			SELECT ROWNUM AS rnum				, A.*			FROM (				SELECT t.req_dtime					, t.unit_cd					, t.temp_unit_cd					, t.unit_nm					, t.unit_req_type_cd					, t.unit_req_state_cd					, t.aprov_state_Cd					, t.creat_stnd_ymd	AS apply_stnd_ymd					, t.nars_handl_dtime					, t1.com_cd_nm AS unit_req_state					, t2.com_cd_nm AS unit_req_type					, t3.com_cd_nm AS presv_term_cd					, t.org_cd 					, t4.org_abbr_nm					, t4.org_nm						, t.record_center_id						, t.req_sno_id  					, t.take_mng_no					,(SELECT com_cd_nm from tb_zzcomcd where com_type_cd ='ZZ31' and com_cd = NVL(t5.unit_send_flag,0)) as unit_send_flag 				FROM (					SELECT SUBSTR(a.req_dtime,0,8) AS req_dtime			            , NVL(c.unit_cd, b.unit_cd) AS unit_Cd			            , NVL(c.temp_unit_Cd, b.temp_unit_cd) AS temp_unit_cd			            , NVL(c.unit_nm, b.temp_unit_nm) AS unit_nm			            , DECODE(NVL(c.presv_term_cd, b.presv_term_cd),'20','25',NVL(c.presv_term_cd, b.presv_term_cd)) AS presv_term_cd			            , b.unit_req_type_cd			            , b.unit_req_state_cd			            , a.aprov_state_cd			            , NVL(c.creat_stnd_ymd, b.apply_stnd_ymd) AS creat_stnd_ymd			            , SUBSTR(NVL(c.nars_handl_dtime, a.aprov_req_dtime),0,8) AS nars_handl_dtime			            , b.org_cd			            , a.record_center_id			            , a.req_sno_id			            , b.take_mng_no				    FROM TB_ZZUNITREQ A, TB_ZZUNITNEWREQ B, TB_ZZUNIT C				    WHERE A.record_center_id = b.record_center_id				    AND A.req_sno_id = B.req_sno_id				    AND A.unit_req_type_cd = B.unit_req_type_cd				    AND B.temp_unit_cd = c.temp_unit_cd(+)				    AND b.unit_cd = c.unit_cd (+)				    AND A.aprov_state_cd >  '1'		            	                         		            UNION ALL		            SELECT SUBSTR(a.req_dtime,0,8) AS req_dtime			            , c.unit_cd AS unit_Cd			            , '' AS temp_unit_cd			            , c.unit_nm AS unit_nm			            , DECODE(c.presv_term_cd,'20','25',c.presv_term_cd) AS presv_term_cd			            , b.unit_req_type_cd			            , b.unit_req_state_cd			            , a.aprov_state_cd			            , b.apply_stnd_ymd AS creat_stnd_ymd			            , SUBSTR( a.aprov_req_dtime,0,8) AS nars_handl_dtime			            , b.org_Cd			            , a.record_center_id			            , a.req_sno_id			            , b.take_mng_no		            FROM TB_ZZUNITREQ A, TB_ZZUNITCHNGREQ B, TB_ZZUNIT C		            WHERE A.record_center_id = b.record_center_id		            AND A.req_sno_id = B.req_sno_id		            AND A.unit_req_type_cd = B.unit_req_type_cd		            AND b.unit_cd = c.unit_cd 		            AND A.aprov_state_cd >  '1'		            			                                				) t, (SELECT com_Cd, com_cd_nm FROM TB_ZZCOMCD WHERE COM_TYPE_CD ='ZZ23') t1				, (SELECT com_Cd, com_cd_nm FROM TB_ZZCOMCD WHERE COM_TYPE_CD ='ZZ22') t2				, (SELECT com_Cd, com_cd_nm FROM TB_ZZCOMCD WHERE COM_TYPE_CD ='RD07') t3				, TB_STORG t4, TB_ZZORGUNITWORKHIST t5				WHERE t.unit_req_state_cd = t1.COM_CD(+) 				AND t.unit_req_type_cd = t2.COM_CD(+) 				AND t.presv_term_cd = t3.COM_CD(+)				AND t.org_Cd = t4.org_Cd		       	AND t.record_center_id = t5.record_center_id(+)		        AND t.org_Cd = t5.org_Cd(+)		        AND t.unit_cd = t5.unit_cd(+)		        AND t.take_mng_no = t5.take_mng_no(+) 		        			) A			WHERE ROWNUM <= '1'		) B		WHERE B.rnum >= '1' 	;


-- File Close : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\stnd\unitMng\UnitMng.xml
