-- File Open : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\srch\ConditionalSrch.xml


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\srch\ConditionalSrch.xml
-- Query    : select
-- Query Id : countDetailsFolderPagedList

		SELECT COUNT(1)		FROM  TB_RDFOLDER A		WHERE A.record_center_id = '1'		;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\srch\ConditionalSrch.xml
-- Query    : select
-- Query Id : findDetailsFolderPagedList

		SELECT C.record_center_id 			, C.org_cd			, C.folder_id						, C.title			, C.creat_yyyy			, (SELECT Z.org_nm FROM TB_STORG Z WHERE Z.record_center_id=C.record_center_id AND Z.org_cd=C.org_cd) org_nm			, (SELECT Z.org_abbr_nm FROM TB_STORG Z WHERE Z.record_center_id=C.record_center_id AND Z.org_cd=C.org_cd) org_abbr_nm			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD07' AND Z.com_cd=C.presv_term_cd) presv_term_nm			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD17' AND Z.com_cd=C.creat_sys_cd) creat_sys_nm			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD23' AND Z.com_cd=C.erecord_flag) erecord_flag_nm			, (SELECT Z.agent_nm FROM TB_RDFOLDERCREAT Z			    WHERE Z.record_center_id=C.record_center_id			    AND   Z.folder_id=C.folder_id			    AND   Z.agent_sno=(SELECT MAX(Y.agent_sno) FROM TB_RDFOLDERCREAT Y WHERE Y.record_center_id=C.record_center_id AND Y.folder_id=C.folder_id)) agent_nm			, C.folder_keep_state_cd			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD32' AND Z.com_cd=C.folder_keep_state_cd) folder_keep_state_nm			, C.creat_sys_cd			, (CASE WHEN (SELECT COUNT(1) FROM TB_RDRECORD Z WHERE Z.record_center_id=C.record_center_id AND Z.folder_id=C.folder_id AND Z.oper_read_range_cd IN ('02','03')) > 0 THEN '02' ELSE '01' END) AS oper_read_range_cd		    , (CASE WHEN (SELECT COUNT(1) FROM TB_RDRECORD Z WHERE Z.record_center_id=C.record_center_id AND Z.folder_id=C.folder_id AND Z.oper_read_range_cd IN ('02','03')) > 0 THEN '열람제한' ELSE '열람가능' END) AS oper_read_range_nm		    , (CASE WHEN '1' = '3' AND C.record_center_id = (SELECT Z.record_center_id FROM TB_STUSER Z WHERE Z.USER_ID = '1') THEN 1 					WHEN (CASE WHEN (SELECT COUNT(1) FROM TB_RDRECORD Z WHERE Z.record_center_id=C.record_center_id AND Z.folder_id=C.folder_id AND Z.oper_read_range_cd IN ('02','03')) > 0 THEN '02' ELSE '01' END) = '01' THEN 1					 					WHEN ((CASE WHEN (SELECT COUNT(1) FROM TB_RDRECORD Z WHERE Z.record_center_id=C.record_center_id AND Z.folder_id=C.folder_id AND Z.oper_read_range_cd IN ('02','03')) > 0 THEN '02' ELSE '01' END) = '02' AND C.cur_keep_org_cd='1') THEN 1					 		            WHEN (SELECT COUNT(1) FROM TB_RDFOLDERACCS Z WHERE Z.record_center_id=C.record_center_id AND Z.folder_id=C.folder_id AND Z.accs_type_cd='2' AND Z.accs_dept_cd='1') > 0 THEN 1 		            WHEN (SELECT COUNT(1) FROM TB_RDFOLDERACCS Z WHERE Z.record_center_id=C.record_center_id AND Z.folder_id=C.folder_id AND Z.accs_type_cd='1' AND Z.accs_user_id='1') > 0 THEN 1		            WHEN (SELECT COUNT(1) FROM TB_RDFOLDERREADDETL Z WHERE Z.record_center_id=C.record_center_id AND Z.folder_id=C.folder_id AND Z.read_aprov_cd='2' AND EXISTS (SELECT 1 FROM TB_RDREADREQ Y WHERE Y.record_center_id=Z.record_center_id AND Y.read_reqno=Z.read_reqno AND TO_CHAR(SYSDATE,'YYYYMMDD') BETWEEN Y.read_start_ymd AND Y.read_close_ymd)) > 0 THEN 1		            ELSE 0		       END) accs_flag			, C.efile_del_flag			, C.creat_sys_cd||'-'||C.org_cd||'-'||C.clss_id||'-'||C.creat_yyyy||'-'||C.folder_reg_seq AS folder_key			, C.ho_no			, (SELECT COUNT(1) FROM TB_RDFOLDER F WHERE F.creat_sys_cd=C.creat_sys_cd AND F.org_cd=C.org_cd AND F.clss_id=C.clss_id AND F.creat_yyyy=C.creat_yyyy AND F.folder_reg_seq=C.folder_reg_seq) AS ho_no_cnt			,C.presv_loc       		, SUBSTR(RPAD(C.folder_close_dtime,14,'0'),1,4) as close_yyyy		FROM (			SELECT ROWNUM AS rnum				, B.*			FROM (				SELECT 					  A.record_center_id					, A.folder_id					, A.creat_sys_cd					, A.org_cd					, A.cur_keep_org_cd					, A.clss_div_cd					, A.clss_id					, A.clss_nm					, A.new_clss_id					, A.new_clss_nm					, A.creat_yyyy					, A.title					, A.presv_term_cd					, A.erecord_flag					, A.folder_keep_state_cd					, A.oper_read_range_cd					, A.efile_del_flag					, A.folder_reg_seq					, A.ho_no					, A.folder_close_dtime					, (SELECT STAKRM_ID||'-'||BOOKSF_ID||'-'||BOOKSF_SHELF_CNO||'-'||BOOKSF_SHELF_RNO FROM TB_SRBOOKSFARNGDETL WHERE FOLDER_ID = A.FOLDER_ID) AS PRESV_LOC				FROM  TB_RDFOLDER A				WHERE A.record_center_id = '1'				  						ORDER BY A.record_center_id, A.creat_yyyy DESC, A.title DESC					  			) B			WHERE ROWNUM <= '1'		) C		WHERE C.rnum >= '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\srch\ConditionalSrch.xml
-- Query    : select
-- Query Id : countDetailsFolderPagedList_union

		SELECT COUNT(1)		FROM (			(			SELECT A.folder_id			FROM  TB_RDFOLDER A			WHERE A.record_center_id = '1'			)			UNION ALL			(			SELECT A.folder_id			FROM  TB_NKFOLDER A			WHERE A.record_center_id = '1'			)		);


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\srch\ConditionalSrch.xml
-- Query    : select
-- Query Id : findDetailsFolderPagedList_union

		SELECT C.record_center_id 			, C.org_cd			, C.folder_id						, C.title			, C.creat_yyyy			, (SELECT Z.org_nm FROM TB_STORG Z WHERE Z.record_center_id=C.record_center_id AND Z.org_cd=C.org_cd) org_nm			, (SELECT Z.org_abbr_nm FROM TB_STORG Z WHERE Z.record_center_id=C.record_center_id AND Z.org_cd=C.org_cd) org_abbr_nm			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD07' AND Z.com_cd=C.presv_term_cd) presv_term_nm			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD17' AND Z.com_cd=C.creat_sys_cd) creat_sys_nm			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD23' AND Z.com_cd=C.erecord_flag) erecord_flag_nm			, (SELECT Z.agent_nm FROM TB_RDFOLDERCREAT Z			    WHERE Z.record_center_id=C.record_center_id			    AND   Z.folder_id=C.folder_id			    AND   Z.agent_sno=(SELECT MAX(Y.agent_sno) FROM TB_RDFOLDERCREAT Y WHERE Y.record_center_id=C.record_center_id AND Y.folder_id=C.folder_id)) agent_nm			, C.folder_keep_state_cd			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD32' AND Z.com_cd=C.folder_keep_state_cd) folder_keep_state_nm			, C.creat_sys_cd			, (CASE WHEN (SELECT COUNT(1) FROM TB_RDRECORD Z WHERE Z.record_center_id=C.record_center_id AND Z.folder_id=C.folder_id AND Z.oper_read_range_cd IN ('02','03')) > 0 THEN '02' ELSE '01' END) AS oper_read_range_cd		    , (CASE WHEN (SELECT COUNT(1) FROM TB_RDRECORD Z WHERE Z.record_center_id=C.record_center_id AND Z.folder_id=C.folder_id AND Z.oper_read_range_cd IN ('02','03')) > 0 THEN '열람제한' ELSE '열람가능' END) AS oper_read_range_nm		    , (CASE WHEN '1' = '3' AND C.record_center_id = (SELECT Z.record_center_id FROM TB_STUSER Z WHERE Z.USER_ID = '1') THEN 1 					WHEN (CASE WHEN (SELECT COUNT(1) FROM TB_RDRECORD Z WHERE Z.record_center_id=C.record_center_id AND Z.folder_id=C.folder_id AND Z.oper_read_range_cd IN ('02','03')) > 0 THEN '02' ELSE '01' END) = '01' THEN 1 					WHEN ((CASE WHEN (SELECT COUNT(1) FROM TB_RDRECORD Z WHERE Z.record_center_id=C.record_center_id AND Z.folder_id=C.folder_id AND Z.oper_read_range_cd IN ('02','03')) > 0 THEN '02' ELSE '01' END) = '02' AND C.cur_keep_org_cd='1') THEN 1					 		            WHEN (SELECT COUNT(1) FROM TB_RDFOLDERACCS Z WHERE Z.record_center_id=C.record_center_id AND Z.folder_id=C.folder_id AND Z.accs_type_cd='2' AND Z.accs_dept_cd='1') > 0 THEN 1 		            WHEN (SELECT COUNT(1) FROM TB_RDFOLDERACCS Z WHERE Z.record_center_id=C.record_center_id AND Z.folder_id=C.folder_id AND Z.accs_type_cd='1' AND Z.accs_user_id='1') > 0 THEN 1		            WHEN (SELECT COUNT(1) FROM TB_RDFOLDERREADDETL Z WHERE Z.record_center_id=C.record_center_id AND Z.folder_id=C.folder_id AND Z.read_aprov_cd='2' AND EXISTS (SELECT 1 FROM TB_RDREADREQ Y WHERE Y.record_center_id=Z.record_center_id AND Y.read_reqno=Z.read_reqno AND TO_CHAR(SYSDATE,'YYYYMMDD') BETWEEN Y.read_start_ymd AND Y.read_close_ymd)) > 0 THEN 1		            ELSE 0		       END) accs_flag			, C.efile_del_flag			, C.creat_sys_cd||'-'||C.org_cd||'-'||C.clss_id||'-'||C.creat_yyyy||'-'||C.folder_reg_seq AS folder_key			, C.ho_no			, (SELECT COUNT(1) FROM TB_RDFOLDER F WHERE F.creat_sys_cd=C.creat_sys_cd AND F.org_cd=C.org_cd AND F.clss_id=C.clss_id AND F.creat_yyyy=C.creat_yyyy AND F.folder_reg_seq=C.folder_reg_seq) AS ho_no_cnt	        ,C.PRESV_LOC	        , SUBSTR(RPAD(C.folder_close_dtime,14,'0'),1,4) as close_yyyy					FROM (			SELECT ROWNUM AS rnum				, B.*			FROM (				(				SELECT 										  A.record_center_id					, A.folder_id					, A.creat_sys_cd					, A.org_cd					, A.cur_keep_org_cd					, A.clss_div_cd					, A.clss_id					, A.clss_nm					, A.new_clss_id					, A.new_clss_nm					, A.creat_yyyy					, A.title					, A.presv_term_cd					, A.erecord_flag					, A.folder_keep_state_cd					, A.oper_read_range_cd					, A.efile_del_flag					, A.folder_reg_seq					, A.ho_no                    , A.folder_close_dtime                    , (SELECT STAKRM_ID||'-'||BOOKSF_ID||'-'||BOOKSF_SHELF_CNO||'-'||BOOKSF_SHELF_RNO FROM TB_SRBOOKSFARNGDETL WHERE FOLDER_ID = A.FOLDER_ID) AS PRESV_LOC									FROM  TB_RDFOLDER A				WHERE A.record_center_id = '1'								)				UNION ALL				(				SELECT 					  A.record_center_id					, A.folder_id					, A.creat_sys_cd					, A.org_cd					, A.cur_keep_org_cd					, A.clss_div_cd					, A.clss_id					, A.clss_nm					, A.new_clss_id					, A.new_clss_nm					, A.creat_yyyy					, A.title					, A.presv_term_cd					, A.erecord_flag					, A.folder_keep_state_cd					, A.oper_read_range_cd					, A.efile_del_flag					, A.folder_reg_seq					, A.ho_no                    , A.folder_close_dtime                    , '' AS PRESV_LOC									FROM  TB_NKFOLDER A				WHERE A.record_center_id = '1'								)				  						ORDER BY record_center_id, creat_yyyy DESC, title DESC					  			) B			WHERE ROWNUM <= '1'		) C		WHERE C.rnum >= '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\srch\ConditionalSrch.xml
-- Query    : select
-- Query Id : countDetailsFolderSearchParamPagedList

		SELECT COUNT(1)		FROM  TB_STFOLDERQUERY A		WHERE A.user_id = '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\srch\ConditionalSrch.xml
-- Query    : select
-- Query Id : findDetailsFolderSearchParamPagedList

		SELECT E.user_id			, E.folder_query_id			, E.folder_query_nm			, E.creat_sys_cd			, E.creat_yyyy_from			, E.creat_yyyy_to			, E.creat_org_cd			, (SELECT MAX(Z.org_nm) FROM TB_STORG Z WHERE Z.org_cd=E.creat_org_cd) AS creat_org_nm			, E.clss_div_cd			, E.clss_id			, (CASE WHEN E.clss_div_cd='1' THEN (SELECT Z.bis_clss_nm FROM TB_ZZBISCLSS Z WHERE Z.bis_clss_id=E.clss_id)					WHEN E.clss_div_cd='2' THEN (SELECT MAX(Z.unit_nm) FROM TB_ZZUNIT Z WHERE Z.unit_cd=E.clss_id)					ELSE '' END) AS clss_nm			, E.folder_title			, E.presv_term_cd			, E.folder_type_div_cd			, E.work_user_id			, E.reg_dtime			, E.erecord_flag			, E.scan_prog_state_cd			, E.take_yyyy			, E.agent_nm			, E.folder_keep_state_cd			, E.oper_read_range_cd			, E.inner_title			, E.search_div_cd			, E.keywd		FROM (			SELECT D.*			FROM (				SELECT ROWNUM AS rnum					, C.*				FROM (					SELECT A.*					FROM  TB_STFOLDERQUERY A					WHERE A.user_id = '1'					ORDER BY A.user_id, A.folder_query_id				) C				WHERE ROWNUM <= '1'			) D			WHERE D.rnum >= '1'		) E		ORDER BY E.rnum	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\srch\ConditionalSrch.xml
-- Query    : delete
-- Query Id : deleteDetailsFolderSearchParam

		DELETE FROM TB_STFOLDERQUERY		WHERE user_id = '1'		AND   folder_query_id = '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\srch\ConditionalSrch.xml
-- Query    : insert
-- Query Id : createDetailsFolderSearchParam

		INSERT INTO TB_STFOLDERQUERY		(			user_id, folder_query_id, folder_query_nm, creat_sys_cd, creat_yyyy_from			, creat_yyyy_to, creat_org_cd, clss_div_cd, clss_id, folder_title			, presv_term_cd, folder_type_div_cd, work_user_id, reg_dtime, erecord_flag			, scan_prog_state_cd, take_yyyy, agent_nm, folder_keep_state_cd, oper_read_range_cd			, inner_title, search_div_cd, keywd		)		VALUES		(			'1', (SELECT NVL(MAX(TO_NUMBER(folder_query_id)),0)+1 FROM TB_STFOLDERQUERY WHERE user_id = '1'), '1', '1', '1'			, '1', '1', '1', '1', '1'			, '1', '1', '1'						, TO_CHAR(sys_datetime, 'YYYYMMDDHH24MISS'), '1'			, '1', '1', '1', '1', '1'			, '1', '1', '1'		);


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\srch\ConditionalSrch.xml
-- Query    : select
-- Query Id : countDetailsRecordPagedList

		SELECT /*+ use_merge(k)*/ COUNT(1)		FROM TB_RDRECORD A			, TB_RDFOLDER K		WHERE A.record_center_id = K.record_center_id		AND   A.folder_id = K.folder_id		AND   A.record_center_id = '1';


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\srch\ConditionalSrch.xml
-- Query    : select
-- Query Id : findDetailsRecordPagedList

		SELECT E.record_center_id			, E.folder_org_cd			, E.record_org_cd			, E.folder_id			, E.record_id			, E.folder_title			, E.title			, (SELECT Z.org_nm FROM TB_STORG Z WHERE Z.record_center_id=E.record_center_id AND Z.org_cd=E.record_org_cd) org_nm			, (SELECT Z.org_abbr_nm FROM TB_STORG Z WHERE Z.record_center_id=E.record_center_id AND Z.org_cd=E.record_org_cd) org_abbr_nm			, SUBSTR(E.creat_reg_dtime,0,8) creat_reg_dtime			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD03' AND Z.com_cd=E.record_detl_type_cd) record_detl_type_nm			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD05' AND Z.com_cd=E.open_div_cd) open_div_nm			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD23' AND Z.com_cd=E.erecord_flag) erecord_flag_nm			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD17' AND Z.com_cd=E.creat_sys_cd) creat_sys_nm			, (DECODE(SUBSTR(E.spcl_record_type,1,1),'N','','Y',(SELECT com_cd_nm FROM TB_ZZCOMCD WHERE com_type_cd='RD18' AND com_cd='1'))				||DECODE(SUBSTR(E.spcl_record_type,2,1),'N','','Y',(SELECT ','||com_cd_nm FROM TB_ZZCOMCD WHERE com_type_cd='RD18' AND com_cd='2'))				||DECODE(SUBSTR(E.spcl_record_type,3,1),'N','','Y',(SELECT ','||com_cd_nm FROM TB_ZZCOMCD WHERE com_type_cd='RD18' AND com_cd='3'))				||DECODE(SUBSTR(E.spcl_record_type,4,1),'N','','Y',(SELECT ','||com_cd_nm FROM TB_ZZCOMCD WHERE com_type_cd='RD18' AND com_cd='4'))				||DECODE(SUBSTR(E.spcl_record_type,5,1),'N','','Y',(SELECT ','||com_cd_nm FROM TB_ZZCOMCD WHERE com_type_cd='RD18' AND com_cd='5'))) spcl_record_type_nm			, E.scan_fin_flag			, E.folder_keep_state_cd			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD32' AND Z.com_cd=E.folder_keep_state_cd) folder_keep_state_nm			, E.creat_sys_cd			, E.scan_prog_state_cd			, E.oper_read_range_cd			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD53' AND Z.com_cd=E.oper_read_range_cd) oper_read_range_nm		    , (CASE WHEN '1' = '3' AND E.record_center_id = (SELECT Z.record_center_id FROM TB_STUSER Z WHERE Z.USER_ID = '1') THEN 1					WHEN E.oper_read_range_cd='01' THEN 1					 					WHEN (E.oper_read_range_cd='02' AND '1' = (SELECT B.CUR_KEEP_ORG_CD FROM TB_RDFOLDER B WHERE B.folder_id=E.folder_id)) THEN 1					 		            WHEN (SELECT COUNT(1) FROM TB_RDRECORDACCS Z WHERE Z.record_center_id=E.record_center_id AND Z.record_id=E.record_id AND Z.accs_type_cd='2' AND Z.accs_dept_cd='1') > 0 THEN 1 		            WHEN (SELECT COUNT(1) FROM TB_RDRECORDACCS Z WHERE Z.record_center_id=E.record_center_id AND Z.record_id=E.record_id AND Z.accs_type_cd='1' AND Z.accs_user_id='1') > 0 THEN 1		            WHEN (SELECT COUNT(1) FROM TB_RDRECORDREADDETL Z WHERE Z.record_center_id in (select record_center_id from tb_stuser where user_id = '1') AND Z.record_id=E.record_id AND Z.read_aprov_cd='2' AND EXISTS (SELECT 1 FROM TB_RDREADREQ Y WHERE Y.record_center_id=Z.record_center_id AND Y.read_reqno=Z.read_reqno AND TO_CHAR(SYSDATE,'YYYYMMDD') BETWEEN Y.read_start_ymd AND Y.read_close_ymd AND Y.read_user_id='1')) > 0 THEN 1		            ELSE 0		       END) accs_flag		    , (CASE WHEN (E.record_detl_type_cd='01' AND E.prod_type_cd='1')		            THEN (SELECT Z.agent_nm FROM TB_RDRECORDCREAT Z WHERE Z.record_center_id=E.record_center_id AND Z.record_id=E.record_id AND Z.agent_sno=(SELECT MIN(agent_sno) FROM TB_RDRECORDCREAT Y WHERE Y.record_center_id=Z.record_center_id AND Y.record_id=Z.record_id AND Y.agent_type_cd='28'))		        	WHEN (E.record_detl_type_cd='02' OR E.record_detl_type_cd='03')		            THEN (SELECT Z.agent_nm FROM TB_RDRECORDCREAT Z WHERE Z.record_center_id=E.record_center_id AND Z.record_id=E.record_id AND Z.agent_sno=(SELECT MIN(agent_sno) FROM TB_RDRECORDCREAT Y WHERE Y.record_center_id=Z.record_center_id AND Y.record_id=Z.record_id AND Y.agent_type_cd='06'))		        	WHEN E.record_detl_type_cd='04'		            THEN (SELECT Z.agent_nm FROM TB_RDRECORDCREAT Z WHERE Z.record_center_id=E.record_center_id AND Z.record_id=E.record_id AND Z.agent_sno=(SELECT MIN(agent_sno) FROM TB_RDRECORDCREAT Y WHERE Y.record_center_id=Z.record_center_id AND Y.record_id=Z.record_id AND Y.agent_type_cd='07'))		        	WHEN E.creat_sys_cd='03'		            THEN (SELECT Z.agent_nm FROM TB_RDRECORDCREAT Z WHERE Z.record_center_id=E.record_center_id AND Z.record_id=E.record_id AND Z.agent_sno=(SELECT MIN(agent_sno) FROM TB_RDRECORDCREAT Y WHERE Y.record_center_id=Z.record_center_id AND Y.record_id=Z.record_id AND Y.agent_type_cd='01'))		       		ELSE (SELECT Z.agent_nm FROM TB_RDRECORDCREAT Z WHERE Z.record_center_id=E.record_center_id AND Z.record_id=E.record_id AND Z.agent_sno=(SELECT MIN(agent_sno) FROM TB_RDRECORDCREAT Y WHERE Y.record_center_id=Z.record_center_id AND Y.record_id=Z.record_id AND Y.agent_type_cd='02'))		       END) duty_chrgr_nm		     , E.efile_del_flag		     , E.prod_type_cd       		 , (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd = 'RD02' AND Z.com_cd = E.record_reg_div_cd) record_reg_div_nm       		 , E.folder_key       		 , E.ho_no      		 , E.creat_yyyy, E.creat_reg_no, E.dtch_reg_no, E.creat_sys_record_id, E.record_detl_type_cd, E.doc_no       		 , SUBSTR(E.creat_reg_no, 8, 6) creat_reg_no_sub		FROM (			SELECT D.*			FROM (				SELECT ROWNUM AS rnum					, C.*				FROM (					SELECT 						  								/*+ use_merge(k)*/							   					      A.record_center_id						, A.org_cd AS record_org_cd						, A.folder_id						, A.record_id						, A.title						, A.creat_reg_dtime						, A.record_detl_type_cd						, A.open_div_cd						, A.erecord_flag						, A.creat_sys_cd						, A.creat_yyyy						, A.doc_no						, A.old_record_docno						, A.spcl_record_type						, A.scan_fin_flag						, A.oper_read_range_cd						, A.duty_chrgr_nm						, A.record_clss_cd						, A.record_reg_div_cd						, A.creat_reg_no						, A.dtch_reg_no						, A.creat_sys_record_id						, (CASE WHEN A.prod_type_cd is not null THEN A.prod_type_cd ELSE (CASE WHEN A.record_reg_div_cd IN ('1','3','5','6','7','8') THEN '0' ELSE '1' END) END) prod_type_cd						, K.org_cd as folder_org_cd						, K.cur_keep_org_cd      as folder_cur_keep_org_cd 						, K.title                as folder_title						, K.oper_read_range_cd   as folder_read_range_cd						, K.clss_id              as clss_id						, K.new_clss_id          as new_clss_id						, K.scan_prog_state_cd   as scan_prog_state_cd						, K.folder_keep_state_cd as folder_keep_state_cd						, K.efile_del_flag	     as efile_del_flag						, K.creat_sys_cd||'-'||K.org_cd||'-'||K.clss_id||'-'||K.creat_yyyy||'-'||K.folder_reg_seq AS folder_key						, K.ho_no					FROM  TB_RDRECORD A						, TB_RDFOLDER K					WHERE A.record_center_id = K.record_center_id					AND   A.folder_id = K.folder_id					AND   A.record_center_id = '1'					   								ORDER BY A.record_center_id, A.creat_reg_dtime DESC, A.creat_reg_no DESC							   				) C				WHERE ROWNUM <= '1'			) D			WHERE D.rnum >= '1'		) E		ORDER BY E.rnum	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\srch\ConditionalSrch.xml
-- Query    : select
-- Query Id : countDetailsRecordPagedList_union

		SELECT /*+ use_merge(k)*/ COUNT(1)		FROM (			(			SELECT A.record_id			FROM TB_RDRECORD A				, TB_RDFOLDER K			WHERE A.record_center_id = K.record_center_id			AND   A.folder_id = K.folder_id			AND   A.record_center_id = '1'						)			UNION ALL			(			SELECT A.record_id			FROM TB_NKRECORD A				, TB_NKFOLDER K			WHERE A.record_center_id = K.record_center_id			AND   A.folder_id = K.folder_id			AND   A.record_center_id = '1'						)		);


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\srch\ConditionalSrch.xml
-- Query    : select
-- Query Id : findDetailsRecordPagedList_union

		SELECT E.record_center_id			, E.folder_org_cd			, E.record_org_cd			, E.folder_id			, E.record_id			, E.folder_title			, E.title			, (SELECT Z.org_nm FROM TB_STORG Z WHERE Z.record_center_id=E.record_center_id AND Z.org_cd=E.record_org_cd) org_nm			, (SELECT Z.org_abbr_nm FROM TB_STORG Z WHERE Z.record_center_id=E.record_center_id AND Z.org_cd=E.record_org_cd) org_abbr_nm			, SUBSTR(E.creat_reg_dtime,0,8) creat_reg_dtime			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD03' AND Z.com_cd=E.record_detl_type_cd) record_detl_type_nm			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD05' AND Z.com_cd=E.open_div_cd) open_div_nm			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD23' AND Z.com_cd=E.erecord_flag) erecord_flag_nm			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD17' AND Z.com_cd=E.creat_sys_cd) creat_sys_nm			, (DECODE(SUBSTR(E.spcl_record_type,1,1),'N','','Y',(SELECT com_cd_nm FROM TB_ZZCOMCD WHERE com_type_cd='RD18' AND com_cd='1'))				||DECODE(SUBSTR(E.spcl_record_type,2,1),'N','','Y',(SELECT ','||com_cd_nm FROM TB_ZZCOMCD WHERE com_type_cd='RD18' AND com_cd='2'))				||DECODE(SUBSTR(E.spcl_record_type,3,1),'N','','Y',(SELECT ','||com_cd_nm FROM TB_ZZCOMCD WHERE com_type_cd='RD18' AND com_cd='3'))				||DECODE(SUBSTR(E.spcl_record_type,4,1),'N','','Y',(SELECT ','||com_cd_nm FROM TB_ZZCOMCD WHERE com_type_cd='RD18' AND com_cd='4'))				||DECODE(SUBSTR(E.spcl_record_type,5,1),'N','','Y',(SELECT ','||com_cd_nm FROM TB_ZZCOMCD WHERE com_type_cd='RD18' AND com_cd='5'))) spcl_record_type_nm			, E.scan_fin_flag			, E.folder_keep_state_cd			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD32' AND Z.com_cd=E.folder_keep_state_cd) folder_keep_state_nm			, E.creat_sys_cd			, E.scan_prog_state_cd			, E.oper_read_range_cd			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD53' AND Z.com_cd=E.oper_read_range_cd) oper_read_range_nm		    , (CASE WHEN '1' = '3' AND E.record_center_id = (SELECT Z.record_center_id FROM TB_STUSER Z WHERE Z.USER_ID = '1') THEN 1					WHEN E.oper_read_range_cd='01' THEN 1 					WHEN (E.oper_read_range_cd='02' AND '1' = (SELECT B.CUR_KEEP_ORG_CD FROM TB_RDFOLDER B WHERE B.folder_id=E.folder_id)) THEN 1					 		            WHEN (SELECT COUNT(1) FROM TB_RDRECORDACCS Z WHERE Z.record_center_id=E.record_center_id AND Z.record_id=E.record_id AND Z.accs_type_cd='2' AND Z.accs_dept_cd='1') > 0 THEN 1 		            WHEN (SELECT COUNT(1) FROM TB_RDRECORDACCS Z WHERE Z.record_center_id=E.record_center_id AND Z.record_id=E.record_id AND Z.accs_type_cd='1' AND Z.accs_user_id='1') > 0 THEN 1		            WHEN (SELECT COUNT(1) FROM TB_RDRECORDREADDETL Z WHERE Z.record_center_id in (select record_center_id from tb_stuser where user_id = '1') AND Z.record_id=E.record_id AND Z.read_aprov_cd='2' AND EXISTS (SELECT 1 FROM TB_RDREADREQ Y WHERE Y.record_center_id=Z.record_center_id AND Y.read_reqno=Z.read_reqno AND TO_CHAR(SYSDATE,'YYYYMMDD') BETWEEN Y.read_start_ymd AND Y.read_close_ymd AND Y.read_user_id='1')) > 0 THEN 1		            ELSE 0		       END) accs_flag		    , (CASE WHEN (E.record_detl_type_cd='01' AND E.prod_type_cd='1')		            THEN (SELECT Z.agent_nm FROM TB_RDRECORDCREAT Z WHERE Z.record_center_id=E.record_center_id AND Z.record_id=E.record_id AND Z.agent_sno=(SELECT MIN(agent_sno) FROM TB_RDRECORDCREAT Y WHERE Y.record_center_id=Z.record_center_id AND Y.record_id=Z.record_id AND Y.agent_type_cd='28'))		        	WHEN (E.record_detl_type_cd='02' OR E.record_detl_type_cd='03')		            THEN (SELECT Z.agent_nm FROM TB_RDRECORDCREAT Z WHERE Z.record_center_id=E.record_center_id AND Z.record_id=E.record_id AND Z.agent_sno=(SELECT MIN(agent_sno) FROM TB_RDRECORDCREAT Y WHERE Y.record_center_id=Z.record_center_id AND Y.record_id=Z.record_id AND Y.agent_type_cd='06'))		        	WHEN E.record_detl_type_cd='04'		            THEN (SELECT Z.agent_nm FROM TB_RDRECORDCREAT Z WHERE Z.record_center_id=E.record_center_id AND Z.record_id=E.record_id AND Z.agent_sno=(SELECT MIN(agent_sno) FROM TB_RDRECORDCREAT Y WHERE Y.record_center_id=Z.record_center_id AND Y.record_id=Z.record_id AND Y.agent_type_cd='07'))		        	WHEN E.creat_sys_cd='03'		            THEN (SELECT Z.agent_nm FROM TB_RDRECORDCREAT Z WHERE Z.record_center_id=E.record_center_id AND Z.record_id=E.record_id AND Z.agent_sno=(SELECT MIN(agent_sno) FROM TB_RDRECORDCREAT Y WHERE Y.record_center_id=Z.record_center_id AND Y.record_id=Z.record_id AND Y.agent_type_cd='01'))		       		ELSE (SELECT Z.agent_nm FROM TB_RDRECORDCREAT Z WHERE Z.record_center_id=E.record_center_id AND Z.record_id=E.record_id AND Z.agent_sno=(SELECT MIN(agent_sno) FROM TB_RDRECORDCREAT Y WHERE Y.record_center_id=Z.record_center_id AND Y.record_id=Z.record_id AND Y.agent_type_cd='02'))		       END) duty_chrgr_nm		     , E.efile_del_flag		     , E.prod_type_cd       		 , (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd = 'RD02' AND Z.com_cd = E.record_reg_div_cd) record_reg_div_nm       		 , E.folder_key       		 , E.ho_no       		 , E.creat_yyyy, E.creat_reg_no, E.dtch_reg_no, E.creat_sys_record_id, E.record_detl_type_cd, E.doc_no       		 , SUBSTR(E.creat_reg_no, 8, 6) creat_reg_no_sub		FROM (			SELECT D.*			FROM (				SELECT ROWNUM AS rnum					, C.*				FROM (					(					SELECT						  								/*+ use_merge(k)*/							   					      A.record_center_id						, A.org_cd AS record_org_cd						, A.folder_id						, A.record_id						, A.title						, A.creat_reg_dtime						, A.creat_reg_no						, A.record_detl_type_cd						, A.open_div_cd						, A.erecord_flag						, A.creat_sys_cd						, A.creat_yyyy						, A.doc_no						, A.old_record_docno						, A.spcl_record_type						, A.scan_fin_flag						, A.oper_read_range_cd						, A.duty_chrgr_nm						, A.record_clss_cd						, A.record_reg_div_cd						, A.dtch_reg_no						, A.creat_sys_record_id						, (CASE WHEN A.prod_type_cd is not null THEN A.prod_type_cd ELSE (CASE WHEN A.record_reg_div_cd IN ('1','3','5','6','7','8') THEN '0' ELSE '1' END) END) prod_type_cd						, K.org_cd               as folder_org_cd						, K.cur_keep_org_cd      as folder_cur_keep_org_cd 						, K.title                as folder_title						, K.oper_read_range_cd   as folder_read_range_cd						, K.clss_id              as clss_id						, K.new_clss_id          as new_clss_id						, K.scan_prog_state_cd   as scan_prog_state_cd						, K.folder_keep_state_cd as folder_keep_state_cd						, K.efile_del_flag	     as efile_del_flag						, K.creat_sys_cd||'-'||K.org_cd||'-'||K.clss_id||'-'||K.creat_yyyy||'-'||K.folder_reg_seq AS folder_key						, K.ho_no					FROM  TB_RDRECORD A						, TB_RDFOLDER K					WHERE A.record_center_id = K.record_center_id					AND   A.folder_id = K.folder_id					AND   A.record_center_id = '1'										)					UNION ALL					(					SELECT  								/*+ use_merge(k)*/							   					      A.record_center_id						, A.org_cd AS record_org_cd						, A.folder_id						, A.record_id						, A.title						, A.creat_reg_dtime						, A.creat_reg_no						, A.record_detl_type_cd						, A.open_div_cd						, A.erecord_flag						, A.creat_sys_cd						, A.creat_yyyy						, A.doc_no						, A.old_record_docno						, A.spcl_record_type						, '' AS scan_fin_flag						, A.oper_read_range_cd						, A.duty_chrgr_nm						, A.record_clss_cd						, A.record_reg_div_cd						, A.dtch_reg_no						, A.creat_sys_record_id						, (CASE WHEN A.prod_type_cd is not null THEN A.prod_type_cd ELSE (CASE WHEN A.record_reg_div_cd IN ('1','3','5','6','7','8') THEN '0' ELSE '1' END) END) prod_type_cd						, K.org_cd               as folder_org_cd						, K.cur_keep_org_cd      as folder_cur_keep_org_cd 						, K.title                as folder_title						, K.oper_read_range_cd   as folder_read_range_cd						, K.clss_id              as clss_id						, K.new_clss_id          as new_clss_id						, K.scan_prog_state_cd   as scan_prog_state_cd						, K.folder_keep_state_cd as folder_keep_state_cd						, K.efile_del_flag	     as efile_del_flag						, K.creat_sys_cd||'-'||K.org_cd||'-'||K.clss_id||'-'||K.creat_yyyy||'-'||K.folder_reg_seq AS folder_key						, K.ho_no					FROM  TB_NKRECORD A						, TB_NKFOLDER K					WHERE A.record_center_id = K.record_center_id					AND   A.folder_id = K.folder_id					AND   A.record_center_id = '1'										)					  							ORDER BY record_center_id, creat_reg_dtime DESC, creat_reg_no DESC						  				) C				WHERE ROWNUM <= '1'			) D			WHERE D.rnum >= '1'		) E		ORDER BY E.rnum	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\srch\ConditionalSrch.xml
-- Query    : select
-- Query Id : countDetailsRecordSearchParamPagedList

		SELECT COUNT(1)		FROM  TB_STRECORDQUERY A		WHERE A.user_id = '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\srch\ConditionalSrch.xml
-- Query    : select
-- Query Id : findDetailsRecordSearchParamPagedList

		SELECT E.user_id			, E.record_query_id			, E.record_query_nm			, E.creat_sys_cd			, E.creat_org_cd			, (SELECT MAX(Z.org_nm) FROM TB_STORG Z WHERE Z.org_cd=E.creat_org_cd) AS creat_org_nm			, E.record_detl_type_cd			, E.record_title			, E.work_user_id			, E.reg_dtime			, E.erecord_flag			, E.scan_prog_state_cd			, E.spcl_record_type			, E.scan_fin_flag			, E.folder_keep_state_cd			, E.old_record_docno			, E.record_clss_cd			, E.open_div_cd			, E.creat_reg_dtime_from			, E.creat_reg_dtime_to			, E.clss_div_cd			, E.clss_id			, (CASE WHEN E.clss_div_cd='1' THEN (SELECT Z.bis_clss_nm FROM TB_ZZBISCLSS Z WHERE Z.bis_clss_id=E.clss_id)					WHEN E.clss_div_cd='2' THEN (SELECT MAX(Z.unit_nm) FROM TB_ZZUNIT Z WHERE Z.unit_cd=E.clss_id)					ELSE '' END) AS clss_nm			, E.prod_type_cd			, E.oper_read_range_cd			, E.recv_send_agent_nm			, E.inner_title			, E.search_div_cd			, E.keywd		FROM (			SELECT D.*			FROM (				SELECT ROWNUM AS rnum					, C.*				FROM (					SELECT A.*					FROM  TB_STRECORDQUERY A					WHERE A.user_id = '1'					ORDER BY A.user_id, A.record_query_id				) C				WHERE ROWNUM <= '1'			) D			WHERE D.rnum >= '1'		) E		ORDER BY E.rnum	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\srch\ConditionalSrch.xml
-- Query    : delete
-- Query Id : deleteDetailsRecordSearchParam

		DELETE FROM TB_STRECORDQUERY		WHERE user_id = '1'		AND   record_query_id = '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\srch\ConditionalSrch.xml
-- Query    : insert
-- Query Id : createDetailsRecordSearchParam

		INSERT INTO TB_STRECORDQUERY		(			user_id, record_query_id, record_query_nm, creat_sys_cd, creat_org_cd			, record_detl_type_cd, record_title, work_user_id, reg_dtime, erecord_flag			, scan_prog_state_cd, spcl_record_type, scan_fin_flag, folder_keep_state_cd, old_record_docno			, record_clss_cd, open_div_cd, creat_reg_dtime_from, creat_reg_dtime_to, clss_div_cd			, clss_id, prod_type_cd, oper_read_range_cd, recv_send_agent_nm, inner_title			, search_div_cd, keywd		)		VALUES		(			'1', (SELECT NVL(MAX(TO_NUMBER(record_query_id)),0)+1 FROM TB_STRECORDQUERY WHERE user_id = '1'), '1', '1', '1'			, '1', '1', '1'						, TO_CHAR(sys_datetime, 'YYYYMMDDHH24MISS'), '1'			, '1', '1', '1', '1', '1'			, '1', '1', '1', '1', '1'			, '1', '1', '1', '1', '1'			, '1', '1'		);


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\srch\ConditionalSrch.xml
-- Query    : select
-- Query Id : countDetailsTermRecordPagedList

		SELECT COUNT(1)		FROM (			SELECT B.*				,(SELECT Z.cur_keep_org_cd      FROM TB_RDFOLDER Z WHERE Z.record_center_id=B.record_center_id AND Z.folder_id=B.folder_id) AS folder_cur_keep_org_cd				,(SELECT Z.folder_keep_state_cd FROM TB_RDFOLDER Z WHERE Z.record_center_id=B.record_center_id AND Z.folder_id=B.folder_id) AS folder_keep_state_cd				,(SELECT Z.oper_read_range_cd   FROM TB_RDFOLDER Z WHERE Z.record_center_id=B.record_center_id AND Z.folder_id=B.folder_id) AS folder_read_range_cd	        FROM TB_RDRECORD B		) A		WHERE A.record_center_id = '1'		;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\srch\ConditionalSrch.xml
-- Query    : select
-- Query Id : findDetailsTermRecordPagedList

		SELECT E.record_center_id			, E.folder_org_cd			, E.record_org_cd			, E.folder_id			, E.record_id			, E.folder_title			, E.title			, (SELECT Z.org_nm FROM TB_STORG Z WHERE Z.record_center_id=E.record_center_id AND Z.org_cd=E.record_org_cd) org_nm			, (SELECT Z.org_abbr_nm FROM TB_STORG Z WHERE Z.record_center_id=E.record_center_id AND Z.org_cd=E.record_org_cd) org_abbr_nm			, SUBSTR(E.creat_reg_dtime,0,8) creat_reg_dtime			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD03' AND Z.com_cd=E.record_detl_type_cd) record_detl_type_nm			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD05' AND Z.com_cd=E.open_div_cd) open_div_nm			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD23' AND Z.com_cd=E.erecord_flag) erecord_flag_nm			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD17' AND Z.com_cd=E.creat_sys_cd) creat_sys_nm			, (DECODE(SUBSTR(E.spcl_record_type,1,1),'N','','Y',(SELECT com_cd_nm FROM TB_ZZCOMCD WHERE com_type_cd='RD18' AND com_cd='1'))				||DECODE(SUBSTR(E.spcl_record_type,2,1),'N','','Y',(SELECT ','||com_cd_nm FROM TB_ZZCOMCD WHERE com_type_cd='RD18' AND com_cd='2'))				||DECODE(SUBSTR(E.spcl_record_type,3,1),'N','','Y',(SELECT ','||com_cd_nm FROM TB_ZZCOMCD WHERE com_type_cd='RD18' AND com_cd='3'))				||DECODE(SUBSTR(E.spcl_record_type,4,1),'N','','Y',(SELECT ','||com_cd_nm FROM TB_ZZCOMCD WHERE com_type_cd='RD18' AND com_cd='4'))				||DECODE(SUBSTR(E.spcl_record_type,5,1),'N','','Y',(SELECT ','||com_cd_nm FROM TB_ZZCOMCD WHERE com_type_cd='RD18' AND com_cd='5'))) SPCL_RECORD_TYPE_NM			, E.scan_fin_flag			, E.folder_keep_state_cd			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD32' AND Z.com_cd=E.folder_keep_state_cd) folder_keep_state_nm			, E.creat_sys_cd			, E.scan_prog_state_cd			, E.oper_read_range_cd			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD53' AND Z.com_cd=E.oper_read_range_cd) oper_read_range_nm			, E.folder_read_range_cd		    , (CASE WHEN '3'='1' AND E.record_center_id = (SELECT Z.record_center_id FROM TB_STUSER Z WHERE Z.USER_ID = '1') THEN 1					WHEN E.folder_read_range_cd='01' THEN 1					 					WHEN (E.folder_read_range_cd='02' AND E.folder_cur_keep_org_cd='1') THEN 1					 		            WHEN (SELECT COUNT(1) FROM TB_RDFOLDERACCS Z WHERE Z.record_center_id=E.record_center_id AND Z.folder_id=E.folder_id AND Z.accs_type_cd='2' AND Z.accs_dept_cd='1') > 0 THEN 1 		            WHEN (SELECT COUNT(1) FROM TB_RDFOLDERACCS Z WHERE Z.record_center_id=E.record_center_id AND Z.folder_id=E.folder_id AND Z.accs_type_cd='1' AND Z.accs_user_id='1') > 0 THEN 1		            ELSE 0		       END) folder_accs_flag		    , (CASE WHEN '1' = '3' AND E.record_center_id = (SELECT Z.record_center_id FROM TB_STUSER Z WHERE Z.USER_ID = '1') THEN 1					WHEN E.oper_read_range_cd='01' THEN 1 					WHEN (E.oper_read_range_cd='02' AND '1' = (SELECT B.CUR_KEEP_ORG_CD FROM TB_RDFOLDER B WHERE B.folder_id=E.folder_id)) THEN 1					 		            WHEN (SELECT COUNT(1) FROM TB_RDRECORDACCS Z WHERE Z.record_center_id=E.record_center_id AND Z.record_id=E.record_id AND Z.accs_type_cd='2' AND Z.accs_dept_cd='1') > 0 THEN 1 		            WHEN (SELECT COUNT(1) FROM TB_RDRECORDACCS Z WHERE Z.record_center_id=E.record_center_id AND Z.record_id=E.record_id AND Z.accs_type_cd='1' AND Z.accs_user_id='1') > 0 THEN 1		            ELSE 0		       END) accs_flag		    , E.duty_chrgr_nm		    , E.efile_del_flag		    , E.prod_type_cd       		, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd = 'RD02' AND Z.com_cd = E.record_reg_div_cd) record_reg_div_nm       		, E.folder_key       		, E.ho_no       		, E.creat_yyyy, E.creat_reg_no, E.dtch_reg_no, E.creat_sys_record_id, E.record_detl_type_cd, E.doc_no       		, SUBSTR(E.creat_reg_no, 8, 6) creat_reg_no_sub		FROM (			SELECT D.*			FROM (				SELECT ROWNUM AS rnum					, C.*				FROM (					SELECT B.*					FROM (						SELECT						      A.record_center_id							, A.org_cd AS record_org_cd							, A.folder_id							, A.record_id							, A.title							, A.creat_reg_dtime							, A.record_detl_type_cd							, A.open_div_cd							, A.erecord_flag							, A.creat_sys_cd							, A.creat_yyyy							, A.doc_no							, A.old_record_docno							, A.spcl_record_type							, A.scan_fin_flag							, A.oper_read_range_cd							, A.duty_chrgr_nm							, A.record_clss_cd							, A.record_reg_div_cd							, A.creat_reg_no							, A.dtch_reg_no							, A.creat_sys_record_id							, (CASE WHEN A.prod_type_cd is not null THEN A.prod_type_cd ELSE (CASE WHEN A.record_reg_div_cd IN ('1','3','5','6','7','8') THEN '0' ELSE '1' END) END) prod_type_cd							, (SELECT org_cd               FROM TB_RDFOLDER Z WHERE Z.record_center_id=A.record_center_id AND Z.folder_id=A.folder_id) folder_org_cd							, (SELECT cur_keep_org_cd      FROM TB_RDFOLDER Z WHERE Z.record_center_id=A.record_center_id AND Z.folder_id=A.folder_id) folder_cur_keep_org_cd							, (SELECT title                FROM TB_RDFOLDER Z WHERE Z.record_center_id=A.record_center_id AND Z.folder_id=A.folder_id) folder_title							, (SELECT oper_read_range_cd   FROM TB_RDFOLDER Z WHERE Z.record_center_id=A.record_center_id AND Z.folder_id=A.folder_id) folder_read_range_cd							, (SELECT clss_id              FROM TB_RDFOLDER Z WHERE Z.record_center_id=A.record_center_id AND Z.folder_id=A.folder_id) clss_id							, (SELECT new_clss_id          FROM TB_RDFOLDER Z WHERE Z.record_center_id=A.record_center_id AND Z.folder_id=A.folder_id) new_clss_id							, (SELECT scan_prog_state_cd   FROM TB_RDFOLDER Z WHERE Z.record_center_id=A.record_center_id AND Z.folder_id=A.folder_id) scan_prog_state_cd							, (SELECT folder_keep_state_cd FROM TB_RDFOLDER Z WHERE Z.record_center_id=A.record_center_id AND Z.folder_id=A.folder_id) folder_keep_state_cd							, (SELECT efile_del_flag	   FROM TB_RDFOLDER Z WHERE Z.record_center_id=A.record_center_id AND Z.folder_id=A.folder_id) efile_del_flag							, (SELECT Z.creat_sys_cd||'-'||Z.org_cd||'-'||Z.clss_id||'-'||Z.creat_yyyy||'-'||Z.folder_reg_seq FROM TB_RDFOLDER Z WHERE Z.record_center_id=A.record_center_id AND Z.folder_id=A.folder_id) AS folder_key							, (SELECT ho_no	   FROM TB_RDFOLDER Z WHERE Z.record_center_id=A.record_center_id AND Z.folder_id=A.folder_id) ho_no						FROM TB_RDRECORD A						   									ORDER BY A.record_center_id, A.creat_reg_dtime DESC, A.creat_reg_no DESC								   					) B					WHERE B.record_center_id = '1'				) C				WHERE ROWNUM <= '1'			) D			WHERE D.rnum >= '1'		) E		ORDER BY E.rnum	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\srch\ConditionalSrch.xml
-- Query    : select
-- Query Id : countDetailsTermRecordPagedList_union

		SELECT COUNT(1)		FROM (			(			SELECT record_id			FROM (				SELECT B.*					,(SELECT Z.cur_keep_org_cd      FROM TB_RDFOLDER Z WHERE Z.record_center_id=B.record_center_id AND Z.folder_id=B.folder_id) AS folder_cur_keep_org_cd					,(SELECT Z.folder_keep_state_cd FROM TB_RDFOLDER Z WHERE Z.record_center_id=B.record_center_id AND Z.folder_id=B.folder_id) AS folder_keep_state_cd					,(SELECT Z.oper_read_range_cd   FROM TB_RDFOLDER Z WHERE Z.record_center_id=B.record_center_id AND Z.folder_id=B.folder_id) AS folder_read_range_cd		        FROM TB_RDRECORD B			) A			WHERE A.record_center_id = '1'						)			UNION ALL			(			SELECT record_id			FROM (				SELECT B.*					,(SELECT Z.cur_keep_org_cd      FROM TB_NKFOLDER Z WHERE Z.record_center_id=B.record_center_id AND Z.folder_id=B.folder_id) AS folder_cur_keep_org_cd					,(SELECT Z.folder_keep_state_cd FROM TB_NKFOLDER Z WHERE Z.record_center_id=B.record_center_id AND Z.folder_id=B.folder_id) AS folder_keep_state_cd					,(SELECT Z.oper_read_range_cd   FROM TB_NKFOLDER Z WHERE Z.record_center_id=B.record_center_id AND Z.folder_id=B.folder_id) AS folder_read_range_cd		        FROM TB_NKRECORD B			) A			WHERE A.record_center_id = '1'			)		);


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\srch\ConditionalSrch.xml
-- Query    : select
-- Query Id : findDetailsTermRecordPagedList_union

		SELECT E.record_center_id			, E.folder_org_cd			, E.record_org_cd			, E.folder_id			, E.record_id			, E.folder_title			, E.title			, (SELECT Z.org_nm FROM TB_STORG Z WHERE Z.record_center_id=E.record_center_id AND Z.org_cd=E.record_org_cd) org_nm			, (SELECT Z.org_abbr_nm FROM TB_STORG Z WHERE Z.record_center_id=E.record_center_id AND Z.org_cd=E.record_org_cd) org_abbr_nm			, SUBSTR(E.creat_reg_dtime,0,8) creat_reg_dtime			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD03' AND Z.com_cd=E.record_detl_type_cd) record_detl_type_nm			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD05' AND Z.com_cd=E.open_div_cd) open_div_nm			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD23' AND Z.com_cd=E.erecord_flag) erecord_flag_nm			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD17' AND Z.com_cd=E.creat_sys_cd) creat_sys_nm			, (DECODE(SUBSTR(E.spcl_record_type,1,1),'N','','Y',(SELECT com_cd_nm FROM TB_ZZCOMCD WHERE com_type_cd='RD18' AND com_cd='1'))				||DECODE(SUBSTR(E.spcl_record_type,2,1),'N','','Y',(SELECT ','||com_cd_nm FROM TB_ZZCOMCD WHERE com_type_cd='RD18' AND com_cd='2'))				||DECODE(SUBSTR(E.spcl_record_type,3,1),'N','','Y',(SELECT ','||com_cd_nm FROM TB_ZZCOMCD WHERE com_type_cd='RD18' AND com_cd='3'))				||DECODE(SUBSTR(E.spcl_record_type,4,1),'N','','Y',(SELECT ','||com_cd_nm FROM TB_ZZCOMCD WHERE com_type_cd='RD18' AND com_cd='4'))				||DECODE(SUBSTR(E.spcl_record_type,5,1),'N','','Y',(SELECT ','||com_cd_nm FROM TB_ZZCOMCD WHERE com_type_cd='RD18' AND com_cd='5'))) SPCL_RECORD_TYPE_NM			, E.scan_fin_flag			, E.folder_keep_state_cd			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD32' AND Z.com_cd=E.folder_keep_state_cd) folder_keep_state_nm			, E.creat_sys_cd			, E.scan_prog_state_cd			, E.oper_read_range_cd			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD53' AND Z.com_cd=E.oper_read_range_cd) oper_read_range_nm			, E.folder_read_range_cd		    , (CASE WHEN '3'='1' AND E.record_center_id = (SELECT Z.record_center_id FROM TB_STUSER Z WHERE Z.USER_ID = '1') THEN 1					WHEN E.folder_read_range_cd='01' THEN 1					 					WHEN (E.folder_read_range_cd='02' AND E.folder_cur_keep_org_cd='1') THEN 1					 		            WHEN (SELECT COUNT(1) FROM TB_RDFOLDERACCS Z WHERE Z.record_center_id=E.record_center_id AND Z.folder_id=E.folder_id AND Z.accs_type_cd='2' AND Z.accs_dept_cd='1') > 0 THEN 1 		            WHEN (SELECT COUNT(1) FROM TB_RDFOLDERACCS Z WHERE Z.record_center_id=E.record_center_id AND Z.folder_id=E.folder_id AND Z.accs_type_cd='1' AND Z.accs_user_id='1') > 0 THEN 1		            ELSE 0		       END) folder_accs_flag		    , (CASE WHEN '3'='1' AND E.record_center_id = (SELECT Z.record_center_id FROM TB_STUSER Z WHERE Z.USER_ID = '1') THEN 1					WHEN E.oper_read_range_cd='01' THEN 1 					WHEN (E.oper_read_range_cd='02' AND '1' = (SELECT B.CUR_KEEP_ORG_CD FROM TB_RDFOLDER B WHERE B.folder_id=E.folder_id)) THEN 1					 		            WHEN (SELECT COUNT(1) FROM TB_RDRECORDACCS Z WHERE Z.record_center_id=E.record_center_id AND Z.record_id=E.record_id AND Z.accs_type_cd='2' AND Z.accs_dept_cd='1') > 0 THEN 1 		            WHEN (SELECT COUNT(1) FROM TB_RDRECORDACCS Z WHERE Z.record_center_id=E.record_center_id AND Z.record_id=E.record_id AND Z.accs_type_cd='1' AND Z.accs_user_id='1') > 0 THEN 1		            ELSE 0		       END) accs_flag		    , E.duty_chrgr_nm		    , E.efile_del_flag		    , E.prod_type_cd       		, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd = 'RD02' AND Z.com_cd = E.record_reg_div_cd) record_reg_div_nm       		, E.folder_key       		, E.ho_no       		, E.creat_yyyy, E.creat_reg_no, E.dtch_reg_no, E.creat_sys_record_id, E.record_detl_type_cd, E.doc_no       		, SUBSTR(E.creat_reg_no, 8, 6) creat_reg_no_sub		FROM (			SELECT D.*			FROM (				SELECT ROWNUM AS rnum					, C.*				FROM (					SELECT *					FROM (						(							SELECT B.*							FROM (								SELECT								      A.record_center_id									, A.org_cd AS record_org_cd									, A.folder_id									, A.record_id									, A.title									, A.creat_reg_dtime									, A.record_detl_type_cd									, A.open_div_cd									, A.erecord_flag									, A.creat_sys_cd									, A.creat_yyyy									, A.doc_no									, A.old_record_docno									, A.spcl_record_type									, A.scan_fin_flag									, A.oper_read_range_cd									, A.duty_chrgr_nm									, A.record_clss_cd									, A.record_reg_div_cd									, A.creat_reg_no									, A.dtch_reg_no									, A.creat_sys_record_id									, (CASE WHEN A.prod_type_cd is not null THEN A.prod_type_cd ELSE (CASE WHEN A.record_reg_div_cd IN ('1','3','5','6','7','8') THEN '0' ELSE '1' END) END) prod_type_cd									, (SELECT org_cd               FROM TB_RDFOLDER Z WHERE Z.record_center_id=A.record_center_id AND Z.folder_id=A.folder_id) folder_org_cd									, (SELECT cur_keep_org_cd      FROM TB_RDFOLDER Z WHERE Z.record_center_id=A.record_center_id AND Z.folder_id=A.folder_id) folder_cur_keep_org_cd									, (SELECT title                FROM TB_RDFOLDER Z WHERE Z.record_center_id=A.record_center_id AND Z.folder_id=A.folder_id) folder_title									, (SELECT oper_read_range_cd   FROM TB_RDFOLDER Z WHERE Z.record_center_id=A.record_center_id AND Z.folder_id=A.folder_id) folder_read_range_cd									, (SELECT clss_id              FROM TB_RDFOLDER Z WHERE Z.record_center_id=A.record_center_id AND Z.folder_id=A.folder_id) clss_id									, (SELECT new_clss_id          FROM TB_RDFOLDER Z WHERE Z.record_center_id=A.record_center_id AND Z.folder_id=A.folder_id) new_clss_id									, (SELECT scan_prog_state_cd   FROM TB_RDFOLDER Z WHERE Z.record_center_id=A.record_center_id AND Z.folder_id=A.folder_id) scan_prog_state_cd									, (SELECT folder_keep_state_cd FROM TB_RDFOLDER Z WHERE Z.record_center_id=A.record_center_id AND Z.folder_id=A.folder_id) folder_keep_state_cd									, (SELECT efile_del_flag	   FROM TB_RDFOLDER Z WHERE Z.record_center_id=A.record_center_id AND Z.folder_id=A.folder_id) efile_del_flag									, (SELECT Z.creat_sys_cd||'-'||Z.org_cd||'-'||Z.clss_id||'-'||Z.creat_yyyy||'-'||Z.folder_reg_seq FROM TB_RDFOLDER Z WHERE Z.record_center_id=A.record_center_id AND Z.folder_id=A.folder_id) AS folder_key									, (SELECT ho_no	   FROM TB_RDFOLDER Z WHERE Z.record_center_id=A.record_center_id AND Z.folder_id=A.folder_id) ho_no								FROM TB_RDRECORD A							) B							WHERE B.record_center_id = '1'								 					)	 					UNION ALL	 					(							SELECT B.*							FROM (								SELECT																	      A.record_center_id									, A.org_cd AS record_org_cd									, A.folder_id									, A.record_id									, A.title									, A.creat_reg_dtime									, A.record_detl_type_cd									, A.open_div_cd									, A.erecord_flag									, A.creat_sys_cd									, A.creat_yyyy									, A.doc_no									, A.old_record_docno									, A.spcl_record_type									, '' AS scan_fin_flag									, A.oper_read_range_cd									, A.duty_chrgr_nm									, A.record_clss_cd									, A.record_reg_div_cd									, A.creat_reg_no									, A.dtch_reg_no									, A.creat_sys_record_id									, (CASE WHEN A.prod_type_cd is not null THEN A.prod_type_cd ELSE (CASE WHEN A.record_reg_div_cd IN ('1','3','5','6','7','8') THEN '0' ELSE '1' END) END) prod_type_cd									, (SELECT org_cd               FROM TB_NKFOLDER Z WHERE Z.record_center_id=A.record_center_id AND Z.folder_id=A.folder_id) folder_org_cd									, (SELECT cur_keep_org_cd      FROM TB_NKFOLDER Z WHERE Z.record_center_id=A.record_center_id AND Z.folder_id=A.folder_id) folder_cur_keep_org_cd									, (SELECT title                FROM TB_NKFOLDER Z WHERE Z.record_center_id=A.record_center_id AND Z.folder_id=A.folder_id) folder_title									, (SELECT oper_read_range_cd   FROM TB_NKFOLDER Z WHERE Z.record_center_id=A.record_center_id AND Z.folder_id=A.folder_id) folder_read_range_cd									, (SELECT clss_id              FROM TB_NKFOLDER Z WHERE Z.record_center_id=A.record_center_id AND Z.folder_id=A.folder_id) clss_id									, (SELECT new_clss_id          FROM TB_NKFOLDER Z WHERE Z.record_center_id=A.record_center_id AND Z.folder_id=A.folder_id) new_clss_id									, (SELECT scan_prog_state_cd   FROM TB_NKFOLDER Z WHERE Z.record_center_id=A.record_center_id AND Z.folder_id=A.folder_id) scan_prog_state_cd									, (SELECT folder_keep_state_cd FROM TB_NKFOLDER Z WHERE Z.record_center_id=A.record_center_id AND Z.folder_id=A.folder_id) folder_keep_state_cd									, (SELECT efile_del_flag	   FROM TB_NKFOLDER Z WHERE Z.record_center_id=A.record_center_id AND Z.folder_id=A.folder_id) efile_del_flag									, (SELECT Z.creat_sys_cd||'-'||Z.org_cd||'-'||Z.clss_id||'-'||Z.creat_yyyy||'-'||Z.folder_reg_seq FROM TB_NKFOLDER Z WHERE Z.record_center_id=A.record_center_id AND Z.folder_id=A.folder_id) AS folder_key									, (SELECT ho_no	   FROM TB_NKFOLDER Z WHERE Z.record_center_id=A.record_center_id AND Z.folder_id=A.folder_id) ho_no								FROM TB_NKRECORD A							) B							WHERE B.record_center_id = '1'								 					) 					)  							ORDER BY record_center_id, creat_reg_dtime DESC, creat_reg_no DESC						  				) C				WHERE ROWNUM <= '1'			) D			WHERE D.rnum >= '1'		) E		ORDER BY E.rnum	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\srch\ConditionalSrch.xml
-- Query    : select
-- Query Id : countDetailsAgentRecordPagedList

		SELECT COUNT(1)		FROM TB_RDRECORD A, TB_RDFOLDER B		WHERE B.record_center_id=A.record_center_id 		AND   B.folder_id=A.folder_id  		AND   A.record_center_id = '1'	    ;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\srch\ConditionalSrch.xml
-- Query    : select
-- Query Id : findDetailsAgentRecordPagedList

		SELECT E.record_center_id			, E.folder_org_cd			, E.record_org_cd			, E.folder_id			, E.record_id			, E.folder_title			, E.title			, (SELECT Z.org_nm FROM TB_STORG Z WHERE Z.record_center_id=E.record_center_id AND Z.org_cd=E.record_org_cd) org_nm			, (SELECT Z.org_abbr_nm FROM TB_STORG Z WHERE Z.record_center_id=E.record_center_id AND Z.org_cd=E.record_org_cd) org_abbr_nm			, SUBSTR(E.creat_reg_dtime,0,8) creat_reg_dtime			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD03' AND Z.com_cd=E.record_detl_type_cd) record_detl_type_nm			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD05' AND Z.com_cd=E.open_div_cd) open_div_nm			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD23' AND Z.com_cd=E.erecord_flag) erecord_flag_nm			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD17' AND Z.com_cd=E.creat_sys_cd) creat_sys_nm			, (DECODE(SUBSTR(E.spcl_record_type,1,1),'N','','Y',(SELECT com_cd_nm FROM TB_ZZCOMCD WHERE com_type_cd='RD18' AND com_cd='1'))				||DECODE(SUBSTR(E.spcl_record_type,2,1),'N','','Y',(SELECT ','||com_cd_nm FROM TB_ZZCOMCD WHERE com_type_cd='RD18' AND com_cd='2'))				||DECODE(SUBSTR(E.spcl_record_type,3,1),'N','','Y',(SELECT ','||com_cd_nm FROM TB_ZZCOMCD WHERE com_type_cd='RD18' AND com_cd='3'))				||DECODE(SUBSTR(E.spcl_record_type,4,1),'N','','Y',(SELECT ','||com_cd_nm FROM TB_ZZCOMCD WHERE com_type_cd='RD18' AND com_cd='4'))				||DECODE(SUBSTR(E.spcl_record_type,5,1),'N','','Y',(SELECT ','||com_cd_nm FROM TB_ZZCOMCD WHERE com_type_cd='RD18' AND com_cd='5'))) SPCL_RECORD_TYPE_NM			, E.scan_fin_flag			, E.folder_keep_state_cd			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD32' AND Z.com_cd=E.folder_keep_state_cd) folder_keep_state_nm			, E.creat_sys_cd			, E.scan_prog_state_cd			, E.oper_read_range_cd			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD53' AND Z.com_cd=E.oper_read_range_cd) oper_read_range_nm			, E.folder_read_range_cd		    , (CASE WHEN '1' = '3' AND E.record_center_id = (SELECT Z.record_center_id FROM TB_STUSER Z WHERE Z.USER_ID = '1') THEN 1					WHEN E.folder_read_range_cd='01' THEN 1					 					WHEN (E.folder_read_range_cd='02' AND E.folder_cur_keep_org_cd='1') THEN 1					 		            WHEN (SELECT COUNT(1) FROM TB_RDFOLDERACCS Z WHERE Z.record_center_id=E.record_center_id AND Z.folder_id=E.folder_id AND Z.accs_type_cd='2' AND Z.accs_dept_cd='1') > 0 THEN 1 		            WHEN (SELECT COUNT(1) FROM TB_RDFOLDERACCS Z WHERE Z.record_center_id=E.record_center_id AND Z.folder_id=E.folder_id AND Z.accs_type_cd='1' AND Z.accs_user_id='1') > 0 THEN 1		            ELSE 0		       END) folder_accs_flag		    , (CASE WHEN '1' = '3' AND E.record_center_id = (SELECT Z.record_center_id FROM TB_STUSER Z WHERE Z.USER_ID = '1') THEN 1					WHEN E.oper_read_range_cd='01' THEN 1 					WHEN (E.oper_read_range_cd='02' AND '1' = (SELECT B.CUR_KEEP_ORG_CD FROM TB_RDFOLDER B WHERE B.folder_id=E.folder_id AND B.record_center_id=E.record_center_id)) THEN 1					 		            WHEN (SELECT COUNT(1) FROM TB_RDRECORDACCS Z WHERE Z.record_center_id=E.record_center_id AND Z.record_id=E.record_id AND Z.accs_type_cd='2' AND Z.accs_dept_cd='1') > 0 THEN 1 		            WHEN (SELECT COUNT(1) FROM TB_RDRECORDACCS Z WHERE Z.record_center_id=E.record_center_id AND Z.record_id=E.record_id AND Z.accs_type_cd='1' AND Z.accs_user_id='1') > 0 THEN 1		            ELSE 0		       END) accs_flag		    , E.duty_chrgr_nm		    , E.efile_del_flag		    , E.prod_type_cd       		, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd = 'RD02' AND Z.com_cd = E.record_reg_div_cd) record_reg_div_nm       		, E.folder_key       		, E.ho_no      		, E.creat_yyyy, E.creat_reg_no, E.dtch_reg_no, E.creat_sys_record_id, E.record_detl_type_cd, E.doc_no       		, SUBSTR(E.creat_reg_no, 8, 6) creat_reg_no_sub		FROM (			SELECT D.*			FROM (				SELECT ROWNUM AS rnum					, C.*				FROM (					SELECT  								/*+ index(A TB_RDRECORD_IX09) */ 							   						      A.record_center_id							, A.org_cd AS record_org_cd							, A.folder_id							, A.record_id							, A.title							, A.creat_reg_dtime							, A.record_detl_type_cd							, A.open_div_cd							, A.erecord_flag							, A.creat_sys_cd							, A.creat_yyyy							, A.doc_no							, A.old_record_docno							, A.spcl_record_type							, A.scan_fin_flag							, A.oper_read_range_cd							, A.duty_chrgr_nm							, A.record_clss_cd						, A.record_reg_div_cd						, A.creat_reg_no						, A.dtch_reg_no						, A.creat_sys_record_id							, (CASE WHEN A.prod_type_cd is not null THEN A.prod_type_cd ELSE (CASE WHEN A.record_reg_div_cd IN ('1','3','5','6','7','8') THEN '0' ELSE '1' END) END) prod_type_cd							, B.org_cd	AS folder_org_cd							, B.cur_keep_org_cd AS folder_cur_keep_org_cd							, B.title	AS folder_title							, B.oper_read_range_cd   	AS folder_read_range_cd							, B.clss_id					AS clss_id							, B.new_clss_id				AS new_clss_id							, B.scan_prog_state_cd		AS scan_prog_state_cd							, B.folder_keep_state_cd 	AS folder_keep_state_cd							, B.efile_del_flag							, B.creat_sys_cd||'-'||B.org_cd||'-'||B.clss_id||'-'||B.creat_yyyy||'-'||B.folder_reg_seq AS folder_key							, B.ho_no						FROM TB_RDRECORD A , TB_RDFOLDER B					   WHERE B.record_center_id=A.record_center_id 					     AND B.folder_id=A.folder_id 					     AND A.record_center_id = '1'				) C				WHERE ROWNUM <= '1'			) D			WHERE D.rnum >= '1'		) E		ORDER BY E.rnum	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\srch\ConditionalSrch.xml
-- Query    : select
-- Query Id : countDetailsClssNoFolderPagedList

		SELECT COUNT(1)		FROM  TB_RDFOLDER A		WHERE A.record_center_id = '1'		;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\srch\ConditionalSrch.xml
-- Query    : select
-- Query Id : findDetailsClssNoFolderPagedList

		SELECT E.record_center_id			, E.org_cd			, E.folder_id						, E.title			, E.creat_yyyy			, (SELECT Z.org_nm FROM TB_STORG Z WHERE Z.record_center_id=E.record_center_id AND Z.org_cd=E.org_cd) org_nm			, (SELECT Z.org_abbr_nm FROM TB_STORG Z WHERE Z.record_center_id=E.record_center_id AND Z.org_cd=E.org_cd) org_abbr_nm			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD07' AND Z.com_cd=E.presv_term_cd) presv_term_nm			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD17' AND Z.com_cd=E.creat_sys_cd) creat_sys_nm			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD23' AND Z.com_cd=E.erecord_flag) erecord_flag_nm			, (SELECT Z.agent_nm FROM TB_RDFOLDERCREAT Z			    WHERE Z.record_center_id=E.record_center_id			    AND   Z.folder_id=E.folder_id			    AND   Z.agent_sno=(SELECT MAX(Y.agent_sno) FROM TB_RDFOLDERCREAT Y WHERE Y.record_center_id=E.record_center_id AND Y.folder_id=E.folder_id)) agent_nm			, E.folder_keep_state_cd			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD32' AND Z.com_cd=E.folder_keep_state_cd) folder_keep_state_nm			, E.creat_sys_cd			, (CASE WHEN (SELECT COUNT(1) FROM TB_RDRECORD Z WHERE Z.record_center_id=E.record_center_id AND Z.folder_id=E.folder_id AND Z.oper_read_range_cd IN ('02','03')) > 0 THEN '02' ELSE '01' END) AS oper_read_range_cd		    , (CASE WHEN (SELECT COUNT(1) FROM TB_RDRECORD Z WHERE Z.record_center_id=E.record_center_id AND Z.folder_id=E.folder_id AND Z.oper_read_range_cd IN ('02','03')) > 0 THEN '열람제한' ELSE '열람가능' END) AS oper_read_range_nm		    , (CASE WHEN '3'='1' AND E.record_center_id = (SELECT Z.record_center_id FROM TB_STUSER Z WHERE Z.USER_ID = '1') THEN 1		    		WHEN E.oper_read_range_cd='01' THEN 1 					WHEN (E.oper_read_range_cd='02' AND E.cur_keep_org_cd='1') THEN 1					 		            WHEN (SELECT COUNT(1) FROM TB_RDFOLDERACCS Z WHERE Z.record_center_id=E.record_center_id AND Z.folder_id=E.folder_id AND Z.accs_type_cd='2' AND Z.accs_dept_cd='1') > 0 THEN 1 		            WHEN (SELECT COUNT(1) FROM TB_RDFOLDERACCS Z WHERE Z.record_center_id=E.record_center_id AND Z.folder_id=E.folder_id AND Z.accs_type_cd='1' AND Z.accs_user_id='1') > 0 THEN 1		            WHEN (SELECT COUNT(1) FROM TB_RDFOLDERREADDETL Z WHERE Z.record_center_id=E.record_center_id AND Z.folder_id=E.folder_id AND Z.read_aprov_cd='2' AND EXISTS (SELECT 1 FROM TB_RDREADREQ Y WHERE Y.record_center_id=Z.record_center_id AND Y.read_reqno=Z.read_reqno AND TO_CHAR(SYSDATE,'YYYYMMDD') BETWEEN Y.read_start_ymd AND Y.read_close_ymd)) > 0 THEN 1		            ELSE 0		       END) accs_flag		    , E.efile_del_flag			, E.creat_sys_cd||'-'||E.org_cd||'-'||E.clss_id||'-'||E.creat_yyyy||'-'||E.folder_reg_seq AS folder_key			, E.ho_no			, (SELECT COUNT(1) FROM TB_RDFOLDER F WHERE F.creat_sys_cd=E.creat_sys_cd AND F.org_cd=E.org_cd AND F.clss_id=E.clss_id AND F.creat_yyyy=E.creat_yyyy AND F.folder_reg_seq=E.folder_reg_seq) AS ho_no_cnt		FROM (			SELECT D.*			FROM (				SELECT ROWNUM AS rnum					, C.*				FROM (					SELECT 						  A.record_center_id						, A.folder_id						, A.creat_sys_cd						, A.org_cd						, A.cur_keep_org_cd						, A.clss_div_cd						, A.clss_id						, A.clss_nm						, A.new_clss_id						, A.new_clss_nm						, A.creat_yyyy						, A.title						, A.presv_term_cd						, A.erecord_flag						, A.folder_keep_state_cd						, A.oper_read_range_cd						, A.efile_del_flag						, A.folder_reg_seq						, A.ho_no					FROM  TB_RDFOLDER A					WHERE A.record_center_id = '1'   								ORDER BY A.record_center_id, A.creat_yyyy DESC, A.title DESC							   				) C				WHERE ROWNUM <= '1'			) D			WHERE D.rnum >= '1'		) E		ORDER BY E.rnum	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\srch\ConditionalSrch.xml
-- Query    : select
-- Query Id : countDetailsClssNoFolderPagedList_union

		SELECT COUNT(1)		FROM (			(				SELECT A.folder_id				FROM  TB_RDFOLDER A				WHERE A.record_center_id = '1'							)			UNION ALL			(				SELECT A.folder_id				FROM  TB_NKFOLDER A				WHERE A.record_center_id = '1'			)		);


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\srch\ConditionalSrch.xml
-- Query    : select
-- Query Id : findDetailsClssNoFolderPagedList_union

		SELECT E.record_center_id			, E.org_cd			, E.folder_id						, E.title			, E.creat_yyyy			, (SELECT Z.org_nm FROM TB_STORG Z WHERE Z.record_center_id=E.record_center_id AND Z.org_cd=E.org_cd) org_nm			, (SELECT Z.org_abbr_nm FROM TB_STORG Z WHERE Z.record_center_id=E.record_center_id AND Z.org_cd=E.org_cd) org_abbr_nm			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD07' AND Z.com_cd=E.presv_term_cd) presv_term_nm			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD17' AND Z.com_cd=E.creat_sys_cd) creat_sys_nm			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD23' AND Z.com_cd=E.erecord_flag) erecord_flag_nm			, (SELECT Z.agent_nm FROM TB_RDFOLDERCREAT Z			    WHERE Z.record_center_id=E.record_center_id			    AND   Z.folder_id=E.folder_id			    AND   Z.agent_sno=(SELECT MAX(Y.agent_sno) FROM TB_RDFOLDERCREAT Y WHERE Y.record_center_id=E.record_center_id AND Y.folder_id=E.folder_id)) agent_nm			, E.folder_keep_state_cd			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD32' AND Z.com_cd=E.folder_keep_state_cd) folder_keep_state_nm			, E.creat_sys_cd			, (CASE WHEN (SELECT COUNT(1) FROM TB_RDRECORD Z WHERE Z.record_center_id=E.record_center_id AND Z.folder_id=E.folder_id AND Z.oper_read_range_cd IN ('02','03')) > 0 THEN '02' ELSE '01' END) AS oper_read_range_cd		    , (CASE WHEN (SELECT COUNT(1) FROM TB_RDRECORD Z WHERE Z.record_center_id=E.record_center_id AND Z.folder_id=E.folder_id AND Z.oper_read_range_cd IN ('02','03')) > 0 THEN '열람제한' ELSE '열람가능' END) AS oper_read_range_nm		    , (CASE WHEN '3'='1' AND E.record_center_id = (SELECT Z.record_center_id FROM TB_STUSER Z WHERE Z.USER_ID = '1') THEN 1		    		WHEN E.oper_read_range_cd='01' THEN 1 					WHEN (E.oper_read_range_cd='02' AND E.cur_keep_org_cd='1') THEN 1					 		            WHEN (SELECT COUNT(1) FROM TB_RDFOLDERACCS Z WHERE Z.record_center_id=E.record_center_id AND Z.folder_id=E.folder_id AND Z.accs_type_cd='2' AND Z.accs_dept_cd='1') > 0 THEN 1 		            WHEN (SELECT COUNT(1) FROM TB_RDFOLDERACCS Z WHERE Z.record_center_id=E.record_center_id AND Z.folder_id=E.folder_id AND Z.accs_type_cd='1' AND Z.accs_user_id='1') > 0 THEN 1		            WHEN (SELECT COUNT(1) FROM TB_RDFOLDERREADDETL Z WHERE Z.record_center_id=E.record_center_id AND Z.folder_id=E.folder_id AND Z.read_aprov_cd='2' AND EXISTS (SELECT 1 FROM TB_RDREADREQ Y WHERE Y.record_center_id=Z.record_center_id AND Y.read_reqno=Z.read_reqno AND TO_CHAR(SYSDATE,'YYYYMMDD') BETWEEN Y.read_start_ymd AND Y.read_close_ymd)) > 0 THEN 1		            ELSE 0		       END) accs_flag		    , E.efile_del_flag			, E.creat_sys_cd||'-'||E.org_cd||'-'||E.clss_id||'-'||E.creat_yyyy||'-'||E.folder_reg_seq AS folder_key			, E.ho_no			, (SELECT COUNT(1) FROM TB_RDFOLDER F WHERE F.creat_sys_cd=E.creat_sys_cd AND F.org_cd=E.org_cd AND F.clss_id=E.clss_id AND F.creat_yyyy=E.creat_yyyy AND F.folder_reg_seq=E.folder_reg_seq) AS ho_no_cnt		FROM (			SELECT D.*			FROM (				SELECT ROWNUM AS rnum					, C.*				FROM (					(						SELECT							 							  A.record_center_id							, A.folder_id							, A.creat_sys_cd							, A.org_cd							, A.cur_keep_org_cd							, A.clss_div_cd							, A.clss_id							, A.clss_nm							, A.new_clss_id							, A.new_clss_nm							, A.creat_yyyy							, A.title							, A.presv_term_cd							, A.erecord_flag							, A.folder_keep_state_cd							, A.oper_read_range_cd							, A.efile_del_flag							, A.folder_reg_seq							, A.ho_no						FROM  TB_RDFOLDER A						WHERE A.record_center_id = '1'					)					UNION ALL					(						SELECT 							  A.record_center_id							, A.folder_id							, A.creat_sys_cd							, A.org_cd							, A.cur_keep_org_cd							, A.clss_div_cd							, A.clss_id							, A.clss_nm							, A.new_clss_id							, A.new_clss_nm							, A.creat_yyyy							, A.title							, A.presv_term_cd							, A.erecord_flag							, A.folder_keep_state_cd							, A.oper_read_range_cd							, A.efile_del_flag							, A.folder_reg_seq							, A.ho_no						FROM  TB_NKFOLDER A						WHERE A.record_center_id = '1'					)					  							ORDER BY record_center_id, creat_yyyy DESC, title DESC						  				) C				WHERE ROWNUM <= '1'			) D			WHERE D.rnum >= '1'		) E		ORDER BY E.rnum	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\srch\ConditionalSrch.xml
-- Query    : select
-- Query Id : countDetailsRegNoRecordPagedList

		SELECT COUNT(1)		FROM (			SELECT 	B.*					, (SELECT cur_keep_org_cd      FROM TB_RDFOLDER Z WHERE B.record_center_id = Z.record_center_id AND B.folder_id = Z.folder_id) AS folder_cur_keep_org_cd					, (SELECT folder_keep_state_cd FROM TB_RDFOLDER Z WHERE B.record_center_id = Z.record_center_id AND B.folder_id = Z.folder_id) AS folder_keep_state_cd					, (SELECT oper_read_range_cd   FROM TB_RDFOLDER Z WHERE B.record_center_id = Z.record_center_id AND B.folder_id = Z.folder_id) AS folder_read_range_cd			FROM TB_RDRECORD  B		) A		WHERE A.record_center_id = '1'		;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\srch\ConditionalSrch.xml
-- Query    : select
-- Query Id : findDetailsRegNoRecordPagedList

		SELECT E.record_center_id			, E.folder_org_cd			, E.record_org_cd			, E.folder_id			, E.record_id			, E.folder_title			, E.title			, (SELECT Z.org_nm FROM TB_STORG Z WHERE Z.record_center_id=E.record_center_id AND Z.org_cd=E.record_org_cd) org_nm			, (SELECT Z.org_abbr_nm FROM TB_STORG Z WHERE Z.record_center_id=E.record_center_id AND Z.org_cd=E.record_org_cd) org_abbr_nm			, SUBSTR(E.creat_reg_dtime,0,8) creat_reg_dtime			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD03' AND Z.com_cd=E.record_detl_type_cd) record_detl_type_nm			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD05' AND Z.com_cd=E.open_div_cd) open_div_nm			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD23' AND Z.com_cd=E.erecord_flag) erecord_flag_nm			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD17' AND Z.com_cd=E.creat_sys_cd) creat_sys_nm			, (DECODE(SUBSTR(E.spcl_record_type,1,1),'N','','Y',(SELECT com_cd_nm FROM TB_ZZCOMCD WHERE com_type_cd='RD18' AND com_cd='1'))				||DECODE(SUBSTR(E.spcl_record_type,2,1),'N','','Y',(SELECT ','||com_cd_nm FROM TB_ZZCOMCD WHERE com_type_cd='RD18' AND com_cd='2'))				||DECODE(SUBSTR(E.spcl_record_type,3,1),'N','','Y',(SELECT ','||com_cd_nm FROM TB_ZZCOMCD WHERE com_type_cd='RD18' AND com_cd='3'))				||DECODE(SUBSTR(E.spcl_record_type,4,1),'N','','Y',(SELECT ','||com_cd_nm FROM TB_ZZCOMCD WHERE com_type_cd='RD18' AND com_cd='4'))				||DECODE(SUBSTR(E.spcl_record_type,5,1),'N','','Y',(SELECT ','||com_cd_nm FROM TB_ZZCOMCD WHERE com_type_cd='RD18' AND com_cd='5'))) SPCL_RECORD_TYPE_NM			, E.scan_fin_flag			, E.folder_keep_state_cd			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD32' AND Z.com_cd=E.folder_keep_state_cd) folder_keep_state_nm			, E.creat_sys_cd			, E.scan_prog_state_cd			, E.oper_read_range_cd			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD53' AND Z.com_cd=E.oper_read_range_cd) oper_read_range_nm			, E.folder_read_range_cd		    , (CASE WHEN '3'='1' AND E.record_center_id = (SELECT Z.record_center_id FROM TB_STUSER Z WHERE Z.USER_ID = '1') THEN 1					WHEN E.folder_read_range_cd='01' THEN 1					 					WHEN (E.folder_read_range_cd='02' AND E.folder_cur_keep_org_cd='1') THEN 1					 		            WHEN (SELECT COUNT(1) FROM TB_RDFOLDERACCS Z WHERE Z.record_center_id=E.record_center_id AND Z.folder_id=E.folder_id AND Z.accs_type_cd='2' AND Z.accs_dept_cd='1') > 0 THEN 1 		            WHEN (SELECT COUNT(1) FROM TB_RDFOLDERACCS Z WHERE Z.record_center_id=E.record_center_id AND Z.folder_id=E.folder_id AND Z.accs_type_cd='1' AND Z.accs_user_id='1') > 0 THEN 1		            ELSE 0		       END) folder_accs_flag		    , (CASE WHEN '1' = '3' AND E.record_center_id = (SELECT Z.record_center_id FROM TB_STUSER Z WHERE Z.USER_ID = '1') THEN 1					WHEN E.oper_read_range_cd='01' THEN 1 					WHEN (E.oper_read_range_cd='02' AND '1' = (SELECT B.CUR_KEEP_ORG_CD FROM TB_RDFOLDER B WHERE B.folder_id=E.folder_id AND B.record_center_id=E.record_center_id)) THEN 1					 		            WHEN (SELECT COUNT(1) FROM TB_RDRECORDACCS Z WHERE Z.record_center_id=E.record_center_id AND Z.record_id=E.record_id AND Z.accs_type_cd='2' AND Z.accs_dept_cd='1') > 0 THEN 1 		            WHEN (SELECT COUNT(1) FROM TB_RDRECORDACCS Z WHERE Z.record_center_id=E.record_center_id AND Z.record_id=E.record_id AND Z.accs_type_cd='1' AND Z.accs_user_id='1') > 0 THEN 1		            ELSE 0		       END) accs_flag		    , E.duty_chrgr_nm		    , E.efile_del_flag		    , E.prod_type_cd       		, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd = 'RD02' AND Z.com_cd = E.record_reg_div_cd) record_reg_div_nm       		, E.folder_key       		, E.ho_no       		, E.creat_yyyy, E.creat_reg_no, E.dtch_reg_no, E.creat_sys_record_id, E.record_detl_type_cd, E.doc_no       		, SUBSTR(E.creat_reg_no, 8, 6) creat_reg_no_sub		FROM (			SELECT D.*			FROM (				SELECT ROWNUM AS rnum					, C.*				FROM (						SELECT							 						      A.record_center_id							, A.org_cd AS record_org_cd							, A.folder_id							, A.record_id							, A.title							, A.creat_reg_dtime							, A.record_detl_type_cd							, A.open_div_cd							, A.erecord_flag							, A.creat_sys_cd							, A.creat_yyyy							, A.doc_no							, A.old_record_docno							, A.spcl_record_type							, A.scan_fin_flag							, A.oper_read_range_cd							, A.duty_chrgr_nm							, A.record_clss_cd							, A.record_reg_div_cd							, A.creat_reg_no							, A.dtch_reg_no							, A.creat_sys_record_id							, (CASE WHEN A.prod_type_cd is not null THEN A.prod_type_cd ELSE (CASE WHEN A.record_reg_div_cd IN ('1','3','5','6','7','8') THEN '0' ELSE '1' END) END) prod_type_cd							, Z.org_cd	AS folder_org_cd							, Z.cur_keep_org_cd AS folder_cur_keep_org_cd							, Z.title	AS folder_title							, Z.oper_read_range_cd   	AS folder_read_range_cd							, Z.clss_id					AS clss_id							, Z.new_clss_id				AS new_clss_id							, Z.scan_prog_state_cd		AS scan_prog_state_cd							, Z.folder_keep_state_cd 	AS folder_keep_state_cd							, Z.efile_del_flag							, Z.creat_sys_cd||'-'||Z.org_cd||'-'||Z.clss_id||'-'||Z.creat_yyyy||'-'||Z.folder_reg_seq AS folder_key							, Z.ho_no						FROM TB_RDRECORD A , TB_RDFOLDER Z					   WHERE Z.record_center_id=A.record_center_id 					     AND Z.folder_id=A.folder_id 					     AND A.record_center_id = '1'   								ORDER BY A.record_center_id, A.creat_reg_dtime DESC, A.creat_reg_no DESC							   									) C				WHERE ROWNUM <= '1'			) D			WHERE D.rnum >= '1'		) E		ORDER BY E.rnum	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\srch\ConditionalSrch.xml
-- Query    : select
-- Query Id : countDetailsRegNoRecordPagedList_union

		SELECT COUNT(1)		FROM (			(				SELECT A.record_id				FROM (					SELECT 	B.*							, (SELECT cur_keep_org_cd      FROM TB_RDFOLDER Z WHERE B.record_center_id = Z.record_center_id AND B.folder_id = Z.folder_id) AS folder_cur_keep_org_cd							, (SELECT folder_keep_state_cd FROM TB_RDFOLDER Z WHERE B.record_center_id = Z.record_center_id AND B.folder_id = Z.folder_id) AS folder_keep_state_cd							, (SELECT oper_read_range_cd   FROM TB_RDFOLDER Z WHERE B.record_center_id = Z.record_center_id AND B.folder_id = Z.folder_id) AS folder_read_range_cd					FROM TB_RDRECORD  B				) A				WHERE A.record_center_id = '1'			)			UNION ALL			(				SELECT A.record_id				FROM (					SELECT 	B.*							, (SELECT cur_keep_org_cd      FROM TB_NKFOLDER Z WHERE B.record_center_id = Z.record_center_id AND B.folder_id = Z.folder_id) AS folder_cur_keep_org_cd							, (SELECT folder_keep_state_cd FROM TB_NKFOLDER Z WHERE B.record_center_id = Z.record_center_id AND B.folder_id = Z.folder_id) AS folder_keep_state_cd							, (SELECT oper_read_range_cd   FROM TB_NKFOLDER Z WHERE B.record_center_id = Z.record_center_id AND B.folder_id = Z.folder_id) AS folder_read_range_cd					FROM TB_NKRECORD  B				) A				WHERE A.record_center_id = '1'			)		);


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\srch\ConditionalSrch.xml
-- Query    : select
-- Query Id : findDetailsRegNoRecordPagedList_union

		SELECT E.record_center_id			, E.folder_org_cd			, E.record_org_cd			, E.folder_id			, E.record_id			, E.folder_title			, E.title			, (SELECT Z.org_nm FROM TB_STORG Z WHERE Z.record_center_id=E.record_center_id AND Z.org_cd=E.record_org_cd) org_nm			, (SELECT Z.org_abbr_nm FROM TB_STORG Z WHERE Z.record_center_id=E.record_center_id AND Z.org_cd=E.record_org_cd) org_abbr_nm			, SUBSTR(E.creat_reg_dtime,0,8) creat_reg_dtime			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD03' AND Z.com_cd=E.record_detl_type_cd) record_detl_type_nm			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD05' AND Z.com_cd=E.open_div_cd) open_div_nm			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD23' AND Z.com_cd=E.erecord_flag) erecord_flag_nm			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD17' AND Z.com_cd=E.creat_sys_cd) creat_sys_nm			, (DECODE(SUBSTR(E.spcl_record_type,1,1),'N','','Y',(SELECT com_cd_nm FROM TB_ZZCOMCD WHERE com_type_cd='RD18' AND com_cd='1'))				||DECODE(SUBSTR(E.spcl_record_type,2,1),'N','','Y',(SELECT ','||com_cd_nm FROM TB_ZZCOMCD WHERE com_type_cd='RD18' AND com_cd='2'))				||DECODE(SUBSTR(E.spcl_record_type,3,1),'N','','Y',(SELECT ','||com_cd_nm FROM TB_ZZCOMCD WHERE com_type_cd='RD18' AND com_cd='3'))				||DECODE(SUBSTR(E.spcl_record_type,4,1),'N','','Y',(SELECT ','||com_cd_nm FROM TB_ZZCOMCD WHERE com_type_cd='RD18' AND com_cd='4'))				||DECODE(SUBSTR(E.spcl_record_type,5,1),'N','','Y',(SELECT ','||com_cd_nm FROM TB_ZZCOMCD WHERE com_type_cd='RD18' AND com_cd='5'))) SPCL_RECORD_TYPE_NM			, E.scan_fin_flag			, E.folder_keep_state_cd			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD32' AND Z.com_cd=E.folder_keep_state_cd) folder_keep_state_nm			, E.creat_sys_cd			, E.scan_prog_state_cd			, E.oper_read_range_cd			, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd='RD53' AND Z.com_cd=E.oper_read_range_cd) oper_read_range_nm			, E.folder_read_range_cd		    , (CASE WHEN '3'='1' AND E.record_center_id = (SELECT Z.record_center_id FROM TB_STUSER Z WHERE Z.USER_ID = '1') THEN 1					WHEN E.folder_read_range_cd='01' THEN 1					 					WHEN (E.folder_read_range_cd='02' AND E.folder_cur_keep_org_cd='1') THEN 1					 		            WHEN (SELECT COUNT(1) FROM TB_RDFOLDERACCS Z WHERE Z.record_center_id=E.record_center_id AND Z.folder_id=E.folder_id AND Z.accs_type_cd='2' AND Z.accs_dept_cd='1') > 0 THEN 1 		            WHEN (SELECT COUNT(1) FROM TB_RDFOLDERACCS Z WHERE Z.record_center_id=E.record_center_id AND Z.folder_id=E.folder_id AND Z.accs_type_cd='1' AND Z.accs_user_id='1') > 0 THEN 1		            ELSE 0		       END) folder_accs_flag		    , (CASE WHEN '1' = '3' AND E.record_center_id = (SELECT Z.record_center_id FROM TB_STUSER Z WHERE Z.USER_ID = '1') THEN 1					WHEN E.oper_read_range_cd='01' THEN 1 					WHEN (E.oper_read_range_cd='02' AND '1' = (SELECT B.CUR_KEEP_ORG_CD FROM TB_RDFOLDER B WHERE B.folder_id=E.folder_id AND B.record_center_id=E.record_center_id)) THEN 1					 		            WHEN (SELECT COUNT(1) FROM TB_RDRECORDACCS Z WHERE Z.record_center_id=E.record_center_id AND Z.record_id=E.record_id AND Z.accs_type_cd='2' AND Z.accs_dept_cd='1') > 0 THEN 1 		            WHEN (SELECT COUNT(1) FROM TB_RDRECORDACCS Z WHERE Z.record_center_id=E.record_center_id AND Z.record_id=E.record_id AND Z.accs_type_cd='1' AND Z.accs_user_id='1') > 0 THEN 1		            ELSE 0		       END) accs_flag		    , E.duty_chrgr_nm		    , E.efile_del_flag		    , E.prod_type_cd       		, (SELECT Z.com_cd_nm FROM TB_ZZCOMCD Z WHERE Z.com_type_cd = 'RD02' AND Z.com_cd = E.record_reg_div_cd) record_reg_div_nm       		, E.folder_key       		, E.ho_no       		, E.creat_yyyy, E.creat_reg_no, E.dtch_reg_no, E.creat_sys_record_id, E.record_detl_type_cd, E.doc_no       		, SUBSTR(E.creat_reg_no, 8, 6) creat_reg_no_sub		FROM (			SELECT D.*			FROM (				SELECT ROWNUM AS rnum					, C.*				FROM (					(						SELECT 						      A.record_center_id							, A.org_cd AS record_org_cd							, A.folder_id							, A.record_id							, A.title							, A.creat_reg_dtime							, A.record_detl_type_cd							, A.open_div_cd							, A.erecord_flag							, A.creat_sys_cd							, A.creat_yyyy							, A.doc_no							, A.old_record_docno							, A.spcl_record_type							, A.scan_fin_flag							, A.oper_read_range_cd							, A.duty_chrgr_nm							, A.record_clss_cd							, A.record_reg_div_cd							, A.creat_reg_no							, A.dtch_reg_no							, A.creat_sys_record_id							, (CASE WHEN A.prod_type_cd is not null THEN A.prod_type_cd ELSE (CASE WHEN A.record_reg_div_cd IN ('1','3','5','6','7','8') THEN '0' ELSE '1' END) END) prod_type_cd							, Z.org_cd	AS folder_org_cd							, Z.cur_keep_org_cd AS folder_cur_keep_org_cd							, Z.title	AS folder_title							, Z.oper_read_range_cd   	AS folder_read_range_cd							, Z.clss_id					AS clss_id							, Z.new_clss_id				AS new_clss_id							, Z.scan_prog_state_cd		AS scan_prog_state_cd							, Z.folder_keep_state_cd 	AS folder_keep_state_cd							, Z.efile_del_flag							, Z.creat_sys_cd||'-'||Z.org_cd||'-'||Z.clss_id||'-'||Z.creat_yyyy||'-'||Z.folder_reg_seq AS folder_key							, Z.ho_no						FROM TB_RDRECORD A , TB_RDFOLDER Z					   WHERE Z.record_center_id=A.record_center_id 					     AND Z.folder_id=A.folder_id 					     AND A.record_center_id = '1'					)					UNION ALL					(						SELECT 						      A.record_center_id							, A.org_cd AS record_org_cd							, A.folder_id							, A.record_id							, A.title							, A.creat_reg_dtime							, A.record_detl_type_cd							, A.open_div_cd							, A.erecord_flag							, A.creat_sys_cd							, A.creat_yyyy							, A.doc_no							, A.old_record_docno							, A.spcl_record_type							, '' AS scan_fin_flag							, A.oper_read_range_cd							, A.duty_chrgr_nm							, A.record_clss_cd							, A.record_reg_div_cd							, A.creat_reg_no							, A.dtch_reg_no							, A.creat_sys_record_id							, (CASE WHEN A.prod_type_cd is not null THEN A.prod_type_cd ELSE (CASE WHEN A.record_reg_div_cd IN ('1','3','5','6','7','8') THEN '0' ELSE '1' END) END) prod_type_cd							, Z.org_cd	AS folder_org_cd							, Z.cur_keep_org_cd AS folder_cur_keep_org_cd							, Z.title	AS folder_title							, Z.oper_read_range_cd   	AS folder_read_range_cd							, Z.clss_id					AS clss_id							, Z.new_clss_id				AS new_clss_id							, Z.scan_prog_state_cd		AS scan_prog_state_cd							, Z.folder_keep_state_cd 	AS folder_keep_state_cd							, Z.efile_del_flag							, Z.creat_sys_cd||'-'||Z.org_cd||'-'||Z.clss_id||'-'||Z.creat_yyyy||'-'||Z.folder_reg_seq AS folder_key							, Z.ho_no						FROM TB_NKRECORD A , TB_NKFOLDER Z					   WHERE Z.record_center_id=A.record_center_id 					     AND Z.folder_id=A.folder_id 					     AND A.record_center_id = '1'					)					  							ORDER BY record_center_id, creat_reg_dtime DESC, creat_reg_no DESC						  				) C				WHERE ROWNUM <= '1'			) D			WHERE D.rnum >= '1'		) E		ORDER BY E.rnum	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\srch\ConditionalSrch.xml
-- Query    : select
-- Query Id : countReadReqFolderList

		SELECT COUNT(1) FROM TB_ZZREQLISTTEMP		WHERE record_center_id = '1'		AND   user_id = '1'		AND   trgt_id = '1'		AND   remk = 'READFOLDER'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\srch\ConditionalSrch.xml
-- Query    : insert
-- Query Id : createReadReqFolderList

		INSERT INTO TB_ZZREQLISTTEMP		(			record_center_id, user_id, trgt_id, remk, reg_dtime		)		VALUES		(			'1', '1', '1', 'READFOLDER'						, TO_CHAR(sys_datetime, 'YYYYMMDDHH24MISS')		);


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\srch\ConditionalSrch.xml
-- Query    : update
-- Query Id : updateReadReqFolderList

		UPDATE TB_ZZREQLISTTEMP				SET   reg_dtime = TO_CHAR(sys_datetime, 'YYYYMMDDHH24MISS')		WHERE record_center_id = '1'		AND   user_id = '1'		AND   trgt_id = '1'		AND   remk = 'READFOLDER'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\srch\ConditionalSrch.xml
-- Query    : select
-- Query Id : countReadReqRecordList

		SELECT COUNT(1) FROM TB_ZZREQLISTTEMP		WHERE record_center_id = '1'		AND   user_id = '1'		AND   trgt_id = '1'		AND   remk = 'READRECORD'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\srch\ConditionalSrch.xml
-- Query    : insert
-- Query Id : createReadReqRecordList

		INSERT INTO TB_ZZREQLISTTEMP		(			record_center_id, user_id, trgt_id, remk, reg_dtime		)		VALUES		(			'1', '1', '1', 'READRECORD'						, TO_CHAR(sys_datetime, 'YYYYMMDDHH24MISS')		);


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\srch\ConditionalSrch.xml
-- Query    : update
-- Query Id : updateReadReqRecordList

		UPDATE TB_ZZREQLISTTEMP				SET   reg_dtime = TO_CHAR(sys_datetime, 'YYYYMMDDHH24MISS')		WHERE record_center_id = '1'		AND   user_id = '1'		AND   trgt_id = '1'		AND   remk = 'READRECORD'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\srch\ConditionalSrch.xml
-- Query    : select
-- Query Id : checkReadReqFolderState

		SELECT TITLE				FROM   TB_RDFOLDER		WHERE  FOLDER_ID IN (								SELECT TRGT_ID FOLDER_ID								FROM   TB_ZZREQLISTTEMP 								WHERE  USER_ID = '1'								AND    REMK = 'READFOLDER' 								UNION ALL								SELECT FOLDER_ID								FROM   TB_RDFOLDERACCS								WHERE  ((ACCS_USER_ID = '1' AND ACCS_TYPE_CD = '1') OR (ACCS_DEPT_CD = '1' AND ACCS_TYPE_CD = '2'))								UNION ALL                                SELECT A.FOLDER_ID                                FROM TB_RDFOLDERREADDETL A,TB_RDREADREQ B                                WHERE  A.KEEP_RECORD_CENTER_ID = '1'                                AND A.READ_APROV_CD = '2'                                AND A.READ_REQ_PROG_STATE_CD = '3'                                AND A.RECORD_CENTER_ID = B.RECORD_CENTER_ID                                AND A.READ_REQNO = B.READ_REQNO                                AND B.READ_REQ_DIV_CD = '1'                                AND B.READ_USER_ID = '1'                                AND TO_CHAR(SYSDATE,'YYYYMMDD') BETWEEN B.READ_START_YMD AND B.READ_CLOSE_YMD                                UNION ALL                                SELECT A.FOLDER_ID                                FROM TB_RDFOLDERREADDETL A,TB_RDREADREQ B                                WHERE  A.KEEP_RECORD_CENTER_ID = '1'                                AND A.READ_APROV_CD = '1'                                AND A.READ_REQ_PROG_STATE_CD = '1'                                AND A.RECORD_CENTER_ID = B.RECORD_CENTER_ID                                AND A.READ_REQNO = B.READ_REQNO                                AND B.READ_REQ_DIV_CD = '1'                                								AND TO_CHAR(SYSDATE,'YYYYMMDD') >= B.READ_START_YMD										                                                                AND B.READ_USER_ID = '1'							)		AND    FOLDER_KEEP_STATE_CD IN ('01', '04')        AND	   RECORD_CENTER_ID = '1'        AND FOLDER_ID = '1';


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\srch\ConditionalSrch.xml
-- Query    : select
-- Query Id : checkReadReqRecordState

		SELECT TITLE				FROM   TB_RDRECORD		WHERE  RECORD_ID IN (								SELECT TRGT_ID RECORD_ID								FROM   TB_ZZREQLISTTEMP 								WHERE  USER_ID = '1'								AND    REMK = 'READRECORD' 								UNION ALL								SELECT RECORD_ID								FROM   TB_RDRECORDACCS								WHERE  ((ACCS_USER_ID = '1' AND ACCS_TYPE_CD = '1') OR (ACCS_DEPT_CD = '1' AND ACCS_TYPE_CD = '2'))								UNION ALL								SELECT A.RECORD_ID								FROM TB_RDRECORDREADDETL A,TB_RDREADREQ B								WHERE  A.KEEP_RECORD_CENTER_ID = '1'								AND A.READ_APROV_CD = '2'								AND A.READ_REQ_PROG_STATE_CD = '3'								AND A.RECORD_CENTER_ID = B.RECORD_CENTER_ID								AND A.READ_REQNO = B.READ_REQNO								AND B.READ_REQ_DIV_CD = '2'								AND B.READ_USER_ID = '1'								AND TO_CHAR(SYSDATE,'YYYYMMDD') BETWEEN B.READ_START_YMD AND B.READ_CLOSE_YMD								UNION ALL								SELECT A.RECORD_ID								FROM TB_RDRECORDREADDETL A,TB_RDREADREQ B								WHERE  A.KEEP_RECORD_CENTER_ID = '1'								AND A.READ_APROV_CD = '1'								AND A.READ_REQ_PROG_STATE_CD = '1'								AND A.RECORD_CENTER_ID = B.RECORD_CENTER_ID								AND A.READ_REQNO = B.READ_REQNO								AND B.READ_REQ_DIV_CD = '2'                								AND B.READ_USER_ID = '1'								AND TO_CHAR(SYSDATE,'YYYYMMDD') >= B.READ_START_YMD										  							)		        AND	   RECORD_CENTER_ID = '1'        AND RECORD_ID = '1';


-- File Close : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\srch\srch\ConditionalSrch.xml
