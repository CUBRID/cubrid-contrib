-- File Open : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : select
-- Query Id : findRegTakeRegFolder

		SELECT A.record_center_id		     , A.folder_take_seq		     , A.title		     , A.sub_title		     , A.clss_div_cd		     , A.clss_id		     , A.clss_nm		     , A.creat_yyyy		     , A.folder_type_div_cd		     , A.sumry		     , A.org_cd		     , B.org_nm		     , A.take_org_cd		     , A.old_folder_creat_org_nm		     , A.old_folder_clss_no		     , A.group_presv_term_cd		     , A.presv_term_cd		     , A.presv_term_fix_rsn		     , A.oper_read_range_cd		     , A.read_cnt		     , A.creat_user_id		     , A.creat_user_nm		     , A.creat_user_org_cd		     , (SELECT B.org_nm						   FROM TB_STORG B						   WHERE B.record_center_id = '1'						   AND   B.org_cd=A.creat_user_org_cd) creat_user_org_nm		     , A.creat_user_pos_rank_nm		     , SUBSTR(A.creat_dtime,0,8) creat_dtime		     , A.ho_no		FROM  TB_TKFOLDER A		    , TB_STORG B		WHERE A.record_center_id = '1'		AND   A.folder_take_seq = '1'		AND   A.record_center_id = B.record_center_id		AND   A.org_cd = B.org_cd;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : select
-- Query Id : findRegTakeRegFolderPagedList

		SELECT C.*	    FROM (	        SELECT ROWNUM AS rnum	            , B.*	        FROM (				SELECT A.record_center_id				    , A.folder_take_seq				    , A.org_cd					, (SELECT B.org_nm					   FROM TB_STORG B					   WHERE B.record_center_id = '1'					   AND   B.org_cd=A.org_cd) org_nm					, (SELECT B.org_abbr_nm					   FROM TB_STORG B					   WHERE B.record_center_id = '1'					   AND   B.org_cd=A.org_cd) org_abbr_nm					, A.creat_user_org_cd					, (SELECT B.org_nm					   FROM TB_STORG B					   WHERE B.record_center_id = '1'					   AND   B.org_cd=A.creat_user_org_cd) creat_user_org_nm					, (SELECT B.org_abbr_nm					   FROM TB_STORG B					   WHERE B.record_center_id = '1'					   AND   B.org_cd=A.creat_user_org_cd) creat_user_org_abbr_nm					, A.clss_id					, A.clss_nm					, (CASE WHEN (A.ho_No != '1' AND (select count(*)                          from tb_tkfolder e                         where e.record_center_id = a.record_center_id                           and e.creat_sys_cd = a.creat_sys_cd                           and e.org_cd = a.org_cd                           and e.clss_id = a.clss_id                           and e.creat_yyyy = a.creat_yyyy                           and e.folder_reg_seq = a.folder_reg_seq) != '1')                            THEN A.title || ' (' || A.ho_No || ')'                            ELSE A.title                       END) AS title					, A.creat_yyyy					, A.presv_term_cd					, (SELECT C.com_cd_nm					   FROM TB_ZZCOMCD C					   WHERE C.com_type_cd = 'RD07'					   AND C.com_cd=DECODE(A.presv_term_cd, '20', '25', A.presv_term_cd)) presv_term_nm					, TO_CHAR(TO_NUMBER(NVL(A.record_reg_cnt,'0'))) record_reg_cnt					, A.exam_rslt_cd					, DECODE(A.exam_rslt_cd,'2','검수오류',DECODE(A.reg_fin_flag,'1','등록완료','등록중')) exam_rslt_nm					, A.ho_no					, (select count(*)                            from tb_tkfolder e                            where e.record_center_id = a.record_center_id                            and e.creat_sys_cd = a.creat_sys_cd                            and e.org_cd = a.org_cd                            and e.clss_id = a.clss_id                            and e.creat_yyyy = a.creat_yyyy                            and e.folder_reg_seq = a.folder_reg_seq                            ) as ho_no_cnt                    , (SELECT COUNT(1)                        FROM TB_TKRECORD B                        WHERE B.record_center_id = A.record_center_id                        AND B.folder_take_seq = A.folder_take_seq) record_count                    				FROM TB_TKFOLDER A				WHERE A.record_center_id = '1'				AND   A.creat_sys_cd = '03' 				AND   A.take_fin_flag = '0'				AND   A.exam_rslt_cd IN ('0', '2') AND 		            A.creat_user_org_cd = '1'		          AND 					A.reg_dtime BETWEEN NVL('1','00010101')||'000000' AND NVL('1','99991231')||'240000'				  AND 		            A.org_cd = '1'		          AND 					A.creat_yyyy BETWEEN NVL('1','0001') AND NVL('1','9999')				  AND 				    (A.clss_div_cd = '1' AND A.clss_id = '1')				  AND 					(A.title LIKE '1' OR A.sub_title LIKE '1')				  					ORDER BY A.record_center_id, A.reg_dtime DESC				 			) B	        WHERE ROWNUM <= '1'	    ) C	    WHERE C.rnum >= '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : select
-- Query Id : countRegTakeRegFolderPagedList

		SELECT COUNT(1)		FROM TB_TKFOLDER A		WHERE A.record_center_id = '1'		AND   A.creat_sys_cd = '03'		AND   A.take_fin_flag = '0'		AND   A.exam_rslt_cd IN ('0', '2') AND             A.creat_user_org_cd = '1'          AND 			A.reg_dtime BETWEEN NVL('1','00010101')||'000000' AND NVL('1','99991231')||'240000'		  AND             A.org_cd = '1'          AND 			A.creat_yyyy BETWEEN NVL('1','0001') AND NVL('1','9999')		  AND 		    (A.clss_div_cd = '1' AND A.clss_id = '1')		  AND             A.presv_term_cd = '1'          AND 			(A.title LIKE '1' OR A.sub_title LIKE '1')		 ;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : select
-- Query Id : findRegTakeRegFolderTakeSeq

		SELECT TO_CHAR(SYSDATE,'YYYY')||LPAD((TB_TKFOLDER_SQ01.nextval), 15, '0') FROM DUAL	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : insert
-- Query Id : createRegTakeRegFolder

		INSERT INTO TB_TKFOLDER		(			record_center_id, folder_take_seq, creat_sys_cd, take_org_cd, clss_div_cd			, clss_id, creat_yyyy, folder_reg_seq, ho_no, take_yyyy			, take_sno, clss_nm, title, sub_title, folder_type_div_cd			, folder_detl_type_cd, sumry, folder_size, record_tot_page_cnt, record_reg_cnt			, efile_cnt, old_folder_creat_org_nm, old_folder_clss_no, presv_term_cd, presv_term_fix_rsn			, oper_read_range_cd, read_cnt, new_div_cd, presv_method_cd, presv_area_cd			, creat_user_id, creat_user_nm, creat_user_org_cd, creat_user_org_nm, creat_user_pos_rank_nm			, creat_dtime, reg_dtime, org_cd, group_presv_term_cd, error_flag			, exam_rslt_cd, rjct_flag, take_fin_flag, take_type_cd, folder_start_dtime			, folder_close_dtime, virus_flag, erecord_flag		)		VALUES		(			'1', '1', '1', '1', '1'			, '1', '1', '1', '1', TO_CHAR(SYSDATE,'YYYY')			, '1', (SELECT bis_clss_nm FROM TB_ZZBISCLSS WHERE bis_clss_id = '1' UNION SELECT UNIT_NM FROM TB_ZZUNIT WHERE RECORD_CENTER_ID='1' AND UNIT_CD = '1' )			, '1', '1', '1'			, '1', '1', '1', '1', '1'			, '1', '1', '1', '1', '1'			, '1', '1', '1', '1', '1'			, '1', '1', '1', '1', '1'			                        , '1'||'090000', TO_CHAR(sys_datetime,'YYYYMMDDHH24MISS'), '1', '1', '1'			, '1', '1', '1', '1', '1'||'0101000000'			, '1'||'1231000000', '1', '1'		);


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : insert
-- Query Id : createRegTakeHonoAddFolder

		INSERT INTO TB_TKFOLDER		(			record_center_id, folder_take_seq, creat_sys_cd, take_org_cd, clss_div_cd			, clss_id, creat_yyyy, folder_reg_seq, ho_no, take_yyyy			, take_sno, clss_nm, title, sub_title, folder_type_div_cd			, folder_detl_type_cd, sumry, folder_size, record_tot_page_cnt, record_reg_cnt			, efile_cnt, old_folder_creat_org_nm, old_folder_clss_no, presv_term_cd, presv_term_fix_rsn			, oper_read_range_cd, read_cnt, new_div_cd, presv_method_cd, presv_area_cd			, creat_user_id, creat_user_nm, creat_user_org_cd, creat_user_org_nm, creat_user_pos_rank_nm			, creat_dtime, reg_dtime, org_cd, group_presv_term_cd, error_flag			, exam_rslt_cd, rjct_flag, take_fin_flag, take_type_cd, folder_start_dtime			, folder_close_dtime, virus_flag, erecord_flag		)		SELECT record_center_id, '1', creat_sys_cd, take_org_cd, clss_div_cd			, clss_id, creat_yyyy, folder_reg_seq, 			(	SELECT LPAD(MAX(HO_NO)+1, 3, '0') 				FROM TB_TKFOLDER 				WHERE RECORD_CENTER_ID||ORG_CD||CLSS_ID||CREAT_YYYY||FOLDER_REG_SEQ IN (					SELECT RECORD_CENTER_ID||ORG_CD||CLSS_ID||CREAT_YYYY||FOLDER_REG_SEQ 					FROM TB_TKFOLDER  					WHERE FOLDER_TAKE_SEQ = '1' )			)			, take_yyyy			, take_sno, clss_nm, title, sub_title, folder_type_div_cd			, folder_detl_type_cd, sumry, '0', '0', '0'			, '0', old_folder_creat_org_nm, old_folder_clss_no, presv_term_cd, presv_term_fix_rsn			, oper_read_range_cd, read_cnt, new_div_cd, presv_method_cd, presv_area_cd			, creat_user_id, creat_user_nm, creat_user_org_cd, creat_user_org_nm, creat_user_pos_rank_nm			                        , creat_dtime, TO_CHAR(sys_datetime,'YYYYMMDDHH24MISS'), org_cd, group_presv_term_cd, error_flag			, exam_rslt_cd, rjct_flag, take_fin_flag, take_type_cd, folder_start_dtime			, folder_close_dtime, virus_flag, erecord_flag			FROM TB_TKFOLDER 			WHERE FOLDER_TAKE_SEQ = '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : insert
-- Query Id : createRegTakeRegFolderCreat

		INSERT INTO TB_TKFOLDERCREAT		(			record_center_id			, folder_take_seq			, agent_sno			, agent_type_cd			, agent_id			, agent_nm			, agent_org_cd			, agent_org_nm			, agent_pos_rank_nm			, opin			, duty_type_cd			, duty_act_dtime			, reg_dtime		)		VALUES		(			'1'			, '1'			, (SELECT NVL(MAX(agent_sno),0)+1 agent_sno  			   FROM TB_TKFOLDERCREAT			   WHERE record_center_id = '1'			   AND   folder_take_seq = '1')			, '1'			, '1'			, '1'			, '1'			, '1'			, '1'			, '1'			, '1'			, '1'						, TO_CHAR(sys_datetime,'YYYYMMDDHH24MISS')		);


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : delete
-- Query Id : deleteRegTakeRegFolderCreat

		DELETE TB_TKFOLDERCREAT		WHERE  record_center_id = '1'		AND    folder_take_seq = '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : delete
-- Query Id : deleteRegTakeRegFolder

		DELETE TB_TKFOLDER		WHERE record_center_id = '1'		AND   folder_take_seq = '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : update
-- Query Id : updateRegTakeRegFolder

		UPDATE TB_TKFOLDER		SET   title = '1'		    , sub_title = '1'		    , clss_div_cd = '1'		    , clss_id = '1'		    , clss_nm = (SELECT bis_clss_nm FROM TB_ZZBISCLSS WHERE bis_clss_id = '1' UNION SELECT UNIT_NM FROM TB_ZZUNIT WHERE RECORD_CENTER_ID='1' AND UNIT_CD = '1' )		    , creat_yyyy = '1'		    , folder_type_div_cd = '1'		    , sumry = '1'		    , org_cd = '1'		    , take_org_cd = '1'		    , old_folder_creat_org_nm = '1'		    , old_folder_clss_no = '1'		    , group_presv_term_cd = '1'		    , presv_term_cd = '1'		    , presv_term_fix_rsn = '1'		    , oper_read_range_cd = '1'		    , read_cnt = '1'		    , creat_user_id = '1'		    , creat_user_nm = '1'		    , creat_user_org_cd = '1'		    , creat_user_org_nm = '1'		    , creat_user_pos_rank_nm = '1'		    , creat_dtime = '1'||'090000'		    , reg_dtime = TO_CHAR(sys_datetime,'YYYYMMDDHH24MISS')		    , reg_fin_flag = '0'		    , exam_rslt_cd = '0'		    , folder_start_dtime = '1'||'0101000000'			, folder_close_dtime = '1'||'1231000000'		WHERE record_center_id = '1'		AND   folder_take_seq = '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : select
-- Query Id : findRegTakeRegRecordPagedList

	SELECT C.*	    FROM (	        SELECT ROWNUM AS rnum	            , B.*	        FROM (		SELECT record_center_id		     , folder_take_seq		     , record_take_seq		     , SUBSTR(record_take_seq,0,4)||'-'||SUBSTR(record_take_seq,5) record_take_seq_nm		     , title		FROM TB_TKRECORD		WHERE record_center_id = '1'		AND   folder_take_seq = '1'         AND               record_take_seq = '1'          AND               title LIKE '1'                 ORDER BY record_center_id, record_sno, record_take_seq        ) B	        WHERE ROWNUM <= '1'	    ) C	    WHERE C.rnum >= '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : select
-- Query Id : countRegTakeRegRecordPagedList

		SELECT COUNT(1)		FROM TB_TKRECORD		WHERE record_center_id = '1'		AND   folder_take_seq = '1' AND               record_take_seq = '1'          AND               title LIKE '1'         ;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : select
-- Query Id : findRegTakeRegRecord

		SELECT A.record_center_id		     , A.record_take_seq		     , A.folder_take_seq		     , A.creat_sys_cd		     , A.org_cd		     , A.creat_yyyy		     , SUBSTR(A.creat_reg_dtime,1,8) creat_reg_dtime		     , A.creat_reg_no		     , A.dtch_reg_no		     , A.title		     , A.sub_title		     , A.record_reg_div_cd		     , C.com_cd_nm record_reg_div_nm		     , A.record_sumry		     , A.record_size		     , A.attach_cnt		     , A.record_page_cnt		     , A.duty_chrgr_nm		     , A.erecord_flag		     , A.old_record_presv_term		     , D.com_cd_nm old_record_presv_term_nm		     , A.old_record_docno		     , A.old_record_creat_org_nm		     , A.open_div_cd		     , E.com_cd_nm open_div_nm		     , A.open_grade		     , SUBSTR(A.open_grade,1,1) open_grade1		     , SUBSTR(A.open_grade,2,1) open_grade2		     , SUBSTR(A.open_grade,3,1) open_grade3		     , SUBSTR(A.open_grade,4,1) open_grade4		     , SUBSTR(A.open_grade,5,1) open_grade5		     , SUBSTR(A.open_grade,6,1) open_grade6		     , SUBSTR(A.open_grade,7,1) open_grade7		     , SUBSTR(A.open_grade,8,1) open_grade8		     , A.part_open_rsn		     , A.open_limit_part		     , A.recver		     , A.sender		     , A.creat_user_id		     , A.creat_user_nm		     , A.creat_user_org_cd		     , A.creat_user_org_nm		     , A.creat_user_pos_rank_nm		     , SUBSTR(A.creat_dtime,1,8) creat_dtime		     , A.secret_clss		     , G.com_cd_nm secret_clss_nm		     , A.secret_term		     , A.oper_read_range_cd		     , F.com_cd_nm oper_read_range_nm		     , A.audvis_record_type		     , A.pic_ymd		     , A.pic_area		     , A.main_user_nm		     , B.spcl_list1 keywd			 , A.record_clss_cd		     , DECODE(C.sub_com_type_cd,'','',(SELECT com_cd_nm FROM TB_ZZCOMCD WHERE com_type_cd = C.sub_com_type_cd AND com_cd = A.record_clss_cd)) record_clss_nm		     , C.sub_com_type_cd		FROM TB_TKRECORD A			, (SELECT record_center_id, record_take_seq, spcl_list1			   FROM TB_TKSPCLLIST			   WHERE record_center_id = '1'			   AND   record_take_seq = '1'			   AND   spcl_list_loc = '2'			   AND   seq = '1') B			, (SELECT com_cd, com_cd_nm, sub_com_type_cd			   FROM TB_ZZCOMCD			   WHERE com_type_cd = 'RD02') C			, (SELECT com_cd, com_cd_nm			   FROM TB_ZZCOMCD			   WHERE com_type_cd = 'RD07') D			, (SELECT com_cd, com_cd_nm			   FROM TB_ZZCOMCD			   WHERE com_type_cd = 'RD05') E			, (SELECT com_cd, com_cd_nm			   FROM TB_ZZCOMCD			   WHERE com_type_cd = 'RD53') F			, (SELECT com_cd, com_cd_nm			   FROM TB_ZZCOMCD			   WHERE com_type_cd = 'RD11') G		WHERE A.record_center_id = '1'		AND   A.record_take_seq = '1'		AND   A.record_center_id = B.record_center_id(+)		AND   A.record_take_seq = B.record_take_seq(+)		AND   A.record_reg_div_cd = C.com_cd(+)		AND   A.old_record_presv_term = D.com_cd(+)		AND   A.open_div_cd = E.com_cd(+)		AND   A.oper_read_range_cd = F.com_cd(+)		AND   A.secret_clss = G.com_cd(+);


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : select
-- Query Id : findRecordClssType

		SELECT sub_com_type_cd		  FROM TB_ZZCOMCD 		 WHERE COM_TYPE_CD = '1' 		   AND COM_CD = '1';


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : select
-- Query Id : findRecordClssTypeList

		SELECT com_cd AS record_clss_cd, com_cd_nm AS record_clss_nm		  FROM TB_ZZCOMCD		 WHERE COM_TYPE_CD = '1' 		   ;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : select
-- Query Id : findRegTakeRegRecordTakeSeq

		SELECT TO_CHAR(SYSDATE,'YYYY')||LPAD((TB_TKRECORD_SQ01.nextval), 15, '0') FROM DUAL	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : insert
-- Query Id : createRegTakeRegRecord

		INSERT INTO TB_TKRECORD		(			record_center_id, record_take_seq, folder_take_seq, creat_sys_cd, org_cd			, creat_yyyy, creat_reg_dtime, title, sub_title, record_reg_div_cd			, record_detl_type_cd, record_size, record_page_cnt, duty_chrgr_nm, erecord_flag			, old_record_presv_term, open_div_cd, open_grade, part_open_rsn, open_limit_part			, recver, sender, folder_clss_no, spcl_record_type, orign_copy_flag			, new_div_cd, chng_flag, rjct_flag, doc_no, creat_sys_record_id			, error_flag, take_fin_flag, reg_dtime, record_sumry, creat_reg_no			, dtch_reg_no, exam_rslt_cd, attach_cnt, record_sno, creat_user_id			, creat_user_nm, creat_user_org_cd, creat_user_org_nm, creat_user_pos_rank_nm, creat_dtime			, secret_clss, secret_term, oper_read_range_cd, audvis_record_type, pic_ymd			, pic_area, main_user_nm, old_record_docno, old_record_creat_org_nm, record_clss_cd		)		VALUES		(			'1', '1', '1', '1'			, (SELECT org_cd FROM TB_TKFOLDER 			   WHERE record_center_id='1' 			   AND   folder_take_seq='1')			, SUBSTR('1',1,4), ('1'||'090000'), '1', '1', '1'			, '1', '1', '1', '1', '1'			, '1', '1', '1', '1', '1'			, '1', '1'			, (SELECT org_cd||clss_id||creat_yyyy||folder_reg_seq||ho_no FROM TB_TKFOLDER 			   WHERE record_center_id='1' 			   AND   folder_take_seq='1')			, '1', '1'			, '1', '1', '1', '1', '1'                        , '1', '1', TO_CHAR(sys_datetime,'YYYYMMDDHH24MISS'), '1', '1'			, '1', '1', '1', '1', '1'			, '1', '1', '1', '1', '1'||'090000'			, '1', '1', '1', '1', '1'			, '1', '1', '1', '1', '1'		);


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : insert
-- Query Id : createRegTakeRegRecordKeywd

		INSERT INTO TB_TKSPCLLIST		(			record_center_id			, spcl_list_take_seq			, record_take_seq			, spcl_list_loc			, seq			, spcl_list1			, reg_dtime		)		VALUES		(			'1'			, LPAD((TB_TKSPCLLIST_SQ01.nextval), 15, '0')			, '1'			, '2'			, '1'			, '1'			, TO_CHAR(sys_datetime,'YYYYMMDDHH24MISS')		);


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : insert
-- Query Id : createRegTakeRegRecordCreat

		INSERT INTO TB_TKRECORDCREAT		(			record_center_id			, record_take_seq			, agent_sno			, agent_type_cd			, agent_id			, agent_nm			, agent_org_cd			, agent_org_nm			, agent_pos_rank_nm			, req_state_val			, opin_dtime			, handl_rslt			, opin			, duty_type_cd			, duty_act_dtime		)		VALUES		(			'1'			, '1'			, (SELECT NVL(MAX(agent_sno),0)+1 agent_sno			   FROM TB_TKRECORDCREAT			   WHERE record_center_id = '1'			   AND   record_take_seq = '1')			, '1'			, '1'			, '1'			, '1'			, '1'			, '1'			, '1'			, '1'			, '1'			, '1'			, '1'			, '1'		)	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : insert
-- Query Id : createRegTakeRegRecordAttachFile

		INSERT INTO TB_TKATTACHFILE		(			record_center_id			, record_take_seq			, reg_seq			, org_cd			, creat_yyyy			, creat_reg_no			, attach_file_seq			, attach_file_page_cnt			, doc_type_cd			, doc_type_sno			, file_nm			, file_size			, ver			, attach_file_path			, virus_flag			, reg_dtime		)		(		SELECT '1'			, '1'			, (SELECT NVL(MAX(reg_seq),0)+1 reg_seq			   FROM TB_TKATTACHFILE			   WHERE record_center_id = '1'			   AND   record_take_seq = '1')			, org_cd			, creat_yyyy			, creat_reg_no			, '1'			, '1'			, '1'			, (SELECT NVL(MAX(doc_type_sno),0)+1 doc_type_sno			   FROM TB_TKATTACHFILE			   WHERE record_center_id = '1'			   AND   record_take_seq = '1'			   AND   doc_type_cd = '1')			, '1'			, '1'			, '1'			, '1'			, '1'			, TO_CHAR(sys_datetime,'YYYYMMDDHH24MISS')		FROM TB_TKRECORD		WHERE record_center_id = '1'		AND   record_take_seq = '1'		)	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : delete
-- Query Id : deleteRegTakeRegRecordAttachFile

		DELETE	TB_TKATTACHFILE		WHERE	record_center_id = '1'		AND	record_take_seq	=	'1'		AND	attach_file_type = '1'		AND	reg_seq	=	'1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : delete
-- Query Id : deleteRegTakeRegRecordAttachFileAll

		DELETE TB_TKATTACHFILE		WHERE record_center_id = '1'		AND   record_take_seq = '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : update
-- Query Id : updateRegTakeRegRecord

		UPDATE TB_TKRECORD		SET   creat_yyyy = SUBSTR('1',1,4)		    , creat_reg_dtime = ('1'||'090000')		    , title = '1'		    , sub_title = '1'		    , record_reg_div_cd = '1'		    , record_detl_type_cd = '1'		    , record_page_cnt = '1'		    , duty_chrgr_nm = '1'		    , erecord_flag = '1'		    , old_record_presv_term = '1'		    , old_record_docno = '1'		    , old_record_creat_org_nm = '1'		    , open_div_cd = '1'		    , open_grade = '1'		    , part_open_rsn = '1'		    , open_limit_part = '1'		    , recver = '1'		    , sender = '1'		    , orign_copy_flag = '1'		    , doc_no = '1'		    , creat_sys_record_id = '1'		    , reg_dtime = TO_CHAR(sys_datetime,'YYYYMMDDHH24MISS')		    , record_sumry = '1'		    , creat_reg_no = '1'		    , attach_cnt = '1'		    , record_sno = '1'		    , creat_user_id = '1'		    , creat_user_nm = '1'		    , creat_user_org_cd = '1'		    , creat_user_org_nm = '1'		    , creat_user_pos_rank_nm = '1'		    , creat_dtime = '1'||'090000'		    , secret_clss = '1'		    , secret_term = '1'		    , oper_read_range_cd = '1'		    , audvis_record_type = '1'		    , pic_ymd = '1'		    , pic_area = '1'		    , main_user_nm = '1'			, record_clss_cd = '1'		WHERE  record_center_id = '1'		AND    record_take_seq = '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : delete
-- Query Id : deleteRegTakeRegRecord

		DELETE TB_TKRECORD		WHERE record_center_id = '1'		AND   record_take_seq = '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : delete
-- Query Id : deleteRegTakeRegRecordKeywd

		DELETE TB_TKSPCLLIST		WHERE  record_center_id = '1'		AND    record_take_seq = '1'		AND    spcl_list_loc = '2'		AND    seq = '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : delete
-- Query Id : deleteRegTakeRegRecordCreat

		DELETE TB_TKRECORDCREAT		WHERE  record_center_id = '1'		AND    record_take_seq = '1';


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : update
-- Query Id : updateRegTakeRegRecordAttachInfo

		UPDATE TB_TKRECORD A		SET  A.record_size = NVL((SELECT SUM(B.file_size)		                          FROM  TB_TKATTACHFILE B		                          WHERE B.record_center_id = A.record_center_id		                          AND   B.record_take_seq = A.record_take_seq),0)		   , A.attach_cnt  = NVL((SELECT COUNT(1)		                          FROM  TB_TKATTACHFILE B		                          WHERE B.record_center_id = A.record_center_id		                          AND   B.record_take_seq = A.record_take_seq),0)		WHERE A.record_center_id = '1'		AND   A.record_take_seq = '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : update
-- Query Id : updateRegTakeRegFolderRecordInfo

		UPDATE TB_TKFOLDER A		SET  A.folder_size = NVL((SELECT SUM(B.record_size)		                          FROM  TB_TKRECORD B		                          WHERE B.record_center_id = A.record_center_id		                          AND   B.folder_take_seq = A.folder_take_seq),0)		    , A.record_tot_page_cnt = NVL((SELECT LPAD(TO_CHAR(SUM(TO_NUMBER(B.record_page_cnt))),6,'0')		                                   FROM  TB_TKRECORD B		                                   WHERE B.record_center_id = A.record_center_id		                                   AND   B.folder_take_seq = A.folder_take_seq),'000000')		    , A.record_reg_cnt = NVL((SELECT LPAD(TO_CHAR(COUNT(1)),6,'0')		                              FROM  TB_TKRECORD B		                              WHERE B.record_center_id = A.record_center_id		                              AND   B.folder_take_seq = A.folder_take_seq),'000000')		    , A.efile_cnt = NVL((SELECT LPAD(TO_CHAR(SUM(B.attach_cnt)),6,'0')		                     FROM  TB_TKRECORD B		                     WHERE B.record_center_id = A.record_center_id		                     AND   B.folder_take_seq = A.folder_take_seq),'000000')			, A.erecord_flag = DECODE((SELECT SUM(DECODE (B.erecord_flag, '1', 1, 0))			                           FROM  TB_TKRECORD B			                           WHERE B.record_center_id = A.record_center_id			                           AND   B.folder_take_seq = A.folder_take_seq),0,'2'									   , DECODE((SELECT SUM(DECODE (B.erecord_flag, '2', 1, 0))				                                 FROM  TB_TKRECORD B				                                 WHERE B.record_center_id = A.record_center_id				                                 AND   B.folder_take_seq = A.folder_take_seq),0,'1','3'))			, A.reg_fin_flag = '0'		WHERE			EXISTS 			(			SELECT 'X'			FROM  TB_TKRECORD			WHERE record_center_id = '1'			AND   record_take_seq = '1'			AND  record_center_id = A.record_center_id			AND folder_take_seq = A.folder_take_seq 			);


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : update
-- Query Id : updateRegTakeRegFolderRecordInfoAll

		UPDATE TB_TKFOLDER A		SET  A.folder_size = NVL((SELECT SUM(B.record_size)		                          FROM  TB_TKRECORD B		                          WHERE B.record_center_id = A.record_center_id		                          AND   B.folder_take_seq = A.folder_take_seq),0)		    , A.record_tot_page_cnt = NVL((SELECT LPAD(TO_CHAR(SUM(TO_NUMBER(B.record_page_cnt))),6,'0')		                                   FROM  TB_TKRECORD B		                                   WHERE B.record_center_id = A.record_center_id		                                   AND   B.folder_take_seq = A.folder_take_seq),'000000')		    , A.record_reg_cnt = NVL((SELECT LPAD(TO_CHAR(COUNT(1)),6,'0')		                              FROM  TB_TKRECORD B		                              WHERE B.record_center_id = A.record_center_id		                              AND   B.folder_take_seq = A.folder_take_seq),'000000')		    , A.efile_cnt = NVL((SELECT LPAD(TO_CHAR(SUM(B.attach_cnt)),6,'0')		                     FROM  TB_TKRECORD B		                     WHERE B.record_center_id = A.record_center_id		                     AND   B.folder_take_seq = A.folder_take_seq),'000000')			, A.erecord_flag = DECODE((SELECT SUM(DECODE (B.erecord_flag, '1', 1, 0))			                           FROM  TB_TKRECORD B			                           WHERE B.record_center_id = A.record_center_id			                           AND   B.folder_take_seq = A.folder_take_seq),0,'2'									   , DECODE((SELECT SUM(DECODE (B.erecord_flag, '2', 1, 0))				                                 FROM  TB_TKRECORD B				                                 WHERE B.record_center_id = A.record_center_id				                                 AND   B.folder_take_seq = A.folder_take_seq),0,'1','3'))			, A.reg_fin_flag = '0'		WHERE A.record_center_id = '1'		AND   A.folder_take_seq = '1';


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : update
-- Query Id : updateRegTakeRegFolderVaccineCommitList

		UPDATE TB_TKFOLDER		SET   virus_flag = '0'		    , virus_dtime = TO_CHAR(sys_datetime,'YYYYMMDDHH24MISS')		WHERE record_center_id = '1'		AND   folder_take_seq = '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : update
-- Query Id : updateRegTakeRegFolderFinList

		UPDATE TB_TKFOLDER		SET   reg_fin_flag = '1'		    , exam_rslt_cd = '0'		WHERE record_center_id = '1'		AND   folder_take_seq = '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : select
-- Query Id : countRegTakeCheckFolderPagedList

		SELECT COUNT(1)		FROM  TB_TKFOLDER A		WHERE A.record_center_id = '1'		AND   A.creat_sys_cd = '03'		AND   A.reg_fin_flag = '1'		AND   A.take_fin_flag = '0' AND             A.creat_user_org_cd = '1'          AND 			A.reg_dtime BETWEEN NVL('1','00010101')||'000000' AND NVL('1','99991231')||'240000'		  AND             A.org_cd = '1'          AND 			A.creat_yyyy BETWEEN NVL('1','0001') AND NVL('1','9999')		  AND 		    (A.clss_div_cd = '1' AND A.clss_id = '1')		  AND             A.presv_term_cd = '1'          AND 			(A.title LIKE '1' OR A.sub_title LIKE '1')		  AND             A.exam_rslt_cd = '1'         ;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : select
-- Query Id : findRegTakeCheckFolderPagedList

	SELECT C.*    FROM (        SELECT ROWNUM AS rnum            , B.*        FROM (		SELECT A.record_center_id		     , A.folder_take_seq		     , A.org_cd			 , B.org_nm org_nm			 , B.org_nm org_abbr_nm		     , A.creat_user_org_cd			 , E.org_nm creat_user_org_nm			 , E.org_nm creat_user_org_abbr_nm			 , A.clss_id			 , A.clss_nm			 , A.title			 , A.creat_yyyy			 , A.presv_term_cd			 , C.com_cd_nm presv_term_nm			 , A.record_reg_cnt			 , A.exam_rslt_cd			 , D.com_cd_nm exam_rslt_nm		FROM  TB_TKFOLDER A		    , (SELECT org_cd, org_nm, org_abbr_nm FROM TB_STORG			   WHERE record_center_id = '1') B			, (SELECT com_cd, com_cd_nm			   FROM  TB_ZZCOMCD			   WHERE com_type_cd = 'RD07') C			, (SELECT com_cd, com_cd_nm			   FROM  TB_ZZCOMCD			   WHERE com_type_cd = 'TK03') D		    , (SELECT org_cd, org_nm, org_abbr_nm FROM TB_STORG			   WHERE record_center_id = '1') E		WHERE A.record_center_id = '1'		AND   A.creat_sys_cd = '03'		AND   A.reg_fin_flag = '1'		AND   A.take_fin_flag = '0'		AND   A.org_cd = B.org_cd(+)		AND   DECODE(A.presv_term_cd, '20', '25', A.presv_term_cd) = C.com_cd(+)		AND   A.exam_rslt_cd = D.com_cd(+)		AND   A.creat_user_org_cd = E.org_cd(+)         AND             A.creat_user_org_cd = '1'          AND 			A.reg_dtime BETWEEN NVL('1','00010101')||'000000' AND NVL('1','99991231')||'240000'		  AND             A.org_cd = '1'          AND 			A.creat_yyyy BETWEEN NVL('1','0001') AND NVL('1','9999')		  AND 		    (A.clss_div_cd = '1' AND A.clss_id = '1')		  AND 			(A.title LIKE '1' OR A.sub_title LIKE '1')		  AND             A.exam_rslt_cd = '1'                 ORDER BY A.record_center_id, org_nm, A.clss_nm, A.title         ) B        WHERE ROWNUM <= '1'    ) C    WHERE C.rnum >= '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : select
-- Query Id : countRegTakeCurStatePagedList

		SELECT COUNT(1)		FROM (			SELECT D.org_cd			FROM  TB_TKFOLDER D			WHERE D.record_center_id = '1'			AND   D.creat_sys_cd = '03' AND 	            D.creat_user_org_cd = '1'	          AND 				D.reg_dtime BETWEEN NVL('1','00010101')||'000000' AND NVL('1','99991231')||'240000'			  AND 	            D.org_cd = '1'	                 	GROUP BY D.org_cd        );


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : select
-- Query Id : findRegTakeCurStatePagedList

	SELECT C.*    FROM (        SELECT ROWNUM AS rnum            , B.*        FROM (		SELECT E.record_center_id		     , E.org_cd			 , F.org_nm			 , F.org_abbr_nm			 , E.folder_reg_cnt			 , E.folder_take_cnt			 , E.record_reg_cnt			 , E.record_take_cnt			 , E.folder_reg_cnt || '(' || E.record_reg_cnt  || ')' AS folderRegCntExcel			 , E.folder_take_cnt || '(' || E.record_take_cnt  || ')' AS folderTakeCntExcel		FROM (		    SELECT record_center_id		         , org_cd		    	 , SUM(folder_reg_cnt) folder_reg_cnt		    	 , SUM(folder_take_cnt) folder_take_cnt		    	 , SUM(record_reg_cnt) record_reg_cnt		    	 , SUM(record_take_cnt) record_take_cnt		    FROM (		        SELECT D.record_center_id		             , D.org_cd		        	 , DECODE(D.take_fin_flag,'1',0,1) folder_reg_cnt		        	 , DECODE(D.take_fin_flag,'1',1,0) folder_take_cnt		        	 , DECODE(D.take_fin_flag,'1',0,C.record_cnt) record_reg_cnt		        	 , DECODE(D.take_fin_flag,'1',C.record_cnt,0) record_take_cnt		        FROM (		            SELECT A.record_center_id		                 , A.folder_take_seq		            	 , COUNT(B.record_take_seq) record_cnt		            FROM  TB_TKFOLDER A		                , TB_TKRECORD B		            WHERE A.record_center_id = '1'		            AND   A.creat_sys_cd = '03'		            AND   A.record_center_id = B.record_center_id(+)		            AND   A.folder_take_seq = B.folder_take_seq(+)		            GROUP BY A.record_center_id, A.folder_take_seq		        ) C, TB_TKFOLDER D		        WHERE D.record_center_id = '1'		        AND   D.creat_sys_cd = '03'		         AND 		            D.creat_user_org_cd = '1'		          AND 					D.reg_dtime BETWEEN NVL('1','00010101')||'000000' AND NVL('1','99991231')||'240000'				  AND 		            D.org_cd = '1'		         		        AND   C.record_center_id = D.record_center_id		        AND   C.folder_take_seq = D.folder_take_seq		    )		    GROUP BY record_center_id, org_cd		) E , TB_STORG F		WHERE E.record_center_id = F.record_center_id		AND   E.org_cd = F.org_cd		ORDER BY E.record_center_id, E.org_cd		) B        WHERE ROWNUM <= '1'    ) C    WHERE C.rnum >= '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : select
-- Query Id : findRegTakeRegRecordAttachFileMain

		SELECT A.record_center_id		     , A.record_take_seq		     , A.attach_file_type		     , A.reg_seq		     , A.doc_type_cd		     , A.file_nm		     , '' AS attach_file_path		FROM  TB_TKATTACHFILE A		WHERE A.record_center_id = '1'		AND   A.record_take_seq = '1'		AND   A.doc_type_cd = '01'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : select
-- Query Id : findRegTakeRegRecordAttachFileSub

		SELECT A.record_center_id		     , A.record_take_seq		     , A.attach_file_type		     , A.reg_seq		     , A.doc_type_cd		     , A.file_nm		     , '' AS attach_file_path		FROM  TB_TKATTACHFILE A		WHERE A.record_center_id = '1'		AND   A.record_take_seq = '1'		AND   A.doc_type_cd = '02'		ORDER BY A.reg_seq;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : select
-- Query Id : countRegTakeCurStateFolderPagedList

		SELECT COUNT(1)		FROM  TB_TKFOLDER A		WHERE A.record_center_id = '1'		AND   A.creat_sys_cd = '03'		AND   A.take_fin_flag = '1'         AND             A.creat_user_org_cd = '1'          AND 			A.reg_dtime BETWEEN NVL('1','00010101')||'000000' AND NVL('1','99991231')||'240000'		  AND             A.org_cd = '1'          AND 			(A.title LIKE '1' OR A.sub_title LIKE '1')		  AND 			A.creat_yyyy = '1'		  AND             A.presv_term_cd = '1'         ;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : select
-- Query Id : findRegTakeCurStateFolderPagedList

	SELECT B.*		FROM (			SELECT ROWNUM AS rnum				, C.*			FROM (		SELECT A.record_center_id		     , A.folder_take_seq			 , A.clss_id			 , A.clss_nm			 , A.title			 , A.creat_yyyy		FROM  TB_TKFOLDER A		WHERE A.record_center_id = '1'		AND   A.creat_sys_cd = '03'		AND   A.take_fin_flag = '1'         AND             A.creat_user_org_cd = '1'          AND 			A.reg_dtime BETWEEN NVL('1','00010101')||'000000' AND NVL('1','99991231')||'240000'		  AND             A.org_cd = '1'          AND 			(A.title LIKE '1' OR A.sub_title LIKE '1')		  AND 			A.creat_yyyy = '1'		  AND             A.presv_term_cd = '1'         		ORDER BY record_center_id, folder_take_seq		) C			WHERE ROWNUM <= '1'		) B		WHERE B.rnum >= '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : select
-- Query Id : findAttachFileYn

		SELECT COUNT(1) 		FROM TB_TKATTACHFILE Z                WHERE 		EXISTS (			SELECT 1			FROM TB_TKRECORD 			WHERE record_center_id = '1' 			AND folder_take_seq = '1'                        AND record_center_id = Z.record_center_id                        AND record_take_seq = Z.record_take_seq		   )	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : select
-- Query Id : countClssNm

		SELECT COUNT(1)		FROM  TB_ZZBISCLSS A WHERE  		    	A.bis_clss_id IN (SELECT bis_clss_id FROM TB_ZZBISORG WHERE org_cd = '1')		      AND 		    	A.bis_clss_id IN (SELECT bis_clss_id FROM TB_ZZBISORG WHERE org_cd = '1')		      AND 				A.bis_clss_id LIKE '1'			  AND 				A.bis_clss_nm LIKE '1'			  AND 				A.del_flag = '1'		      ;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : select
-- Query Id : findClssNm

		SELECT C.bis_clss_id			, C.bis_clss_nm			, C.presv_term_cd			, C.del_flag		FROM (			SELECT ROWNUM AS rnum				, B.*			FROM (			    SELECT A.bis_clss_id 					, A.bis_clss_nm					, A.presv_term_cd					, (CASE WHEN A.del_flag='1' THEN '폐기' ELSE '사용' END) AS del_flag				FROM  TB_ZZBISCLSS A				 WHERE  				    	A.bis_clss_id IN (SELECT bis_clss_id FROM TB_ZZBISORG WHERE org_cd = '1')				      AND 				    	A.bis_clss_id IN (SELECT bis_clss_id FROM TB_ZZBISORG WHERE org_cd = '1')				      AND 						A.bis_clss_id LIKE '1'					  AND 						A.bis_clss_nm LIKE '1'					  AND 						A.del_flag = '1'				      				ORDER BY A.bis_clss_nm			) B			WHERE ROWNUM <= '1'		) C		WHERE C.rnum >= '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : select
-- Query Id : findClssTree

		SELECT B.*		FROM (			SELECT (CASE WHEN A.levl = 6 THEN '2' ELSE '1' END) AS treeType				, A.bis_clss_id AS id				, A.bis_clss_nm AS text				, A.presv_term_cd AS cd				, (CASE WHEN EXISTS (SELECT 1 FROM TB_ZZBISCLSS B WHERE B.upper_bis_clss_id = A.bis_clss_id) THEN 'closed'						ELSE 'open'					END) AS state 				, (CASE WHEN A.levl = 6 THEN (CASE WHEN A.del_flag = '1' THEN 'icon-file_full_delete' ELSE 'icon-file_full_accept' END)						ELSE (CASE WHEN A.del_flag = '1' THEN 'icon-folder_full_delete' ELSE 'icon-folder_full_accept' END)					END) AS iconCls			FROM  TB_ZZBISCLSS A			 WHERE   						A.levl = 1					   AND  						A.levl = 1					   			ORDER BY A.levl, A.sort_sno		) B;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : select
-- Query Id : findOrgClssTree

		SELECT B.*		FROM (			SELECT (CASE WHEN A.levl = 6 THEN '2' ELSE '1' END) AS treeType				, A.bis_clss_id AS id				, A.bis_clss_nm AS text				, A.presv_term_cd AS cd				, (CASE WHEN EXISTS (SELECT 1 FROM TB_ZZBISCLSS B WHERE B.upper_bis_clss_id = A.bis_clss_id) THEN 'closed'						ELSE 'open'					END) AS state 				, (CASE WHEN A.levl = 6 THEN (CASE WHEN A.del_flag = '1' THEN 'icon-file_full_delete' ELSE 'icon-file_full_accept' END)						ELSE (CASE WHEN A.del_flag = '1' THEN 'icon-folder_full_delete' ELSE 'icon-folder_full_accept' END)					END) AS iconCls			FROM  TB_ZZBISCLSS A			WHERE A.bis_clss_id IN (				SELECT bis_clss_id FROM TB_ZZBISCLSS				START WITH bis_clss_id IN (SELECT bis_clss_id FROM TB_ZZBISORG WHERE org_cd = '1')				CONNECT BY PRIOR upper_bis_clss_id = bis_clss_id			) AND  					A.levl = 1				  			ORDER BY A.levl, A.sort_sno		) B;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : select
-- Query Id : findCheckPresvTermState

		SELECT PRESV_TERM_STATE		FROM TB_ZZBISCLSS 		WHERE bis_clss_id = '1'			;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : select
-- Query Id : countUnitNm

		SELECT COUNT(1)		FROM TB_STORG A			, TB_ZZORGUNIT B			, TB_ZZUNIT C		WHERE A.record_center_id = '1'	     AND 			A.org_cd = '1'		 		AND   B.record_center_id = A.record_center_id		AND   B.org_cd = A.org_cd		AND   C.record_center_id = B.record_center_id		AND   C.unit_cd = B.unit_cd AND 			C.unit_cd LIKE '1'		  AND 			C.unit_nm LIKE '1'		 ;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : select
-- Query Id : findUnitNm

		SELECT E.unit_cd			, E.unit_nm			, E.presv_term_cd			, E.org_nm			, E.org_cd			, E.use_flag		FROM (			SELECT ROWNUM AS rnum				, D.*			FROM (			    SELECT C.unit_cd 					, C.unit_nm					, C.presv_term_cd					, A.org_cd					, A.org_nm					, (CASE WHEN B.use_flag='0' THEN '폐지' ELSE '현존' END) AS use_flag				FROM TB_STORG A					, TB_ZZORGUNIT B					, TB_ZZUNIT C				WHERE A.record_center_id = '1' AND 					A.org_cd = '1'				 				AND   B.record_center_id = A.record_center_id				AND   B.org_cd = A.ORG_CD				AND   C.record_center_id = B.record_center_id				AND   C.unit_cd = B.unit_cd AND 					C.unit_cd LIKE '1'				  AND 					C.unit_nm LIKE '1'				 				ORDER BY C.unit_nm, A.org_nm			) D			WHERE ROWNUM <= '1'		) E		WHERE E.rnum >= '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : select
-- Query Id : findUnitTree

		(			SELECT D.*			FROM (				SELECT A.record_center_id AS recordCenterId					, '2' AS treeType					, C.unit_cd AS id					, C.unit_nm AS text					, C.presv_term_cd AS cd					, 'open' AS state					, (CASE WHEN B.use_flag = '0' THEN 'icon-file_full_delete'							ELSE 'icon-file_full_accept'						END) AS iconCls				FROM TB_STORG A					, TB_ZZORGUNIT B					, TB_ZZUNIT C				WHERE A.record_center_id = '1'				AND   A.org_cd = '1'				AND   B.record_center_id = A.record_center_id				AND   B.org_cd = A.ORG_CD				AND   C.record_center_id = B.record_center_id				AND   C.unit_cd = B.unit_cd				ORDER BY A.levl, A.org_seq			) D		)		UNION ALL		(			SELECT D.*			FROM (				SELECT A.record_center_id AS recordCenterId					, '1' AS treeType					, A.org_cd AS id					, A.org_abbr_nm AS text					, A.CLOSE_FLAG AS cd					, (CASE WHEN EXISTS (SELECT 1 FROM TB_STORG B WHERE B.upper_org_cd = A.org_cd) THEN 'closed'							WHEN EXISTS (SELECT 1 FROM TB_ZZORGUNIT B WHERE B.org_cd = A.org_cd) THEN 'closed'							ELSE 'open'						END) AS state 					, (CASE WHEN A.close_flag = '1' THEN 'icon-folder_full_delete'							ELSE 'icon-folder_full_accept'						END) AS iconCls				FROM TB_STORG A				WHERE A.record_center_id = '1'  AND 					NOT EXISTS (SELECT 1 FROM TB_STORG B WHERE B.record_center_id=A.record_center_id AND B.org_cd=A.upper_org_cd)				 				ORDER BY A.close_flag, A.record_center_id, A.levl, A.org_cd, A.apply_start_ymd, A.org_abbr_nm			) D		)	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : select
-- Query Id : findOrgUnitTree

		(			SELECT D.*			FROM (				SELECT A.record_center_id AS recordCenterId					, '2' AS treeType					, C.unit_cd AS id					, C.unit_nm AS text					, C.presv_term_cd AS cd					, 'open' AS state					, (CASE WHEN B.use_flag = '0' THEN 'icon-file_full_delete'							ELSE 'icon-file_full_accept'						END) AS iconCls				FROM TB_STORG A					, TB_ZZORGUNIT B					, TB_ZZUNIT C				WHERE A.record_center_id = '1'				AND   A.org_cd = '1'				AND   B.record_center_id = A.record_center_id				AND   B.org_cd = A.ORG_CD				AND   C.record_center_id = B.record_center_id				AND   C.unit_cd = B.unit_cd				ORDER BY A.levl, A.org_seq			) D		)		UNION ALL		(			SELECT D.*			FROM (				SELECT A.record_center_id AS recordCenterId					, '1' AS treeType					, A.org_cd AS id					, A.org_abbr_nm AS text					, A.close_flag AS cd					, (CASE WHEN EXISTS (SELECT 1 FROM TB_STORG B WHERE B.upper_org_cd = A.org_cd) THEN 'closed'							WHEN EXISTS (SELECT 1 FROM TB_ZZORGUNIT B WHERE B.org_cd = A.org_cd) THEN 'closed'							ELSE 'open'						END) AS state 					, (CASE WHEN A.close_flag = '1' THEN 'icon-folder_full_delete'							ELSE 'icon-folder_full_accept'						END) AS iconCls				FROM TB_STORG A				WHERE A.record_center_id = '1' AND 					A.org_cd = '1'				 				ORDER BY A.close_flag, A.record_center_id, A.levl, A.org_cd, A.apply_start_ymd, A.org_abbr_nm			) D		)	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : select
-- Query Id : findRecordCenterTree

		SELECT A.record_center_id AS recordCenterId			, '0' AS treeType			, 'RC_'||A.record_center_id AS id			, A.record_center_nm AS text			, 'closed' AS state			, 'icon-search' AS iconCls			, 0 AS levl		FROM TB_STRECORDCENTER A WHERE  				A.record_center_id = '1'			  AND 				A.record_center_id = '1'			  		ORDER BY A.record_center_id	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : select
-- Query Id : findRegTakeRegDclssfyFolder

		SELECT A.record_center_id		     , A.folder_id		     , A.folder_take_seq		     , A.title		     , A.sub_title		     , A.clss_div_cd		     , A.clss_id		     , A.clss_nm		     , A.creat_yyyy		     , A.folder_type_div_cd		     , A.sumry		     , A.org_cd		     , B.org_nm		     , A.take_org_cd		     , A.old_folder_creat_org_nm		     , A.old_folder_clss_no		     , A.group_presv_term_cd		     , A.presv_term_cd		     , A.presv_term_fix_rsn		     , A.oper_read_range_cd		     , A.read_cnt		     , A.creat_user_id		     , A.creat_user_nm		     , A.creat_user_org_cd		     , (SELECT B.org_nm						   FROM TB_STORG B						   WHERE B.record_center_id = '1'						   AND   B.org_cd=A.creat_user_org_cd) creat_user_org_nm		     , A.creat_user_pos_rank_nm		     , SUBSTR(A.creat_dtime,0,8) creat_dtime		     , A.ho_no		     , A.secret_rels_record_yn		     		FROM  TB_RDFOLDER A		    , TB_STORG B		WHERE A.record_center_id = '1'		AND   A.folder_take_seq = '1'		AND   A.record_center_id = B.record_center_id		AND   A.org_cd = B.org_cd;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : select
-- Query Id : findRegTakeRegDclssfyFolderPagedList

		SELECT C.*	    FROM (	        SELECT ROWNUM AS rnum	            , B.*	        FROM (				SELECT A.record_center_id					, A.folder_id				    , A.folder_take_seq				    , A.org_cd					, (SELECT B.org_nm					   FROM TB_STORG B					   WHERE B.record_center_id = '1'					   AND   B.org_cd=A.org_cd) org_nm					, (SELECT B.org_abbr_nm					   FROM TB_STORG B					   WHERE B.record_center_id = '1'					   AND   B.org_cd=A.org_cd) org_abbr_nm					, A.creat_user_org_cd					, (SELECT B.org_nm					   FROM TB_STORG B					   WHERE B.record_center_id = '1'					   AND   B.org_cd=A.creat_user_org_cd) creat_user_org_nm					, (SELECT B.org_abbr_nm					   FROM TB_STORG B					   WHERE B.record_center_id = '1'					   AND   B.org_cd=A.creat_user_org_cd) creat_user_org_abbr_nm					, A.clss_id					, A.clss_nm					, A.title					, A.creat_yyyy					, A.presv_term_cd					, (SELECT C.com_cd_nm					   FROM TB_ZZCOMCD C					   WHERE C.com_type_cd = 'RD07'					   AND C.com_cd=DECODE(A.presv_term_cd, '20', '25', A.presv_term_cd)) presv_term_nm					, TO_CHAR(TO_NUMBER(NVL(A.record_reg_cnt,'0'))) record_reg_cnt					, A.folder_keep_state_cd exam_rslt_cd					, DECODE(A.folder_keep_state_cd,'','등록중','등록완료') exam_rslt_nm					, A.ho_no                    , (SELECT COUNT(1)                        FROM TB_RDRECORD B                        WHERE B.record_center_id = A.record_center_id                        AND B.folder_id = A.folder_id) record_count                    , (SELECT COUNT(orign_id)                        FROM TB_RDRECORD B                        WHERE B.record_center_id = A.record_center_id                        AND B.folder_id = A.folder_id) record_orign_count                    , (SELECT COUNT(reg_dtime)                       FROM TB_RDRECORD B                       WHERE B.record_center_id = A.record_center_id                       AND B.folder_id = A.folder_id) record_reg_dtime_count					, (select count(*)                            from tb_rdfolder e                            where e.record_center_id = a.record_center_id                            and e.creat_sys_cd = a.creat_sys_cd                            and e.org_cd = a.org_cd                            and e.clss_id = a.clss_id                            and e.creat_yyyy = a.creat_yyyy                            and e.folder_reg_seq = a.folder_reg_seq                            ) as ho_no_cnt                                           , DECODE(A.folder_keep_state_cd,'','N','Y') folder_keep_state_cd                    , secret_rels_record_yn   				FROM TB_RDFOLDER A				WHERE A.record_center_id = '1'				AND   A.creat_sys_cd = '03' 		         AND 		            A.creat_user_org_cd = '1'		          AND 					A.reg_dtime BETWEEN NVL('1','00010101')||'000000' AND NVL('1','99991231')||'240000'				  AND 		            A.org_cd = '1'		          AND 					A.creat_yyyy BETWEEN NVL('1','0001') AND NVL('1','9999')				  AND 				    (A.clss_div_cd = '1' AND A.clss_id = '1')				  AND 					(A.title LIKE '1' OR A.sub_title LIKE '1')				  					ORDER BY A.record_center_id, A.reg_dtime DESC				 			) B	        WHERE ROWNUM <= '1'	    ) C	    WHERE C.rnum >= '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : select
-- Query Id : countRegTakeRegDclssfyFolderPagedList

		SELECT COUNT(1)		FROM TB_RDFOLDER A		WHERE A.record_center_id = '1'		AND   A.creat_sys_cd = '03' AND             A.creat_user_org_cd = '1'          AND 			A.reg_dtime BETWEEN NVL('1','00010101')||'000000' AND NVL('1','99991231')||'240000'		  AND             A.org_cd = '1'          AND 			A.creat_yyyy BETWEEN NVL('1','0001') AND NVL('1','9999')		  AND 		    (A.clss_div_cd = '1' AND A.clss_id = '1')		  AND 			(A.title LIKE '1' OR A.sub_title LIKE '1')		 ;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : insert
-- Query Id : createRegTakeRegDclssfyFolder

		INSERT INTO TB_RDFOLDER		(			record_center_id, folder_id, folder_take_seq, creat_sys_cd, take_org_cd, cur_keep_org_cd, clss_div_cd			, clss_id, creat_yyyy, folder_reg_seq, ho_no, take_yyyy			, take_yyyy_sno, clss_nm, org_title, title, sub_title, folder_type_div_cd			, folder_detl_type_cd, sumry, folder_size, record_tot_page_cnt, record_reg_cnt			, efile_cnt, old_folder_creat_org_nm, old_folder_clss_no, presv_term_cd, presv_term_fix_rsn			, oper_read_range_cd, read_cnt, new_div_cd, presv_method_cd, presv_area_cd			, creat_user_id, creat_user_nm, creat_user_org_cd, creat_user_org_nm, creat_user_pos_rank_nm			, creat_dtime, reg_dtime, org_cd, group_presv_term_cd, folder_start_dtime 			, folder_close_dtime, virus_flag, erecord_flag, open_div_cd, mig_flag, folder_keep_state_cd, efile_del_flag, secret_rels_record_yn		)		VALUES 		(			'1', TO_CHAR(SYSDATE, 'YYYY')  || LPAD((TB_RDFOLDER_SQ01.nextval), 10, '0'), '1', '1', '1', '1', '1'			, '1', '1', '1', '1', TO_CHAR(SYSDATE,'YYYY')			, '1', (SELECT bis_clss_nm FROM TB_ZZBISCLSS WHERE bis_clss_id = '1' UNION SELECT UNIT_NM FROM TB_ZZUNIT WHERE RECORD_CENTER_ID='1' AND UNIT_CD = '1' )			, '1', '1', '1', '1'			, '1', '1', '1', '1', '1'			, '1', '1', '1', '1', '1'			, '1', '1', '1', '1', '1'			, '1', '1', '1', '1', '1'			, '1'||'090000', TO_CHAR(sys_datetime,'YYYYMMDDHH24MISS'), '1', '1', '1'||'0101000000'  			, '1'||'1231000000', '1', '1', '3', '0', '', '0', '1'		);


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : insert
-- Query Id : createRegTakeHonoAddDclssfyFolder

		INSERT INTO TB_RDFOLDER		(			record_center_id, folder_id, folder_take_seq, creat_sys_cd, take_org_cd, clss_div_cd			, clss_id, creat_yyyy, folder_reg_seq, ho_no, take_yyyy			, take_yyyy_sno, clss_nm, org_title, title, sub_title, folder_type_div_cd			, folder_detl_type_cd, sumry, folder_size, record_tot_page_cnt, record_reg_cnt			, efile_cnt, old_folder_creat_org_nm, old_folder_clss_no, presv_term_cd, presv_term_fix_rsn			, oper_read_range_cd, read_cnt, new_div_cd, presv_method_cd, presv_area_cd			, creat_user_id, creat_user_nm, creat_user_org_cd, creat_user_org_nm, creat_user_pos_rank_nm			, creat_dtime, reg_dtime, org_cd, group_presv_term_cd			, folder_start_dtime			, folder_close_dtime, virus_flag, erecord_flag, open_div_cd, secret_rels_record_yn		)		SELECT record_center_id, TO_CHAR(SYSDATE, 'YYYY')  || LPAD((TB_RDFOLDER_SQ01.nextval), 10, '0'), '1', creat_sys_cd, take_org_cd, clss_div_cd			, clss_id, creat_yyyy, folder_reg_seq, 			(	SELECT LPAD(MAX(HO_NO)+1, 3, '0') 				FROM TB_RDFOLDER 				WHERE RECORD_CENTER_ID||ORG_CD||CLSS_ID||CREAT_YYYY||FOLDER_REG_SEQ IN (					SELECT RECORD_CENTER_ID||ORG_CD||CLSS_ID||CREAT_YYYY||FOLDER_REG_SEQ 					FROM TB_RDFOLDER  					WHERE FOLDER_TAKE_SEQ = '1' )			)			, take_yyyy			, take_yyyy_sno, clss_nm, title, title, sub_title, folder_type_div_cd			, folder_detl_type_cd, sumry, '0', '0', '0'			, '0', old_folder_creat_org_nm, old_folder_clss_no, presv_term_cd, presv_term_fix_rsn			, oper_read_range_cd, read_cnt, new_div_cd, presv_method_cd, presv_area_cd			, creat_user_id, creat_user_nm, creat_user_org_cd, creat_user_org_nm, creat_user_pos_rank_nm			, creat_dtime, TO_CHAR(sys_datetime,'YYYYMMDDHH24MISS'), org_cd, group_presv_term_cd			, folder_start_dtime			, folder_close_dtime, virus_flag, erecord_flag, '3', secret_rels_record_yn			FROM TB_RDFOLDER 			WHERE FOLDER_TAKE_SEQ = '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : insert
-- Query Id : createRegTakeRegDclssfyFolderCreat

		INSERT INTO TB_RDFOLDERCREAT		(			record_center_id			, folder_id			, agent_sno			, agent_type_cd			, agent_id			, agent_nm			, agent_org_cd			, agent_org_nm			, agent_pos_rank_nm			, opin			, duty_type_cd			, duty_act_dtime			, reg_dtime		)		(			SELECT '1'   	               , folder_id	               , (SELECT NVL(MAX(agent_sno),0)+1 agent_sno  	                  FROM TB_TKFOLDERCREAT	                  WHERE record_center_id = '1'	                  AND   folder_take_seq = '1')		           , '1'		           , '1'		           , '1'		           , '1'		           , '1'		           , '1'		           , '1'		           , '1'		           , '1'		           , TO_CHAR(sys_datetime,'YYYYMMDDHH24MISS')		    FROM TB_RDFOLDER 		    WHERE record_center_id = '1'		    AND folder_take_seq =  '1'		)			;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : delete
-- Query Id : deleteRegTakeRegDclssfyFolderCreat

		DELETE TB_RDFOLDERCREAT		WHERE  record_center_id = '1'		AND    folder_id = '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : delete
-- Query Id : deleteRegTakeRegDclssfyFolder

		DELETE TB_RDFOLDER		WHERE record_center_id = '1'		AND   folder_id = '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : update
-- Query Id : updateRegTakeRegDclssfyFolder

		UPDATE TB_RDFOLDER		SET   title = '1'		    , sub_title = '1'		    , clss_div_cd = '1'		    , clss_id = '1'		    , clss_nm = (SELECT bis_clss_nm FROM TB_ZZBISCLSS WHERE bis_clss_id = '1' UNION SELECT UNIT_NM FROM TB_ZZUNIT WHERE RECORD_CENTER_ID='1' AND UNIT_CD = '1' )		    , creat_yyyy = '1'		    , folder_type_div_cd = '1'		    , sumry = '1'		    , org_cd = '1'		    , take_org_cd = '1'		    , old_folder_creat_org_nm = '1'		    , old_folder_clss_no = '1'		    , group_presv_term_cd = '1'		    , presv_term_cd = '1'		    , presv_term_fix_rsn = '1'		    , oper_read_range_cd = '1'		    , read_cnt = '1'		    , creat_user_id = '1'		    , creat_user_nm = '1'		    , creat_user_org_cd = '1'		    , creat_user_org_nm = '1'		    , creat_user_pos_rank_nm = '1'		    , creat_dtime = '1'||'090000'		    , reg_dtime = TO_CHAR(sys_datetime,'YYYYMMDDHH24MISS')		    , folder_start_dtime = '1'||'0101000000'			, folder_close_dtime = '1'||'1231000000'			, secret_rels_record_yn = '1'		WHERE record_center_id = '1'		AND   folder_take_seq = '1';


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : select
-- Query Id : findRegTakeRegDclssfyRecordPagedList

	SELECT C.*	    FROM (	        SELECT ROWNUM AS rnum	            , B.*	        FROM (		SELECT record_center_id		     , folder_id		     , record_take_seq		     , SUBSTR(record_take_seq,0,4)||'-'||SUBSTR(record_take_seq,5) record_take_seq_nm		     , title		     , substr(creat_reg_dtime, 1,8) creat_reg_dtime		     , sub_title		     , duty_Chrgr_Nm		     , record_page_cnt		     , erecord_flag		     , record_Reg_Div_Cd		     , old_Record_Presv_Term		     , old_Record_Docno		     , old_Record_Creat_Org_Nm		     , record_Sumry		     , recver		     , sender		     , open_Div_Cd		     , oper_Read_Range_Cd		     , secret_Clss		     , secret_Term		     , creat_User_Org_Cd		     , creat_User_Pos_Rank_Nm		     , creat_User_Id		     , creat_user_nm		     , creat_Dtime		     , prot_Yn		     , secret_Rels_Record_Presv_Loc		     , secret_Resort_Rsn		     , secret_Resort_Type_Cd		     , secret_Resort_Dtime		     , secret_resort_dept_nm		     , secret_Resort_Pos_Rank		     , secret_Resort_User_Nm 		FROM TB_RDRECORD		WHERE record_center_id = '1'		AND   folder_id = '1' AND               record_take_seq = '1'          AND               title LIKE '1'                 ORDER BY record_center_id, record_sno, record_take_seq        ) B	        WHERE ROWNUM <= '1'	    ) C	    WHERE C.rnum >= '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : select
-- Query Id : countRegTakeRegDclssfyRecordPagedList

		SELECT COUNT(1)		FROM TB_RDRECORD		WHERE record_center_id = '1'		AND   folder_id = '1' AND               record_take_seq = '1'          AND               title LIKE '1'         ;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : select
-- Query Id : findRegTakeRegDclssfyRecord

		SELECT A.record_center_id		     , A.record_id		     , A.folder_id				     , A.record_take_seq		     , A.creat_sys_cd		     , A.org_cd		     , A.creat_yyyy		     , SUBSTR(A.creat_reg_dtime,1,8) creat_reg_dtime		     , A.creat_reg_no		     , A.dtch_reg_no		     , A.title		     , A.sub_title		     , A.record_reg_div_cd		     , C.com_cd_nm record_reg_div_nm		     , A.record_sumry		     , A.record_size		     , A.attach_cnt		     , A.record_page_cnt		     , A.duty_chrgr_nm		     , A.erecord_flag		     , A.old_record_presv_term		     , D.com_cd_nm old_record_presv_term_nm		     , A.old_record_docno		     , A.old_record_creat_org_nm		     , A.open_div_cd		     , E.com_cd_nm open_div_nm		     , A.open_grade		     , SUBSTR(A.open_grade,1,1) open_grade1		     , SUBSTR(A.open_grade,2,1) open_grade2		     , SUBSTR(A.open_grade,3,1) open_grade3		     , SUBSTR(A.open_grade,4,1) open_grade4		     , SUBSTR(A.open_grade,5,1) open_grade5		     , SUBSTR(A.open_grade,6,1) open_grade6		     , SUBSTR(A.open_grade,7,1) open_grade7		     , SUBSTR(A.open_grade,8,1) open_grade8		     , A.part_open_rsn		     , A.open_limit_part		     , A.recver		     , A.sender		     , A.creat_user_id		     , A.creat_user_nm		     , A.creat_user_org_cd		     , A.creat_user_org_nm		     , A.creat_user_pos_rank_nm		     , SUBSTR(A.creat_dtime,1,8) creat_dtime		     , A.secret_clss		     , G.com_cd_nm secret_clss_nm		     , A.secret_term		     , A.oper_read_range_cd		     , F.com_cd_nm oper_read_range_nm		     , A.audvis_record_type		     , A.pic_ymd		     , A.pic_area		     , A.main_user_nm		     , B.spcl_list1 keywd			 , A.record_clss_cd		     , DECODE(C.sub_com_type_cd,'','',(SELECT com_cd_nm FROM TB_ZZCOMCD WHERE com_type_cd = C.sub_com_type_cd AND com_cd = A.record_clss_cd)) record_clss_nm		     , C.sub_com_type_cd		     , A.orign_id		     , A.reg_dtime			     , A.secret_resort_type_cd		     , A.secret_resort_dtime		     , A.secret_resort_rsn		     , A.secret_resort_dept_nm		     , A.secret_resort_pos_rank		     , A.secret_resort_user_nm		     , A.secret_rels_record_presv_loc		     , A.prot_yn		FROM TB_RDRECORD A			, (SELECT record_center_id, record_take_seq, spcl_list1			   FROM TB_RDSPCLLIST			   WHERE record_center_id = '1'			   AND   record_take_seq = '1'			   AND   spcl_list_loc = '2'			   AND   seq = '1') B			, (SELECT com_cd, com_cd_nm, sub_com_type_cd			   FROM TB_ZZCOMCD			   WHERE com_type_cd = 'RD02') C			, (SELECT com_cd, com_cd_nm			   FROM TB_ZZCOMCD			   WHERE com_type_cd = 'RD07') D			, (SELECT com_cd, com_cd_nm			   FROM TB_ZZCOMCD			   WHERE com_type_cd = 'RD05') E			, (SELECT com_cd, com_cd_nm			   FROM TB_ZZCOMCD			   WHERE com_type_cd = 'RD53') F			, (SELECT com_cd, com_cd_nm			   FROM TB_ZZCOMCD			   WHERE com_type_cd = 'RD11') G		WHERE A.record_center_id = '1'		AND   A.record_take_seq = '1'		AND   A.record_center_id = B.record_center_id(+)		AND   A.record_take_seq = B.record_take_seq(+)		AND   A.record_reg_div_cd = C.com_cd(+)		AND   A.old_record_presv_term = D.com_cd(+)		AND   A.open_div_cd = E.com_cd(+)		AND   A.oper_read_range_cd = F.com_cd(+)		AND   A.secret_clss = G.com_cd(+)	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : insert
-- Query Id : createRegTakeRegDclssfyRecord

   		INSERT INTO TB_RDRECORD		(			record_center_id, record_id, record_take_seq, folder_id, take_yyyy, take_yyyy_sno			, clss_div_cd, clss_id, clss_nm, creat_sys_cd, org_cd			, creat_yyyy, creat_reg_dtime, org_title, title, sub_title, record_reg_div_cd			, record_detl_type_cd, record_size, record_page_cnt, duty_chrgr_nm, erecord_flag			, old_record_presv_term, open_div_cd, open_grade, part_open_rsn, open_limit_part			, recver, sender, folder_clss_no, spcl_record_type, orign_copy_flag			, new_div_cd, chng_flag, rjct_flag, doc_no, creat_sys_record_id			, reg_dtime, record_sumry, creat_reg_no			, dtch_reg_no, attach_cnt, record_sno, creat_user_id			, creat_user_nm, creat_user_org_cd, creat_user_org_nm, creat_user_pos_rank_nm, creat_dtime			, secret_clss, secret_term, oper_read_range_cd, audvis_record_type, pic_ymd			, pic_area, main_user_nm, old_record_docno, old_record_creat_org_nm, record_clss_cd			, secret_resort_type_cd, secret_resort_dtime, secret_resort_rsn, secret_resort_dept_nm			, secret_resort_pos_rank, secret_resort_user_nm, secret_rels_record_presv_loc, prot_yn, secret_record_yn					)		(			SELECT '1', TO_CHAR(SYSDATE,'YYYY')||LPAD((TB_RDRECORD_SQ01.nextval), 10, '0'), '1', folder_id, take_yyyy, take_yyyy_sno			, clss_div_cd, clss_id, clss_nm, '1', (SELECT org_cd FROM TB_RDFOLDER WHERE record_center_id='1' AND folder_id='1')			, SUBSTR('1',1,4), ('1'||'090000'), '1', '1', '1', '1'			, '1', '1', '1', '1', '1'			, '1', '1', '1', '1', '1'			, '1', '1', (SELECT org_cd||clss_id||creat_yyyy||folder_reg_seq||ho_no FROM TB_RDFOLDER WHERE record_center_id='1' AND folder_id='1'), '1', '1'			, '1', '1', '1', '1', '1'			, '', '1', LPAD(NVL((SELECT MAX(TO_NUMBER(NVL(C.creat_reg_no,0))) FROM TB_RDRECORD C WHERE C.record_center_id = '1' AND   C.creat_sys_cd = '1' AND   C.org_cd = (SELECT org_cd FROM TB_RDFOLDER WHERE record_center_id='1' AND folder_id='1') AND C.creat_yyyy = SUBSTR('1',1,4)),0)+ROWNUM,13,'0')			, '1', '1', '1', '1'			, '1', '1', '1', '1', '1'||'090000'			, '1', '1', '1', '1', '1'			, '1', '1', '1', '1', '1'			, '1', '1', '1', '1'			, '1', '1', '1', '1', 'Y'	      FROM TB_RDFOLDER 	      WHERE RECORD_CENTER_ID = '1' 	      AND FOLDER_ID = '1'									)		;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : insert
-- Query Id : createRegTakeRegDclssfyRecordKeywd

		INSERT INTO TB_RDSPCLLIST		(			record_center_id			, spcl_list_take_seq			, record_take_seq			, spcl_list_loc			, seq			, spcl_list1			, reg_dtime		)		VALUES		(			'1'			, LPAD((TB_RDSPCLLIST_SQ01.nextval), 15, '0')			, '1'			, '2'			, '1'			, '1'			, TO_CHAR(sys_datetime,'YYYYMMDDHH24MISS')		);


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : insert
-- Query Id : createRegTakeRegDclssfyRecordCreat

   		INSERT INTO TB_RDRECORDCREAT		(			record_center_id			, record_id			, agent_sno			, agent_type_cd			, agent_id			, agent_nm			, agent_org_cd			, agent_org_nm			, agent_pos_rank_nm			, req_state_val			, opin_dtime			, handl_rslt			, opin			, duty_type_cd			, duty_act_dtime		)		(		 SELECT       		'1'			, record_id			, (SELECT NVL(MAX(agent_sno),0)+1 agent_sno			   FROM TB_RDRECORDCREAT			   WHERE record_center_id = A.record_center_id			   AND   record_id = A.record_id)			, '1'			, '1'			, '1'			, '1'			, '1'			, '1'			, '1'			, '1'			, '1'			, '1'			, '1'			, '1'	      FROM TB_RDRECORD A	      WHERE A.RECORD_CENTER_ID = '1'	      AND A.RECORD_TAKE_SEQ = '1' 		)			;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : insert
-- Query Id : createRegTakeRegDclssfyRecordAttachFile

		INSERT INTO TB_RDATTACHFILE		(			record_center_id			, record_take_seq			, reg_seq			, org_cd			, creat_yyyy			, creat_reg_no			, attach_file_seq			, attach_file_page_cnt			, doc_type_cd			, doc_type_sno			, file_nm			, file_size			, ver			, attach_file_path			, virus_flag			, reg_dtime		)		(		SELECT '1'			, '1'			, (SELECT NVL(MAX(reg_seq),0)+1 reg_seq			   FROM TB_RDATTACHFILE			   WHERE record_center_id = '1'			   AND   record_take_seq = '1')			, org_cd			, creat_yyyy			, creat_reg_no			, '1'			, '1'			, '1'			, (SELECT NVL(MAX(doc_type_sno),0)+1 doc_type_sno			   FROM TB_RDATTACHFILE			   WHERE record_center_id = '1'			   AND   record_take_seq = '1'			   AND   doc_type_cd = '1')			, '1'			, '1'			, '1'			, '1'			, '1'			, TO_CHAR(sys_datetime,'YYYYMMDDHH24MISS')		FROM TB_RDRECORD		WHERE record_center_id = '1'		AND   record_take_seq = '1'		)	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : delete
-- Query Id : deleteRegTakeRegDclssfyRecordAttachFile

		DELETE	TB_RDATTACHFILE		WHERE	record_center_id = '1'		AND	record_take_seq	=	'1'		AND	attach_file_type = '1'		AND	reg_seq	=	'1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : delete
-- Query Id : deleteRegTakeRegDclssfyRecordAttachFileAll

		DELETE TB_RDATTACHFILE		WHERE record_center_id = '1'		AND   record_take_seq = '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : update
-- Query Id : updateRegTakeRegDclssfyRecord

		UPDATE TB_RDRECORD		SET   creat_yyyy = SUBSTR('1',1,4)		    , creat_reg_dtime = ('1'||'090000')		    , title = '1'		    , sub_title = '1'		    , record_reg_div_cd = '1'		    , record_detl_type_cd = '1'		    , record_page_cnt = '1'		    , duty_chrgr_nm = '1'		    , erecord_flag = '1'		    , old_record_presv_term = '1'		    , old_record_docno = '1'		    , old_record_creat_org_nm = '1'		    , open_div_cd = '1'		    , open_grade = '1'		    , part_open_rsn = '1'		    , open_limit_part = '1'		    , recver = '1'		    , sender = '1'		    , orign_copy_flag = '1'		    , doc_no = '1'		    , creat_sys_record_id = '1'		    , reg_dtime = ''		    , record_sumry = '1'		    , attach_cnt = '1'		    , record_sno = '1'		    , creat_user_id = '1'		    , creat_user_nm = '1'		    , creat_user_org_cd = '1'		    , creat_user_org_nm = '1'		    , creat_user_pos_rank_nm = '1'		    , creat_dtime = '1'||'090000'		    , secret_clss = '1'		    , secret_term = '1'		    , oper_read_range_cd = '1'		    , audvis_record_type = '1'		    , pic_ymd = '1'		    , pic_area = '1'		    , main_user_nm = '1'			, record_clss_cd = '1'			, prot_yn = '1'			, secret_rels_record_presv_loc = '1'			, secret_resort_rsn = '1'			, secret_resort_type_cd = '1'			, secret_resort_dtime = '1'			, secret_resort_dept_nm = '1'			, secret_resort_pos_rank = '1'			, secret_resort_user_nm = '1'		WHERE  record_center_id = '1'		AND    record_take_seq = '1';


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : delete
-- Query Id : deleteRegTakeRegDclssfyRecord

		DELETE TB_RDRECORD		WHERE record_center_id = '1'		AND   record_take_seq = '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : delete
-- Query Id : deleteRegTakeRegDclssfyRecordKeywd

		DELETE TB_RDSPCLLIST		WHERE  record_center_id = '1'		AND    record_take_seq = '1'		AND    spcl_list_loc = '2'		AND    seq = '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : delete
-- Query Id : deleteRegTakeRegDclssfyRecordCreat

		DELETE TB_RDRECORDCREAT		WHERE  record_center_id = '1'		AND    record_id = '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : update
-- Query Id : updateRegTakeRegDclssfyRecordAttachInfo

		UPDATE TB_RDRECORD A		SET  A.record_size = NVL((SELECT SUM(B.file_size)		                          FROM  TB_RDATTACHFILE B		                          WHERE B.record_center_id = A.record_center_id		                          AND   B.record_take_seq = A.record_take_seq),0)		   , A.attach_cnt  = NVL((SELECT COUNT(1)		                          FROM  TB_RDATTACHFILE B		                          WHERE B.record_center_id = A.record_center_id		                          AND   B.record_take_seq = A.record_take_seq),0)		WHERE A.record_center_id = '1'		AND   A.record_take_seq = '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : update
-- Query Id : updateRegTakeRegDclssfyFolderRecordInfo

		UPDATE TB_RDFOLDER A		SET  A.folder_size = NVL((SELECT SUM(B.record_size)		                          FROM  TB_RDRECORD B		                          WHERE B.record_center_id = A.record_center_id		                          AND   B.folder_id = A.folder_id),0)		    , A.record_tot_page_cnt = NVL((SELECT LPAD(TO_CHAR(SUM(TO_NUMBER(B.record_page_cnt))),6,'0')		                                   FROM  TB_RDRECORD B		                                   WHERE B.record_center_id = A.record_center_id		                                   AND   B.folder_id = A.folder_id),'000000')		    , A.record_reg_cnt = NVL((SELECT LPAD(TO_CHAR(COUNT(1)),6,'0')		                              FROM  TB_RDRECORD B		                              WHERE B.record_center_id = A.record_center_id		                              AND   B.folder_id = A.folder_id),'000000')		    , A.efile_cnt = NVL((SELECT LPAD(TO_CHAR(SUM(B.attach_cnt)),6,'0')		                     FROM  TB_RDRECORD B		                     WHERE B.record_center_id = A.record_center_id		                     AND   B.folder_id = A.folder_id),'000000')			, A.erecord_flag = DECODE((SELECT SUM(DECODE (B.erecord_flag, '1', 1, 0))			                           FROM  TB_RDRECORD B			                           WHERE B.record_center_id = A.record_center_id			                           AND   B.folder_id = A.folder_id),0,'2'									   , DECODE((SELECT SUM(DECODE (B.erecord_flag, '2', 1, 0))				                                 FROM  TB_RDRECORD B				                                 WHERE B.record_center_id = A.record_center_id				                                 AND   B.folder_id = A.folder_id),0,'1','3'))			, secret_rels_record_yn = 'Y'			, folder_keep_state_cd = ''	                                 		WHERE						EXISTS (SELECT 1			FROM  TB_RDRECORD			WHERE record_center_id = '1'			AND   record_take_seq = '1'			AND A.record_center_id = record_center_id			AND A.folder_id = folder_id			)	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : update
-- Query Id : updateRegTakeRegDclssfyFolderRecordInfoAll

		UPDATE TB_RDFOLDER A		SET  A.folder_size = NVL((SELECT SUM(B.record_size)		                          FROM  TB_RDRECORD B		                          WHERE B.record_center_id = A.record_center_id		                          AND   B.folder_id = A.folder_id),0)		    , A.record_tot_page_cnt = NVL((SELECT LPAD(TO_CHAR(SUM(TO_NUMBER(B.record_page_cnt))),6,'0')		                                   FROM  TB_RDRECORD B		                                   WHERE B.record_center_id = A.record_center_id		                                   AND   B.folder_id = A.folder_id),'000000')		    , A.record_reg_cnt = NVL((SELECT LPAD(TO_CHAR(COUNT(1)),6,'0')		                              FROM  TB_RDRECORD B		                              WHERE B.record_center_id = A.record_center_id		                              AND   B.folder_id = A.folder_id),'000000')		    , A.efile_cnt = NVL((SELECT LPAD(TO_CHAR(SUM(B.attach_cnt)),6,'0')		                     FROM  TB_RDRECORD B		                     WHERE B.record_center_id = A.record_center_id		                     AND   B.folder_id = A.folder_id),'000000')			, A.erecord_flag = DECODE((SELECT SUM(DECODE (B.erecord_flag, '1', 1, 0))			                           FROM  TB_RDRECORD B			                           WHERE B.record_center_id = A.record_center_id			                           AND   B.folder_id = A.folder_id),0,'2'									   , DECODE((SELECT SUM(DECODE (B.erecord_flag, '2', 1, 0))				                                 FROM  TB_RDRECORD B				                                 WHERE B.record_center_id = A.record_center_id				                                 AND   B.folder_id = A.folder_id),0,'1','3'))		WHERE A.record_center_id = '1'		AND   A.folder_id = '1'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : update
-- Query Id : updateRegTakeRegDclssfyFolderVaccineCommitList

		UPDATE TB_RDFOLDER		SET   virus_flag = '0'		    , virus_dtime = TO_CHAR(sys_datetime,'YYYYMMDDHH24MISS')		WHERE record_center_id = '1'		AND   folder_id = '1'				;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : update
-- Query Id : updateRegTakeRegDclssfyFolderFinList

		UPDATE TB_RDFOLDER		SET   folder_keep_state_cd = '01'		WHERE record_center_id = '1'		AND   folder_id = '1';


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : select
-- Query Id : findRegTakeRegDclssfyRecordAttachFileMain

		SELECT A.record_center_id		     , A.record_take_seq		     , A.attach_file_type		     , A.reg_seq		     , A.doc_type_cd		     , A.file_nm		     , '' AS attach_file_path		FROM  TB_RDATTACHFILE A		WHERE A.record_center_id = '1'		AND   A.record_take_seq = '1'		AND   A.doc_type_cd = '01'	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : select
-- Query Id : findRegTakeRegDclssfyRecordAttachFileSub

		SELECT A.record_center_id		     , A.record_take_seq		     , A.attach_file_type		     , A.reg_seq		     , A.doc_type_cd		     , A.file_nm		     , '' AS attach_file_path		FROM  TB_RDATTACHFILE A		WHERE A.record_center_id = '1'		AND   A.record_take_seq = '1'		AND   A.doc_type_cd = '02'		ORDER BY A.reg_seq;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : select
-- Query Id : findDclssfyAttachFileYn

		SELECT COUNT(1) 		FROM TB_RDATTACHFILE Z		WHERE 		EXISTS (			SELECT 1			FROM TB_RDRECORD 			WHERE record_center_id = '1' 			AND folder_id = '1'                        AND record_center_id = Z.record_center_id                        AND record_take_seq = Z.record_take_seq		   )	;


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : select
-- Query Id : findRegTakeBatchRegDclssfyRecordErrorXls

		SELECT file_nm			, file_key		FROM TB_ZZREQEXCELLIST		WHERE REQ_USER_ID = '1'		AND REQ_MENU_ID = '1'		AND REQ_INDEX = '1';


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
-- Query    : insert
-- Query Id : createRegTakeBatchRegDclssfyRecord

   		INSERT INTO TB_RDRECORD		(			record_center_id, record_id, record_take_seq, folder_id, take_yyyy, take_yyyy_sno			, clss_div_cd, clss_id, clss_nm, creat_sys_cd, org_cd			, creat_yyyy, creat_reg_dtime, org_title, title, sub_title, record_reg_div_cd			, record_detl_type_cd, record_size, record_page_cnt, duty_chrgr_nm, erecord_flag			, old_record_presv_term, open_div_cd, open_grade, part_open_rsn, open_limit_part			, recver, sender, folder_clss_no, spcl_record_type, orign_copy_flag			, new_div_cd, chng_flag, rjct_flag, doc_no, creat_sys_record_id			, reg_dtime, record_sumry, creat_reg_no			, dtch_reg_no, attach_cnt, record_sno, creat_user_id			, creat_user_nm, creat_user_org_cd, creat_user_org_nm, creat_user_pos_rank_nm, creat_dtime			, secret_clss, secret_term, oper_read_range_cd, audvis_record_type, pic_ymd			, pic_area, main_user_nm, old_record_docno, old_record_creat_org_nm, record_clss_cd			, secret_resort_type_cd, secret_resort_dtime, secret_resort_rsn, secret_resort_dept_nm			, secret_resort_pos_rank, secret_resort_user_nm, secret_rels_record_presv_loc, prot_yn, secret_record_yn					)		(			SELECT '1', TO_CHAR(SYSDATE,'YYYY')||LPAD((TB_RDRECORD_SQ01.nextval), 10, '0'), '1', folder_id, take_yyyy, take_yyyy_sno			, clss_div_cd, clss_id, clss_nm, '1', (SELECT org_cd FROM TB_RDFOLDER WHERE record_center_id='1' AND folder_id='1')			, SUBSTR('1',1,4), ('1'||'090000'), '1', '1', '1', '1'			, '1', '1', '1', '1', '1'			, '1', '1', '1', '1', '1'			, '1', '1', (SELECT org_cd||clss_id||creat_yyyy||folder_reg_seq||ho_no FROM TB_RDFOLDER WHERE record_center_id='1' AND folder_id='1'), '1', '1'			, '1', '1', '1', '1', '1'			, '', '1', LPAD(NVL((SELECT MAX(TO_NUMBER(NVL(C.creat_reg_no,0))) FROM TB_RDRECORD C WHERE C.record_center_id = '1' AND   C.creat_sys_cd = '1' AND   C.org_cd = (SELECT org_cd FROM TB_RDFOLDER WHERE record_center_id='1' AND folder_id='1') AND C.creat_yyyy = SUBSTR('1',1,4)),0)+ROWNUM,13,'0')			, '1', '1', '1', '1'			, '1', '1', '1', '1', '1'||'090000'			, '1', '1', '1', '1', '1'			, '1', '1', '1', '1', '1'			, '1', '1', '1', '1'			, '1', '1', '1', '1', 'Y'	      FROM TB_RDFOLDER 	      WHERE RECORD_CENTER_ID = '1' 	      AND FOLDER_ID = '1'									)			;


-- File Close : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid\rms\default\rms\take\regTake\RegTake.xml
