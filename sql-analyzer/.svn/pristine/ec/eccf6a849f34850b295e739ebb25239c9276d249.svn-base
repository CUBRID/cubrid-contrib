Read(log) : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid_daemon\rmsPresvFormat\conf\sqlMap\sql\sqlMap-FolderSchema.xml

SelectArrManagementHistoryCon
Syntax: invalid use of cast
  CAST ( expression AS data_type ) [CAS INFO-127.0.0.1:54330,1,14011],[SESSION-54],[URL-jdbc:cubrid:127.0.0.1:54330:rms:dba:********:].


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid_daemon\rmsPresvFormat\conf\sqlMap\sql\sqlMap-FolderSchema.xml
-- Query    : select
-- Query Id : SelectArrManagementHistoryCon

		SELECT F.EVENT_TYPE, F.EVENT_DESCRIPTION		     , F.EVENT_DATE_TIME		     , F.EVENT_CORPORATE_NAME		     , F.EVENT_CORPORATE_CODE, F.EVENT_SECTION_NAME, F.EVENT_SECTION_CODE		     , F.EVENT_PERSON_NAME, F.EVENT_PERSION_CODE, F.EVENT_POSITION_NAME, F.EVENT_POSITION_CODE		     , F.CHANGED_ELEMENT_NAME_1, F.CHANGED_ELEMENT_VALUE_1, F.CHANGED_ELEMENT_NAME_2, F.CHANGED_ELEMENT_VALUE_2		FROM (		    (		        SELECT P.EVENT_TYPE, P.EVENT_DESCRIPTION				     , NVL(P.EVENT_DATE_TIME, CASE WHEN P.CREAT_SYS_CD='02' OR P.CREAT_SYS_CD='06' THEN TO_DATE('99991231235959', 'YYYYMMDDHH24MISS') ELSE P.EVENT_DATE_TIME END) as EVENT_DATE_TIME				     , NVL(P.EVENT_CORPORATE_NAME, CASE WHEN P.CREAT_SYS_CD='02' OR P.CREAT_SYS_CD='06' THEN '기관명없음' ELSE P.EVENT_CORPORATE_NAME END) as EVENT_CORPORATE_NAME				     , P.EVENT_CORPORATE_CODE, P.EVENT_SECTION_NAME, P.EVENT_SECTION_CODE				     , P.EVENT_PERSON_NAME, P.EVENT_PERSION_CODE, P.EVENT_POSITION_NAME, P.EVENT_POSITION_CODE				     , P.CHANGED_ELEMENT_NAME_1, P.CHANGED_ELEMENT_VALUE_1, P.CHANGED_ELEMENT_NAME_2, P.CHANGED_ELEMENT_VALUE_2				  FROM				  (				       SELECT (CASE WHEN A.TAKE_TAKOVR_DIV_CD='1' THEN '생산기관간 인수'				                    WHEN A.TAKE_TAKOVR_DIV_CD='2' THEN '생산기관간 인계' END) AS EVENT_TYPE				           , '' AS EVENT_DESCRIPTION						   							, cast(A.TAKE_TAKOVR_CREAT_DTIME AS datetime) AS EVENT_DATE_TIME													   				           , (SELECT (SELECT Y.FULL_ORG_NM FROM TB_STORG Y WHERE Y.RECORD_CENTER_ID=Z.RECORD_CENTER_ID AND Y.ORG_CD=Z.HUPPER_ORG_CD) FROM TB_STORG Z WHERE Z.RECORD_CENTER_ID=A.RECORD_CENTER_ID AND Z.ORG_CD=A.TAKE_TAKOVR_ORG_CD) AS EVENT_CORPORATE_NAME				           , (SELECT Z.HUPPER_ORG_CD FROM TB_STORG Z WHERE Z.RECORD_CENTER_ID=A.RECORD_CENTER_ID AND Z.ORG_CD=A.TAKE_TAKOVR_ORG_CD) AS EVENT_CORPORATE_CODE				           , (SELECT Z.FULL_ORG_NM FROM TB_STORG Z WHERE Z.RECORD_CENTER_ID=A.RECORD_CENTER_ID AND Z.ORG_CD=A.TAKE_TAKOVR_ORG_CD) AS EVENT_SECTION_NAME				           , A.TAKE_TAKOVR_ORG_CD AS EVENT_SECTION_CODE				           , '' AS EVENT_PERSON_NAME				           , '' AS EVENT_PERSION_CODE				           , '' AS EVENT_POSITION_NAME				           , '' AS EVENT_POSITION_CODE				           , '생산부서' AS CHANGED_ELEMENT_NAME_1				           , A.TAKE_TAKOVR_ORG_CD AS CHANGED_ELEMENT_VALUE_1				           , '' AS CHANGED_ELEMENT_NAME_2				           , '' AS CHANGED_ELEMENT_VALUE_2				           , B.CREAT_SYS_CD				       FROM  TB_RDFOLDERTAKETAKOVR A, TB_RDFOLDER B				       WHERE A.RECORD_CENTER_ID = '1'				       AND   A.FOLDER_ID = '1'				       AND   A.TAKE_TAKOVR_DIV_CD IN ('1','2')				       AND   A.TAKE_MNG_NO IS NOT NULL				       AND   A.FOLDER_ID = B.FOLDER_ID				       AND   A.RECORD_CENTER_ID = B.RECORD_CENTER_ID				   ) P		    )		    UNION ALL		    (		        SELECT (CASE WHEN REVIEW_OPIN='1' THEN '폐기' WHEN REVIEW_OPIN='2' THEN '보류' WHEN REVIEW_OPIN='3' THEN '보존기간재책정' END) AS EVENT_TYPE		            , A.REVIEW_RSN AS EVENT_DESCRIPTION										, TO_DATETIME(A.REVIEW_YMD||'000000', 'YYYYMMDDHH24MISS') AS EVENT_DATE_TIME												            , (SELECT (SELECT Y.FULL_ORG_NM FROM TB_STORG Y WHERE Y.RECORD_CENTER_ID=Z.RECORD_CENTER_ID AND Y.ORG_CD=Z.HUPPER_ORG_CD) FROM TB_STORG Z, TB_STUSER U WHERE Z.RECORD_CENTER_ID=U.RECORD_CENTER_ID AND Z.ORG_CD=U.DEPT_CD AND U.USER_ID=A.RECORD_CHRGR_ID) AS EVENT_CORPORATE_NAME		            , (SELECT Z.HUPPER_ORG_CD FROM TB_STORG Z, TB_STUSER U WHERE Z.RECORD_CENTER_ID=U.RECORD_CENTER_ID AND Z.ORG_CD=U.DEPT_CD AND U.USER_ID=A.RECORD_CHRGR_ID) AS EVENT_CORPORATE_CODE		            , (SELECT O.FULL_ORG_NM FROM TB_STORG O, TB_STUSER U WHERE O.RECORD_CENTER_ID=U.RECORD_CENTER_ID AND O.ORG_CD=U.DEPT_CD AND U.USER_ID=A.RECORD_CHRGR_ID) AS EVENT_SECTION_NAME		            , (SELECT U.DEPT_CD FROM TB_STUSER U WHERE U.USER_ID=A.RECORD_CHRGR_ID) AS EVENT_SECTION_CODE		            , (SELECT U.USER_NM FROM TB_STUSER U WHERE U.USER_ID=A.RECORD_CHRGR_ID) AS EVENT_PERSON_NAME		            , A.RECORD_CHRGR_ID AS EVENT_PERSION_CODE		            , (SELECT (CASE WHEN (LENGTH(U.POS)!=0 AND LENGTH(U.RANK)!=0) THEN U.POS||','||U.RANK ELSE U.POS||U.RANK END) FROM TB_STUSER U WHERE U.USER_ID=A.RECORD_CHRGR_ID) AS EVENT_POSITION_NAME		            , '' AS EVENT_POSITION_CODE		            , '보존기간' AS CHANGED_ELEMENT_NAME_1		            , (CASE WHEN REVIEW_OPIN='3' THEN A.CUR_PRESV_TERM_CD END) AS CHANGED_ELEMENT_VALUE_1		            , '보존기간책정근거' AS CHANGED_ELEMENT_NAME_2		            , (CASE WHEN REVIEW_OPIN='3' THEN A.REVIEW_RSN END) AS CHANGED_ELEMENT_VALUE_2		        FROM  TB_DFDISUSEOPINHIST A, TB_RDFOLDER B		        WHERE A.RECORD_CENTER_ID = '1'		        AND   A.FOLDER_ID = '1'		        AND   A.REVIEW_OPIN IN ('1','2','3')		        AND   A.FOLDER_ID = B.FOLDER_ID		    )		    UNION ALL		    (				SELECT '기록관에서 인수' AS EVENT_TYPE,				       '' AS EVENT_DESCRIPTION,					   					   					   cast( ###'1'RECORD_CENTER_ID:VARCHAR'1'FOLDER_ID:VARCHAR'1'RECORD_CENTER_ID:VARCHAR'1'FOLDER_ID:VARCHAR'1'RECORD_CENTER_ID:VARCHAR'1'FOLDER_ID:VARCHAR#		    )		) F		ORDER BY F.EVENT_DATE_TIME	;

SelectArrPreservationHistoryCon
Syntax: before ' )															FROM TB_RDRECORD Z, TB_STORIGNFILE Y WHERE Z....'
Only one column can be specified in the select list when the subquery is not introduced with EXISTS. [CAS INFO-127.0.0.1:54330,1,14011],[SESSION-54],[URL-jdbc:cubrid:127.0.0.1:54330:rms:dba:********:].


-- Filename : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid_daemon\rmsPresvFormat\conf\sqlMap\sql\sqlMap-FolderSchema.xml
-- Query    : select
-- Query Id : SelectArrPreservationHistoryCon

		SELECT F.ACTION_TYPE, F.ACTION_DESCRIPTION, F.ACTION_DATE_TIME		    , F.ACTION_CORPORATE_NAME, F.ACTION_CORPORATE_CODE, F.ACTION_SECTION_NAME, F.ACTION_SECTION_CODE		    , F.ACTION_PERSON_NAME, F.ACTION_PERSION_CODE, F.ACTION_POSITION_NAME, F.ACTION_POSITION_CODE		FROM (		    (		        SELECT '매체수록(광디스크)' AS ACTION_TYPE		            , '' AS ACTION_DESCRIPTION										, TO_DATETIME(B.CHK_YMD||'000000', 'YYYYMMDDHH24MISS') AS ACTION_DATE_TIME												            , (SELECT (SELECT Y.FULL_ORG_NM FROM TB_STORG Y WHERE Y.RECORD_CENTER_ID=Z.RECORD_CENTER_ID AND Y.ORG_CD=Z.HUPPER_ORG_CD) FROM TB_STORG Z, TB_STUSER U WHERE Z.RECORD_CENTER_ID=U.RECORD_CENTER_ID AND Z.ORG_CD=U.DEPT_CD AND U.USER_ID=B.CHK_USER_ID) AS ACTION_CORPORATE_NAME		            , (SELECT Z.HUPPER_ORG_CD FROM TB_STORG Z, TB_STUSER U WHERE Z.RECORD_CENTER_ID=U.RECORD_CENTER_ID AND Z.ORG_CD=U.DEPT_CD AND U.USER_ID=B.CHK_USER_ID) AS ACTION_CORPORATE_CODE		            , (SELECT O.FULL_ORG_NM FROM TB_STORG O, TB_STUSER U WHERE O.RECORD_CENTER_ID=U.RECORD_CENTER_ID AND O.ORG_CD=U.DEPT_CD AND U.USER_ID=B.CHK_USER_ID) AS ACTION_SECTION_NAME		            , (SELECT U.DEPT_CD FROM TB_STUSER U WHERE U.USER_ID=B.CHK_USER_ID) AS ACTION_SECTION_CODE		            , (SELECT U.USER_NM FROM TB_STUSER U WHERE U.USER_ID=B.CHK_USER_ID) AS ACTION_PERSON_NAME		            , B.CHK_USER_ID AS ACTION_PERSION_CODE		            , (SELECT (CASE WHEN (LENGTH(U.POS)!=0 AND LENGTH(U.RANK)!=0) THEN U.POS||','||U.RANK ELSE U.POS||U.RANK END) FROM TB_STUSER U WHERE U.USER_ID=B.CHK_USER_ID) AS ACTION_POSITION_NAME		            , '' AS ACTION_POSITION_CODE		        FROM  (SELECT * FROM TB_SROPTIDISK_FLD WHERE FOLDER_ID = '1') A		            , (SELECT * FROM TB_SROPTIDISK_MST WHERE CHK_YMD IS NOT NULL) B		        WHERE B.RECORD_CENTER_ID = A.RECORD_CENTER_ID		        AND   B.ORG_CD = A.ORG_CD		        AND   B.SEQ = A.SEQ		    )		    UNION ALL		    (		        SELECT DISTINCT '매체수록(M/F)' AS ACTION_TYPE		            , '' AS ACTION_DESCRIPTION										, (SELECT TO_DATETIME(Z.PIC_REG_YMD||'000000', 'YYYYMMDDHH24MISS')															FROM TB_SRMFPIC Z WHERE Z.RECORD_CENTER_ID=B.RECORD_CENTER_ID AND Z.PIC_SNO=B.PIC_SNO) AS ACTION_DATE_TIME		            , ' ' AS ACTION_CORPORATE_NAME		            , ' ' AS ACTION_CORPORATE_CODE		            , '' AS ACTION_SECTION_NAME		            , '' AS ACTION_SECTION_CODE		            , (SELECT Z.PIC_USER_NM FROM TB_SRMFPIC Z WHERE Z.RECORD_CENTER_ID=B.RECORD_CENTER_ID AND Z.PIC_SNO=B.PIC_SNO) AS ACTION_PERSON_NAME		            , '' AS ACTION_PERSION_CODE		            , '' AS ACTION_POSITION_NAME		            , '' AS ACTION_POSITION_CODE		        FROM  TB_RDFOLDER A		            , TB_SRMFPICDETL B		        WHERE A.FOLDER_ID = '1'		        AND   A.MF_PIC_STATE_CD = '3'		        AND   A.FOLDER_ID = B.FOLDER_ID		        AND   A.RECORD_CENTER_ID = B.RECORD_CENTER_ID		        AND   EXISTS (SELECT 1 FROM TB_SRMFPIC Z WHERE Z.RECORD_CENTER_ID=B.RECORD_CENTER_ID AND Z.PIC_SNO=B.PIC_SNO AND Z.PIC_REG_YMD IS NOT NULL)		    )		    UNION ALL		    (		        SELECT '매체수록(아카이빙 스토리지)' AS ACTION_TYPE		            , '' AS ACTION_DESCRIPTION					, (SELECT cast(MAX(Y.REG_DTIME) AS datetime), 'YYYYMMDDHH24MISS')															FROM TB_RDRECORD Z, TB_STORIGNFILE Y WHERE Z.RECORD_CENTER_ID=A.RECORD_CENTER_ID AND Z.FOLDER_ID=A.FOLDER_ID AND Y.RECORD_CENTER_ID=Z.RECORD_CENTER_ID AND Y.ORIGN_ID=Z.ORIGN_ID AND Y.DOC_TYPE_CD IN ('10','S1')) AS ACTION_DATE_TIME		            , ' ' AS ACTION_CORPORATE_NAME		            , ' ' AS ACTION_CORPORATE_CODE		            , '' AS ACTION_SECTION_NAME		            , '' AS ACTION_SECTION_CODE		            , '' AS ACTION_PERSON_NAME		            , '' AS ACTION_PERSION_CODE		            , '' AS ACTION_POSITION_NAME		            , '' AS ACTION_POSITION_CODE		        FROM  TB_RDFOLDER A		        WHERE A.FOLDER_ID = '1'		        AND   EXISTS (SELECT 1 FROM TB_RDRECORD Z, TB_STORIGNFILE Y, TB_STMEDIUM X WHERE Z.RECORD_CENTER_ID=A.RECORD_CENTER_ID AND Z.FOLDER_ID=A.FOLDER_ID AND Y.RECORD_CENTER_ID=Z.RECORD_CENTER_ID AND Y.ORIGN_ID=Z.ORIGN_ID AND Y.DOC_TYPE_CD IN ('10','S1') AND Y.RECORD_CENTER_ID=X.RECORD_CENTER_ID AND X.MEDIUM_ID=Y.MEDIUM_ID AND X.MEDIUM_CD='02')		    )		    UNION ALL		    (				SELECT '바이러스검출' AS ACTION_TYPE,				       TRIM(TO_CHAR(ACTION_DESCRIPTION,'9,999,999')) || '건 검출' AS ACTION_DESCRIPTION,				       ACTION_DATE_TIME,				       ACTION_CORPORATE_NAME,				       ACTION_CORPORATE_CODE,				       ACTION_SECTION_NAME,				       ACTION_SECTION_CODE,				       ACTION_PERSON_NAME,				       ACTION_PERSION_CODE,				       ACTION_POSITION_NAME,				       '' AS ACTION_POSITION_CODE				  FROM				  (						SELECT COUNT(1) AS ACTION_DESCRIPTION,								MAX(cast(VIRUS_INFECTION_DTIME AS datetime)) AS ACTION_DATE_TIME,															   						       MAX(ACTION_CORPORATE_NAME) AS ACTION_CORPORATE_NAME,						       MAX(ACTION_CORPORATE_CODE) AS ACTION_CORPORATE_CODE,						       MAX(ACTION_SECTION_NAME) AS ACTION_SECTION_NAME,						       MAX(ACTION_SECTION_CODE) AS ACTION_SECTION_CODE,						       MAX(ACTION_PERSON_NAME) AS ACTION_PERSON_NAME,						       MAX(ACTION_PERSION_CODE) AS ACTION_PERSION_CODE,						       MAX(ACTION_POSITION_NAME) AS ACTION_POSITION_NAME						  FROM						  (								SELECT RECORD_CENTER_ID,								       RECORD_ID,								       MAX(VIRUS_INFECTION_DTIME) AS VIRUS_INFECTION_DTIME,								       MAX(REQUEST_CORP_NM) AS ACTION_CORPORATE_NAME,								       MAX(REQUEST_CORP_CD) AS ACTION_CORPORATE_CODE,								       MAX(REQUEST_ORG_NM) AS ACTION_SECTION_NAME,								       MAX(REQUEST_ORG_CD) AS ACTION_SECTION_CODE,								       MAX(REQUEST_USER_NM) AS ACTION_PERSON_NAME,								       MAX(REQUEST_USER_ID) AS ACTION_PERSION_CODE,								       MAX(REQUEST_USER_POS_RANK_NM) AS ACTION_POSITION_NAME								  FROM								  (										SELECT B.RECORD_CENTER_ID,										       B.RECORD_ID,										       C.VIRUS_INFECTION_DTIME,										       C.REQUEST_CORP_NM,										       C.REQUEST_CORP_CD,										       C.REQUEST_ORG_NM,										       C.REQUEST_ORG_CD,										       C.REQUEST_USER_NM,										       C.REQUEST_USER_ID,										       C.REQUEST_USER_POS_RANK_NM										  FROM TB_RDFOLDER A,										       TB_RDRECORD B,										       TB_TKVIRUSCHECK C										 WHERE A.RECORD_CENTER_ID = B.RECORD_CENTER_ID										   AND A.FOLDER_ID = B.FOLDER_ID										   AND B.RECORD_CENTER_ID = C.RECORD_CENTER_ID										   AND B.RECORD_TAKE_SEQ = C.RECORD_TAKE_SEQ										   AND A.RECORD_CENTER_ID = '1'										   AND A.FOLDER_ID = '1'										   AND C.VIRUS_CHECK_FLAG = '1'										   AND C.VIRUS_INFECTION_FLAG = '1'										UNION ALL										SELECT B.RECORD_CENTER_ID,										       B.RECORD_ID,										       D.VIRUS_INFECTION_DTIME,										       D.REQUEST_CORP_NM,										       D.REQUEST_CORP_CD,										       D.REQUEST_ORG_NM,										       D.REQUEST_ORG_CD,										       D.REQUEST_USER_NM,										       D.REQUEST_USER_ID,										       D.REQUEST_USER_POS_RANK_NM										  FROM TB_RDFOLDER A,										       TB_RDRECORD B,										       TB_STORIGNFILE C,										       TB_STORIGNVIRUSCHK D										 WHERE A.RECORD_CENTER_ID = B.RECORD_CENTER_ID										   AND A.FOLDER_ID = B.FOLDER_ID										   AND B.RECORD_CENTER_ID = C.RECORD_CENTER_ID										   AND B.ORIGN_ID = C.ORIGN_ID										   AND C.ORIGN_FILE_ID = D.FILE_ID										   AND A.RECORD_CENTER_ID = '1'										   AND A.FOLDER_ID = '1'										   AND D.FILE_TYPE = 'OF'										   AND D.VIRUS_CHECK_FLAG = '1'										   AND D.VIRUS_INFECTION_FLAG = '1'										UNION ALL										SELECT B.RECORD_CENTER_ID,										       B.RECORD_ID,										       E.VIRUS_INFECTION_DTIME,										       E.REQUEST_CORP_NM,										       E.REQUEST_CORP_CD,										       E.REQUEST_ORG_NM,										       E.REQUEST_ORG_CD,										       E.REQUEST_USER_NM,										       E.REQUEST_USER_ID,										       E.REQUEST_USER_POS_RANK_NM										  FROM TB_RDFOLDER A,										       TB_RDRECORD B,										       TB_STORIGNFILE C,										       TB_STORIGNPDFA1FILE D,										       TB_STORIGNVIRUSCHK E										 WHERE A.RECORD_CENTER_ID = B.RECORD_CENTER_ID										   AND A.FOLDER_ID = B.FOLDER_ID										   AND B.RECORD_CENTER_ID = C.RECORD_CENTER_ID										   AND B.ORIGN_ID = C.ORIGN_ID										   AND C.RECORD_CENTER_ID = D.RECORD_CENTER_ID										   AND C.ORIGN_ID = D.ORIGN_ID										   AND C.DOC_TYPE_CD = D.DOC_TYPE_CD										   AND C.DOC_TYPE_SNO = D.DOC_TYPE_SNO										   AND D.PDF_A1_FILE_ID = E.FILE_ID										   AND A.RECORD_CENTER_ID = '1'										   AND A.FOLDER_ID = '1'										   AND E.FILE_TYPE = 'PF'										   AND E.VIRUS_CHECK_FLAG = '1'										   AND E.VIRUS_INFECTION_FLAG = '1'								   )								GROUP BY RECORD_CENTER_ID, RECORD_ID						   )				   )				 WHERE ACTION_DESCRIPTION <> 0		    )		    UNION ALL		    (				SELECT '바이러스치료' AS ACTION_TYPE,				       TRIM(TO_CHAR(ACTION_DESCRIPTION,'9,999,999')) || '건 치료' AS ACTION_DESCRIPTION,				       ACTION_DATE_TIME,				       ACTION_CORPORATE_NAME,				       ACTION_CORPORATE_CODE,				       ACTION_SECTION_NAME,				       ACTION_SECTION_CODE,				       ACTION_PERSON_NAME,				       ACTION_PERSION_CODE,				       ACTION_POSITION_NAME,				       '' AS ACTION_POSITION_CODE				  FROM				  (						SELECT COUNT(1) AS ACTION_DESCRIPTION,								MAX(cast(VIRUS_CLEAN_APPLY_DTIME AS datetime)) AS ACTION_DATE_TIME,																					   						       MAX(ACTION_CORPORATE_NAME) AS ACTION_CORPORATE_NAME,						       MAX(ACTION_CORPORATE_CODE) AS ACTION_CORPORATE_CODE,						       MAX(ACTION_SECTION_NAME) AS ACTION_SECTION_NAME,						       MAX(ACTION_SECTION_CODE) AS ACTION_SECTION_CODE,						       MAX(ACTION_PERSON_NAME) AS ACTION_PERSON_NAME,						       MAX(ACTION_PERSION_CODE) AS ACTION_PERSION_CODE,						       MAX(ACTION_POSITION_NAME) AS ACTION_POSITION_NAME						  FROM						  (								SELECT RECORD_CENTER_ID,								       RECORD_ID,								       MAX(VIRUS_CLEAN_APPLY_DTIME) AS VIRUS_CLEAN_APPLY_DTIME,								       MAX(REQUEST_CORP_NM) AS ACTION_CORPORATE_NAME,								       MAX(REQUEST_CORP_CD) AS ACTION_CORPORATE_CODE,								       MAX(REQUEST_ORG_NM) AS ACTION_SECTION_NAME,								       MAX(REQUEST_ORG_CD) AS ACTION_SECTION_CODE,								       MAX(REQUEST_USER_NM) AS ACTION_PERSON_NAME,								       MAX(REQUEST_USER_ID) AS ACTION_PERSION_CODE,								       MAX(REQUEST_USER_POS_RANK_NM) AS ACTION_POSITION_NAME								  FROM								  (										SELECT A.RECORD_CENTER_ID,										       A.RECORD_ID,										       B.VIRUS_CLEAN_APPLY_DTIME,										       B.REQUEST_CORP_NM,										       B.REQUEST_CORP_CD,										       B.REQUEST_ORG_NM,										       B.REQUEST_ORG_CD,										       B.REQUEST_USER_NM,										       B.REQUEST_USER_ID,										       B.REQUEST_USER_POS_RANK_NM										  FROM TB_RDRECORD A,										       TB_TKVIRUSCHECK B										 WHERE A.RECORD_CENTER_ID = B.RECORD_CENTER_ID										   AND A.RECORD_TAKE_SEQ = B.RECORD_TAKE_SEQ										   AND A.RECORD_CENTER_ID = '1'										   AND A.FOLDER_ID = '1'										   AND B.VIRUS_CHECK_FLAG = '1'										   AND B.VIRUS_CLEAN_APPLY_FLAG = '1'										UNION ALL										SELECT B.RECORD_CENTER_ID,										       B.RECORD_ID,										       D.VIRUS_CLEAN_APPLY_DTIME,										       D.REQUEST_CORP_NM,										       D.REQUEST_CORP_CD,										       D.REQUEST_ORG_NM,										       D.REQUEST_ORG_CD,										       D.REQUEST_USER_NM,										       D.REQUEST_USER_ID,										       D.REQUEST_USER_POS_RANK_NM										  FROM TB_RDFOLDER A,										       TB_RDRECORD B,										       TB_STORIGNFILE C,										       TB_STORIGNVIRUSCHK D										 WHERE A.RECORD_CENTER_ID = B.RECORD_CENTER_ID										   AND A.FOLDER_ID = B.FOLDER_ID										   AND B.RECORD_CENTER_ID = C.RECORD_CENTER_ID										   AND B.ORIGN_ID = C.ORIGN_ID										   AND C.ORIGN_FILE_ID = D.FILE_ID										   AND A.RECORD_CENTER_ID = '1'										   AND A.FOLDER_ID = '1'										   AND D.FILE_TYPE = 'OF'										   AND D.VIRUS_CHECK_FLAG = '1'										   AND D.VIRUS_CLEAN_APPLY_FLAG = '1'										UNION ALL										SELECT B.RECORD_CENTER_ID,										       B.RECORD_ID,										       E.VIRUS_CLEAN_APPLY_DTIME,										       E.REQUEST_CORP_NM,										       E.REQUEST_CORP_CD,										       E.REQUEST_ORG_NM,										       E.REQUEST_ORG_CD,										       E.REQUEST_USER_NM,										       E.REQUEST_USER_ID,										       E.REQUEST_USER_POS_RANK_NM										  FROM TB_RDFOLDER A,										       TB_RDRECORD B,										       TB_STORIGNFILE C,										       TB_STORIGNPDFA1FILE D,										       TB_STORIGNVIRUSCHK E										 WHERE A.RECORD_CENTER_ID = B.RECORD_CENTER_ID										   AND A.FOLDER_ID = B.FOLDER_ID										   AND B.RECORD_CENTER_ID = C.RECORD_CENTER_ID										   AND B.ORIGN_ID = C.ORIGN_ID										   AND C.RECORD_CENTER_ID = D.RECORD_CENTER_ID										   AND C.ORIGN_ID = D.ORIGN_ID										   AND C.DOC_TYPE_CD = D.DOC_TYPE_CD										   AND C.DOC_TYPE_SNO = D.DOC_TYPE_SNO										   AND D.PDF_A1_FILE_ID = E.FILE_ID										   AND A.RECORD_CENTER_ID = '1'										   AND A.FOLDER_ID = '1'										   AND E.FILE_TYPE = 'PF'										   AND E.VIRUS_CHECK_FLAG = '1'										   AND E.VIRUS_CLEAN_APPLY_FLAG = '1'								   )								GROUP BY RECORD_CENTER_ID, RECORD_ID						   )				   )				 WHERE ACTION_DESCRIPTION <> 0		    )		    UNION ALL		    (				SELECT ACTION_TYPE,				       ACTION_DESCRIPTION,				       ACTION_DATE_TIME,				       ACTION_CORPORATE_NAME,				       ACTION_CORPORATE_CODE,				       ACTION_SECTION_NAME,				       ACTION_SECTION_CODE,				       ACTION_PERSON_NAME,				       ACTION_PERSION_CODE,				       ACTION_POSITION_NAME,				       ACTION_POSITION_CODE				  FROM				  (						SELECT '훼손사항' AS ACTION_TYPE,						       COUNT(1) AS CNT,						       TRIM(TO_CHAR(COUNT(1),'9,999,999')) || '건 훼손'  AS ACTION_DESCRIPTION,								MAX(cast(C.REG_DTIME AS datetime)) AS ACTION_DATE_TIME,															   						       MAX(C.REQUEST_CORP_NM) AS ACTION_CORPORATE_NAME,						       MAX(C.REQUEST_CORP_CD) AS ACTION_CORPORATE_CODE,						       MAX(C.REQUEST_ORG_NM) AS ACTION_SECTION_NAME,						       MAX(C.REQUEST_ORG_CD) AS ACTION_SECTION_CODE,						       MAX(C.REQUEST_USER_NM) AS ACTION_PERSON_NAME,						       MAX(C.REQUEST_USER_ID) AS ACTION_PERSION_CODE,						       MAX(C.REQUEST_USER_POS_RANK_NM) AS ACTION_POSITION_NAME,						       '' AS ACTION_POSITION_CODE						  FROM TB_RDFOLDER A,						       TB_RDRECORD B,						       TB_RDRECORD_RESTORE C						 WHERE A.RECORD_CENTER_ID = B.RECORD_CENTER_ID						   AND A.FOLDER_ID = B.FOLDER_ID						   AND B.RECORD_CENTER_ID = C.RECORD_CENTER_ID						   AND B.RECORD_ID = C.RECORD_ID						   AND A.RECORD_CENTER_ID = '1'						   AND A.FOLDER_ID = '1'						   AND C.DAMG_FLAG = '1'						UNION ALL						SELECT '복원' AS ACTION_TYPE,						       COUNT(1) AS CNT,						       TRIM(TO_CHAR(COUNT(1),'9,999,999')) || '건 복원' AS ACTION_DESCRIPTION,							   								MAX(TO_DATETIME(C.RESTR_HANDL_YMD||'000000', 'YYYYMMDDHH24MISS')) AS ACTION_DATE_TIME,															   						       MAX(C.REQUEST_CORP_NM) AS ACTION_CORPORATE_NAME,						       MAX(C.REQUEST_CORP_CD) AS ACTION_CORPORATE_CODE,						       MAX(C.REQUEST_ORG_NM) AS ACTION_SECTION_NAME,						       MAX(C.REQUEST_ORG_CD) AS ACTION_SECTION_CODE,						       MAX(C.REQUEST_USER_NM) AS ACTION_PERSON_NAME,						       MAX(C.REQUEST_USER_ID) AS ACTION_PERSION_CODE,						       MAX(C.REQUEST_USER_POS_RANK_NM) AS ACTION_POSITION_NAME,						       '' AS ACTION_POSITION_CODE						  FROM TB_RDFOLDER A,						       TB_RDRECORD B,						       TB_RDRECORD_RESTORE C						 WHERE A.RECORD_CENTER_ID = B.RECORD_CENTER_ID						   AND A.FOLDER_ID = B.FOLDER_ID						   AND B.RECORD_CENTER_ID = C.RECORD_CENTER_ID						   AND B.RECORD_ID = C.RECORD_ID						   AND A.RECORD_CENTER_ID = '1'						   AND A.FOLDER_ID = '1'						   AND C.RESTR_HANDL_YMD IS NOT NULL				   )				 WHERE CNT <> 0		    )		    UNION ALL		    (		        SELECT '보존포맷변환' AS ACTION_TYPE		            , '' AS ACTION_DESCRIPTION					, cast(A.TRANS_FIN_DTIME AS datetime) AS ACTION_DATE_TIME												            , B.REQUEST_CORP_NM AS ACTION_CORPORATE_NAME		            , B.REQUEST_CORP_CD AS ACTION_CORPORATE_CODE		            , B.REQUEST_ORG_NM AS ACTION_SECTION_NAME		            , B.REQUEST_ORG_CD AS ACTION_SECTION_CODE		            , B.REQUEST_USER_NM AS ACTION_PERSON_NAME		            , B.REQUEST_USER_ID AS ACTION_PERSION_CODE		            , B.REQUEST_USER_POS_RANK_NM AS ACTION_POSITION_NAME		            , '' AS ACTION_POSITION_CODE		        FROM  TB_STFOLDERNEOFILE A,		              (SELECT R.* FROM TB_STREQTRANS R WHERE R.NEO_GUBUN = '1' AND R.REQUEST_STATUS = 'C' AND R.REFLECTION_FLAG = 'O') B		        WHERE A.FOLDER_ID = B.FOLDER_ID		        AND   A.RECORD_CENTER_ID = '1'		        AND   A.FOLDER_ID = '1'		        AND   A.DEL_FLAG = '0'		    )		) F		ORDER BY F.ACTION_DATE_TIME;


Close(log) : C:\eclipse\workspace\SqlMapXMLParser\rmsCubrid_daemon\rmsPresvFormat\conf\sqlMap\sql\sqlMap-FolderSchema.xml
